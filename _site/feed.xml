<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>NorthCity</title>
    <description>åœ¨è¿™é‡Œæ¢ç´¢iOSçš„ä¸€åˆ‡ã€‚</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Wed, 30 Aug 2017 23:20:33 +0800</pubDate>
    <lastBuildDate>Wed, 30 Aug 2017 23:20:33 +0800</lastBuildDate>
    <generator>Jekyll v3.5.1</generator>
    
      <item>
        <title>iOSé¡¹ç›®ä¸­å¸¸ç”¨çš„â€œæ‰“è¡¥ä¸â€æŠ€å·§</title>
        <description>&lt;h1 id=&quot;iosé¡¹ç›®ä¸­å¸¸ç”¨çš„æ‰“è¡¥ä¸æŠ€å·§&quot;&gt;iOSé¡¹ç›®ä¸­å¸¸ç”¨çš„â€œæ‰“è¡¥ä¸â€æŠ€å·§&lt;/h1&gt;

&lt;p&gt;å—¯ã€‚ã€‚æ€ä¹ˆå¼€ç¯‡å‘¢&lt;/p&gt;

&lt;p&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ã€‚&lt;/p&gt;

&lt;p&gt;(ä¸€ä¸ªå°æ—¶ã€‚ã€‚æ“è„šæ¯›è‹¦æ€ä¸­ã€‚ã€‚)&lt;/p&gt;

&lt;p&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å‘µå‘µï¼Œä½ ä»¥ä¸ºåšä¸»çœŸçš„ä¸çŸ¥é“æ€ä¹ˆå¼€ç¯‡ä¹ˆï¼Œè¿™é‡ŒèŠ±äº†ä¸€ä¸ªå°æ—¶çš„æ—¶é—´å…¶å®æ˜¯å¦æœ‰æ·±æ„çš„å¥½ä¹ˆï¼Œæˆ‘çš„å¥—è·¯å°±æ˜¯è¿™ä¹ˆæ¹¿ï¼ï¼ï¼Œå…¶å®åšä¸»æ˜¯ä¸ºäº†é˜è¿°ä¸€ä¸ªé—®é¢˜ï¼å°±æ˜¯å¦‚æœåªæƒ³äº†ä¸€ä¸ªæ ‡é¢˜ï¼Œå†…å®¹å´ä¸çŸ¥é“æ€ä¹ˆç»„ç»‡å°±ä¼šæ˜¯è¿™æ ·çš„æ…¢æ€§å°´å°¬ç—‡ã€‚å°±åƒæˆ‘ä»¬åšé¡¹ç›®çš„æ—¶å€™ç»å¸¸è„‘è¢‹ä¸€çƒ­ï¼ŒäºŒè¯ä¸è¯´ä¸Šæ¥å°±æ’¸ä»£ç ã€‚ç„¶åå°±å‘ç°æ¡†æ¶ä¸è¡Œï¼Œä¸å¤Ÿçµæ´»æ— æ³•æ‰©å±•ï¼ŒåŠŸèƒ½ç¼ºå¤±ï¼ç„¶ååœ¨ä½ å‡†å¤‡è°ƒæ•´æ¶æ„çš„æ—¶å€™ï¼Œäº§å“ç»ç†å°±è·³å‡ºæ¥è¡¥ä¸Šä¸€åˆ€â€”â€”æ”¹éœ€æ±‚ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2016-5-25-pic1.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è¿™ç§ç»æœ›ï¼Œæˆ‘ä»¬éƒ½ç»å†è¿‡ï¼&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2016-5-25-pic2.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;äº§å“ç»ç†å¸¸ç”¨å¿…æ€ï¼š&lt;/p&gt;

&lt;p&gt;ã€ç”¨æˆ·ååº”ï¼ŒæŒ‰é’®åŒå‡»ä¼šæœ‰é”™è¯¯ï¼Œæ‰€ä»¥ä½ æŠŠæ•´ä¸ªé¡¹ç›®æœ‰äº¤äº’çš„æ§ä»¶éƒ½è®¾ç½®ä¸ºä¸èƒ½åŒå‡»å§ï¼Œå¹²å·´çˆ¹ã€&lt;/p&gt;

&lt;p&gt;â€”â€”&lt;img src=&quot;https://daiweilai.github.io/img/post/2016-5-25-pic3.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ã€è¿™ä¸ªè¾“å…¥æ¡†æ€ä¹ˆèƒ½è¾“å…¥ğŸµğŸµğŸµè¿™ä¸ªå‘¢ï¼ŒæŠŠæ‰€æœ‰çš„è¾“å…¥æ¡†éƒ½ç¦æ­¢è¾“å…¥ä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿å§ï¼Œä¹ˆä¹ˆå“’ã€&lt;/p&gt;

&lt;p&gt;â€”â€”è¿™ä¸ªæ˜¯emojiï¼Œå¹¶æ²¡æœ‰è¿™ä¹ˆä¹±ä¸ƒå…«ç³Ÿã€‚ã€‚&lt;/p&gt;

&lt;p&gt;ã€å“¦ä¹‹å‰å¿˜äº†å®šä¹‰ï¼Œç»™æ‰€æœ‰çš„è¾“å…¥æ¡†éƒ½é™åˆ¶å¤§æ•°å§ã€ç»™æ‰€æœ‰çš„é¡µé¢éƒ½åŠ ä¸Šè¿”å›æ‰‹åŠ¿å§ï¼Œç»™æ‰€æœ‰çš„â€¦â€¦ã€&lt;/p&gt;

&lt;p&gt;ã€çº¿ä¸Šæœ‰å‡ ä¸ªé¡µé¢æš‚æ—¶ä¸éœ€è¦äº†ï¼Œèƒ½å±è”½æ‰ä¹ˆã€&lt;/p&gt;

&lt;p&gt;ã€‚ã€‚ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘èƒ½å’Œäº§å“æ¢è®¨ä¸€ä¸‹å¼•åŠ›æ³¢çš„æ¢æµ‹ä¸å¹¿ä¹‰ç›¸å¯¹è®ºçš„å¿…ç„¶è”ç³»ä¹ˆï¼Ÿè€å­å¼„æ­»ä½ ä¸«çš„&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2016-5-25-pic4.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æˆ‘æƒ³é¡¹ç›®æ–°äººå‡ ä¹éƒ½é‡åˆ°è¿‡è¿™äº›å‘å§ï¼Œäº§å“ç»ç†ä¸ä¸“ä¸šåœ¨ä¸€èˆ¬çš„å…¬å¸é‡Œæ˜¯å¸¸æ€ï¼Œç°åœ¨çš„äº’è”ç½‘ï¼Œä¸€è¨€ä¸åˆå°±æ”¹éœ€æ±‚ï¼Œä¹Ÿæ˜¯ä¸ªå¸¸æ€ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯å¼ºå¤§çš„çŒ¿ç±»ä»¬ï¼Œå†³ä¸èƒ½å±ˆæœäºè¿™ç§å¸¸æ€ï¼Œå˜æ€èµ·æ¥ï¼ï¼&lt;/p&gt;

&lt;p&gt;åªè¦åŠªåŠ›å¾®ç¬‘ï¼Œå‘½è¿ä¹Ÿä¼šæƒ§æ€•æˆ‘çš„ç ç‰™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2016-5-25-pic5.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å›åˆ°è¿™æ¬¡çš„ä¸»é¢˜â€”â€”ã€æ‰“è¡¥ä¸ã€&lt;/p&gt;

&lt;p&gt;ä»€ä¹ˆæ˜¯æ‰“è¡¥ä¸å‘¢ï¼Œæ‰“è¡¥ä¸æ˜¯ä½¿ç”¨é’ˆçº¿åœ¨ç»‡ç‰©ä¸Šè¾…ä»¥ç ´å¸ƒä»¥ç¼è¡¥ä¸Šï¼Œæ˜¯æ°‘é—´ä¼Ÿå¤§çš„ä¼ ç»Ÿæ‰‹å·¥è‰ºä¹‹ä¸€ã€‚è¯¥æŠ€è‰ºä¸¥è°¨ç²¾å¯†ï¼Œè®²ç©¶æ–½é’ˆï¼Œé’ˆæ³•æ‰€è¾¾ç™¾ä½™ç§ï¼Œå¸¸è§çš„æœ‰æ»šã€é“ºã€ç›–ã€æˆ³ç­‰ç­‰ï¼Œé’ˆè„šæ•´é½ã€æºè‰²è½»æŸ”ã€è™šå®åˆåº¦ã€å˜åŒ–ä¸°å¯Œã€‚ä¸€åƒå¤šå¹´æ¥ï¼Œé€æ­¥å½¢æˆã€‚ã€‚ã€‚è¯¶ï¼Œè¿™è€æ¯›ç—…å°±æ˜¯æ”¹ä¸äº†ï¼Œæ€»æ˜¯å–œæ¬¢ä¸€æœ¬æ­£ç»çš„æ‰¯çŠŠå­~~&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2016-5-25-pic6.jpeg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;åšä¸»è¦è¯´çš„ã€æ‰“è¡¥ä¸ã€å¿…ç„¶ä¸æ˜¯é’ˆçº¿æ´»ï¼å†æ¬¡å£°æ˜è¿™é‡Œæ˜¯æŠ€æœ¯åšå®¢ï¼Œå¹¶éä¼ ç»ŸæŠ€è‰ºæˆå—ä¸­å¿ƒï¼&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬ç»™ä¸€ä¸ªä¸œè¥¿æ‰“è¡¥ä¸ï¼ŒåŸå› å°±ä¸¤ä¸ªå­—ï¼ç ´ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬ç»™é¡¹ç›®æ‰“è¡¥ä¸ä¹Ÿæ˜¯å› ä¸ºé¡¹ç›®ç ´äº†ï¼Œå°±åƒé‡åˆ°ä¸Šé¢çš„æ•´æ”¹éœ€æ±‚ï¼ŒåŠŸèƒ½ä¸å®Œå–„äº†ï¼ŒåŠŸèƒ½ç¼ºå¤±äº†æˆ‘ä»¬å°±æœ‰äº†æ‰“è¡¥ä¸çš„å¿…è¦äº†ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨iOSä¸­æ‰“è¡¥ä¸ï¼Œæˆ‘ä»¥ä¿®è¡¥æ—¶æœºä¸ºä¸»åˆ†ä¸ºä¸¤ç§æ‰“è¡¥ä¸çš„æ–¹å¼ï¼Œ&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;å¼€å‘ä¸­çš„æ‰“è¡¥ä¸&lt;/li&gt;
  &lt;li&gt;çº¿ä¸Šçš„æ‰“è¡¥ä¸&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;å¼€å‘ä¸­ä¿®è¡¥&quot;&gt;å¼€å‘ä¸­ä¿®è¡¥&lt;/h2&gt;

&lt;p&gt;æ—©çŸ¥ä»Šæ—¥ï¼Œä½•å¿…å½“åˆã€‚ä½•å‡ºæ­¤æ„Ÿæ…¨ï¼Ÿå‡å¦‚å¼€å§‹é¡¹ç›®çš„æ—¶å€™æ¡†æ¶è®¾è®¡å¥½ä¸€ç‚¹ï¼Œä»Šå¤©è¿˜ä¼šæ²¦è½åˆ°æ‰“è¡¥ä¸ä¹ˆï¼Ÿï¼Ÿä½†æ˜¯è€æµæ°“çš„æ•æ·å¼€å‘ã€å‘çˆ¹çš„å¼€å‘å‘¨æœŸã€é€†å¤©çš„ç”¨æˆ·éœ€æ±‚ä¹‹ä¸‹ä½•æ¥ä¼˜ç§€çš„æ¡†æ¶æ­è®¾å•Šï¼Ÿ&lt;/p&gt;

&lt;p&gt;çœ‹ç€äº§å“æ–¹æ¡ˆï¼Œæˆ‘é¢¤æŠ–çš„å°å˜´åˆšè¦å¼ å¼€è¯´ã€ä¸€ä¸ªç¤¼æ‹œæ¡†æ¶æ­è®¾ï¼Œä¸¤ä¸ªç¤¼æ‹œç¼–ç ï¼Œåº”è¯¥â€¦ã€ç„¶è€Œè€æ¿æ‹æ‹ä½ çš„è‚©è†€ã€å°ä¼™å­ è¿™ä¸ªå‘¨æœ«å¼„å‡ºæ¥ï¼Œæˆ‘ä»¥å‰ä¹Ÿæ˜¯åšå¼€å‘çš„ï¼Œæ—¶é—´å¾ˆå……è¶³å“¦ï¼Œä¸è®¸éª—æˆ‘å–”~ã€ï¼Œè€æ¿ä½ ç¡®å®šä½ ä¸æ˜¯ä»¥å‰åšPPTçš„ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2016-5-25-pic7.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªæ—¶å€™çš„å¿ƒæƒ…å°±è·Ÿåˆšçœ‹å®Œã€Šå°æ—¶ä»£ã€‹ä¸€æ ·æ†‹å±ˆã€‚æ‰€ä»¥å¼€å‘ä¸­éœ€è¦æ‰“è¡¥ä¸çš„çŠ¶å†µå¤ªå¤šäº†ï¼Œæ”¹ç»“æ„ï¼Œé‡å†™ï¼Œæ—¶é—´ä¸å¤Ÿï¼Œæ‰€ä»¥åªèƒ½æ‰“è¡¥ä¸äº†ï¼&lt;/p&gt;

&lt;h3 id=&quot;aop&quot;&gt;AOP&lt;/h3&gt;

&lt;p&gt;å½“åˆå­¦ä¹ JavaEEçš„æ—¶å€™æ¥è§¦äº†è¯¥ç†å¿µï¼Œåæ­£æ–‡é‚¹é‚¹çš„æ¦‚å¿µåšä¸»ä¹Ÿä¸è´´å‡ºæ¥äº†ï¼ŒAOPå°±æ˜¯é¢å‘åˆ‡é¢ç¼–ç¨‹çš„ç®€ç§°ï¼Œè¯´ç™½äº†å°±æ˜¯ä¸€ä¸ªæ‰“è¡¥ä¸çš„ç¼–ç¨‹æ–¹å¼ï¼ä¸ä¾µå…¥å¼åœ°ç»™ä¸€ä¸ªæ–¹æ³•æ·»åŠ ä»£ç ã€‚å† åä¹‹ã€ æ¶¦ç‰©ç»†æ— å£°ã®æŠ€èƒ½ã€ï¼Œå˜¿å˜¿ï¼Œæœ‰ä¸ªç‰‡å‡åçš„æ ‡é¢˜ï¼Œä½ ä»¬éƒ½å…´å¥‹äº†èµ·æ¥å‘¢~~&lt;/p&gt;

&lt;p&gt;è‡³äºAOPçš„åŸºæœ¬ç†å¿µã€é€‚ç”¨åœºæ™¯ç­‰ï¼Œå„ä½çœ‹å®˜å°±è‡ªè¡ŒWikiå§ã€‚ä»€ä¹ˆç«Ÿç„¶è¯´åšä¸»å…¶å®ä¹Ÿä¸æ‡‚ä»€ä¹ˆæ˜¯AOPï¼ï¼ï¼&lt;img src=&quot;https://daiweilai.github.io/img/post/2016-5-25-pic8.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;çŸ¥é“ä»€ä¹ˆæ˜¯å­¦éœ¸ä¹ˆï¼å°±æ˜¯ä¸¾æ‰‹æŠ•è¶³é«˜åˆ†æ‹¿ä¸‹ã€ä¿¡æ‰‹æ‹ˆæ¥ç†è®ºæ¥è¾©ã€å›çœ¸ä¸€ç¬‘å…¨æ˜¯è´¥å°†ï¼ä¸è¦æ€€ç–‘ï¼è¿™å°±æ˜¯åšä¸»ï¼ŒçœŸå­¦éœ¸ï¼&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2016-5-25-pic9.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è¯´äº†è¿™ä¹ˆå¤šï¼Œåˆ°åº•æ€ä¹ˆç”¨AOPæ–¹å¼ç»™é¡¹ç›®æ‰“è¡¥ä¸å‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬æ¥æ‰“ä¸ªæ —å­å§ï¼&lt;/p&gt;

&lt;p&gt;ã€åªå…è®¸æ‰€æœ‰çš„æ§ä»¶çš„å•å‡»ã€&lt;/p&gt;

&lt;p&gt;ä¸€ä¸ªé¡¹ç›®ä¸­å°‘è¯´æˆç™¾ä¸Šåƒçš„æ§ä»¶ï¼Œå³ä½¿æœ‰äº›æ§ä»¶å¤ç”¨ï¼Œé¡¹ç›®ä¸­æ§ä»¶çš„æ•°é‡ä¹Ÿä¼šå‡ åä¸Šç™¾çš„UIæ§ä»¶æ— æ³•å¤ç”¨ï¼Œé‚£æ€ä¹ˆæŠŠè¿™å‡ åä¸Šç™¾çš„æ§ä»¶éƒ½ç¦æ­¢åŒå‡»å‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬çŸ¥é“UIViewæœ‰ä¸ªå±æ€§&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;@property(nonatomic,getter=isExclusiveTouch) BOOL       exclusiveTouch __TVOS_PROHIBITED;         // default is NO
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚æœä¸€ä¸ªViewè®¾ç½®&lt;code class=&quot;highlighter-rouge&quot;&gt;exclusiveTouch&lt;/code&gt;ä¸ºYESçš„è¯ï¼Œé‚£ä¹ˆè¯¥Viewå°±ä¼šç‹¬å äº‹ä»¶ï¼Œå°±æ˜¯å½“ç‚¹å‡»è‡ªå·±çš„æ—¶å€™ï¼Œå…¶ä»–æ‰€æœ‰çš„Viewçš„äº‹ä»¶éƒ½ä¼šè¢«Blockï¼Œå¹¶ä¸”å½“å‰çš„Viewä¹Ÿåªèƒ½å•æ¬¡ç‚¹å‡»ã€‚åˆ©ç”¨è¿™ä¸ªç‰¹æ€§æˆ‘ä»¬å°±èƒ½æŠŠæ‰€æœ‰çš„æ§ä»¶çš„è¿™ä¸ªå±æ€§éƒ½è®¾ç½®ä¸ºYESä¸å°±è¡Œäº†å˜›ã€‚&lt;/p&gt;

&lt;p&gt;ç„¶åå­åƒå­åƒåœ°ç»™å‡ åä¸Šç™¾ä¸ªæ§ä»¶éƒ½è®¾ç½®äº†è¯¥å±æ€§ï¼Œçœ‹åˆ°éƒ½ç´¯ï¼Œè¿™æ ·çš„æ–¹å¼æ‰“è¡¥ä¸ï¼Œé‚£ä¸‡ä¸€äº§å“åˆæ¥äº†è¯´ä¸è¦ç¦æ­¢åŒå‡»å‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2016-5-25-pic10.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ä½ è¿™ä¸æ˜¯åœ¨ç»™é¡¹ç›®æ‰“è¡¥ä¸ï¼Œæ˜¯åœ¨æ‰“è‡ªå·±ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬æœ‰ä¸‹é¢è¿™æ ·æŠ•æœºçš„æ–¹å¼ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;@implementation MyView //ç»§æ‰¿è‡ªUIView
+ (void)load{ //loadæ–¹æ³•æ˜¯æ‰€æœ‰ç»§æ‰¿NSObjectç±»éƒ½æ‹¥æœ‰çš„ç±»æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥ç†è§£ä¸ºè¿™ä¸ªæ–¹æ³•åŠ è½½çš„ç°å¸¸æ—©ç°å¸¸çš„æ—©ï¼ï¼
    static dispatch_once_t onceToken;
    dispatch_once(&amp;amp;onceToken, ^{
        Class class = [self class];
        //æŠŠåŸæ¥çš„æ–¹æ³•æ¢æ‰
        SEL originalSelector = @selector(willMoveToSuperview:);//Viewè¢«åŠ åˆ°çˆ¶Viewçš„æ—¶å€™çš„å›è°ƒ
        SEL swizzledSelector = @selector(ddwillMoveToSuperview:);
        
        Method originalMethod = class_getInstanceMethod(class, originalSelector);
        Method swizzledMethod = class_getInstanceMethod(class, swizzledSelector);
        
        BOOL didAddMethod =class_addMethod(class,
                                           originalSelector,
                                           method_getImplementation(swizzledMethod),
                                           method_getTypeEncoding(swizzledMethod));
        
        if (didAddMethod) {
            class_replaceMethod(class,
                                swizzledSelector,
                                method_getImplementation(originalMethod),
                                method_getTypeEncoding(originalMethod));
        } else {
            method_exchangeImplementations(originalMethod, swizzledMethod);
        }
    });
}

- (void)ddwillMoveToSuperview:(UIView *)newSuperview{
    [self ddwillMoveToSuperview:newSuperview];//è¿™ä¸ªåœ°æ–¹ å¯è‡ªè¡Œèµ„æ–™ä¸ºä½•ç”¨self
    [self setExclusiveTouch:YES];
}

@end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å…¶å®è¿™å°±å°±æ˜¯OCçš„Runtimeçš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;Method Swizzling&lt;/code&gt;ï¼Œå¾ˆè½»æ˜“åœ°å®ç°äº†AOPæ‰“è¡¥ä¸ï¼Œè¿™æ ·æˆ‘ä»¬çš„UIViewéƒ½åªèƒ½å•å‡»å•¦ï¼Œå“ˆå“ˆï¼Œå‡»æºƒäº§å“+1ã€‚&lt;/p&gt;

&lt;p&gt;æ›´å¤šçš„èµ„æ–™ä»»æ„é—¨:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://tech.glowing.com/cn/method-swizzling-aop/&quot; target=&quot;_blank&quot;&gt;Method Swizzling å’Œ AOP å®è·µ&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å½“ç„¶å¾ˆå¤šä¼˜ç§€çš„å¼€æºé¡¹ç›®éƒ½æ˜¯æ¶¦ç‰©ç»†æ— å£°çš„è€å¸æœºï¼Œä»–ä»¬çš„åº“ä¸éœ€è¦æ·»åŠ ä»»ä½•ä»£ç å°±èƒ½è·‘èµ·æ¥ï¼Œå…¶å®è¿™ä¸ªæ–¹å¼å°±æ˜¯AOPï¼Œå°±æ˜¯ä½¿ç”¨äº†loadæ–¹æ³•å’ŒRuntimeï¼&lt;/p&gt;

&lt;p&gt;æ¯”å¦‚ç»™é”®ç›˜æ‰“è¡¥ä¸è€å¸æœºçš„ &lt;a href=&quot;https://github.com/hackiftekhar/IQKeyboardManager&quot; target=&quot;_blank&quot;&gt;IQKeyboardManager&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;fxxkingdã€‚ã€‚ å™¢ä¸ æ˜¯forking dogå›¢é˜Ÿçš„ç»™è¿”å›æ‰‹åŠ¿æ‰“è¡¥ä¸çš„&lt;a href=&quot;https://github.com/forkingdog/UITableView-FDTemplateLayoutCell&quot; target=&quot;_blank&quot;&gt;UITableView-FDTemplateLayoutCell&lt;/a&gt; è¿™ä¸ªå›¢é˜Ÿè¿˜æ˜¯éå¸¸æ£’çš„ï¼ä»–ä»¬çš„å¼€æºé¡¹ç›®è´¨é‡éƒ½å¾ˆé«˜ï¼å€¼å¾—å­¦ä¹ ï¼&lt;/p&gt;

&lt;h3 id=&quot;category&quot;&gt;Category&lt;/h3&gt;

&lt;p&gt;Categoryå¯ä»¥ç»™ä»»æ„ä¸€ä¸ªç»§æ‰¿è‡ªNSObjectçš„ç±»æ·»åŠ æ–¹æ³•ï¼Œé‡å†™æ–¹æ³•ï¼ å…¶ä½œç”¨å°±æ˜¯ä¸ºäº†è½»ç»§æ‰¿çš„ï¼Œæ‰€ä»¥åˆ©ç”¨CategoryåŒæ ·å¯ä»¥ç»™é¡¹ç›®æ‰“è¡¥ä¸ï¼&lt;/p&gt;

&lt;p&gt;åŒæ ·çš„é—®é¢˜&lt;/p&gt;

&lt;p&gt;ã€åªå…è®¸æ‰€æœ‰çš„æ§ä»¶çš„å•å‡»ã€&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å¯ä»¥ç»™UIViewå†™ä¸€ä¸ªCategory&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;#import &quot;UIView+SingleTap.h&quot;

@implementation UIView(SingleTap)
//è¯¥æ–¹æ³•ä¼šç›´æ¥è¦†ç›–åŸViewçš„æ–¹æ³•
-(BOOL)isExclusiveTouch{ 
    return YES;
}
@end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸è¶³ä¹‹å¤„å°±æ˜¯åœ¨ä½¿ç”¨çš„æ—¶å€™å¿…é¡»å¼•ç”¨è¯¥Categoryçš„å¤´æ–‡ä»¶&lt;/p&gt;

&lt;p&gt;å½“ç„¶å¦‚æœä½ ç¡®å®šè¦å¹²æ‰æ‰€æœ‰æ§ä»¶çš„åŒå‡»ï¼Œä¹Ÿå¯ä»¥åœ¨Pché¢„ç¼–è¯‘å¤´æ–‡ä»¶ä¸­å¼•å…¥è¯¥Categoryï¼Œè¿™æ ·æ•´ä¸ªé¡¹ç›®çš„æ¯ä¸ªæ–‡ä»¶é»˜è®¤éƒ½ä¼šå¼•å…¥è¿™ä¸ªCategoryï¼Œä¸€åŠ³æ°¸é€¸äº†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;notification&quot;&gt;Notification&lt;/h3&gt;

&lt;p&gt;åˆ©ç”¨é€šçŸ¥ä¹Ÿèƒ½ç»™é¡¹ç›®ä¿®ä¿®è¡¥è¡¥ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ªäººè®¤ä¸ºä½œä¸ºä¸€ä¸ªiOSå¼€å‘è€…é¦–å…ˆéƒ½è¦æœ‰ä¸€å®šçš„YYèƒ½åŠ›ï¼æ€ä¹ˆè¯´ï¼Ÿå› ä¸ºæˆ‘ä»¬å‡ ä¹ä¸å¯èƒ½çœ‹åˆ°åº”ç”¨å±‚æ¡†æ¶æºç ï¼Œæ‰€ä»¥å¾ˆå¤šå®ç°æœºåˆ¶åªèƒ½é çŒœï¼ä¹Ÿå› ä¸ºè¿™ç§çŠ¶å†µï¼Œæˆ‘è§‰å¾—iOSeréƒ½åº”è¯¥å…»æˆä¸€ä¸ªç™–å¥½â€”â€”å¯¹è‹¹æœæš´éœ²çš„æ–¹æ³•å’Œå±æ€§åˆ—è¡¨è¦è¿‘ä¹ç‹‚çƒ­åœ°æ„Ÿå…´è¶£ï¼Œæ¯”å¦‚å­¦ä¹ ä¸€ä¸ªæ¡†æ¶çš„æ—¶å€™å¤´æ–‡ä»¶ä¸­æ‰€æœ‰ä¸œè¥¿éƒ½ä¸è¦æ”¾è¿‡ï¼ä¹Ÿåº”è¯¥å­¦ä¼šæ‰«ææ–¹æ³•åˆ—è¡¨å’Œæˆå‘˜å˜é‡çš„æŠ€èƒ½ï¼Œæ¯”å¦‚æœ‰å¥½äº‹è€…æŠŠiOS Runtimeçš„æ‰€æœ‰ç§æœ‰æ¥å£éƒ½æ‰«é¢äº†å‡ºæ¥ &lt;a href=&quot;https://github.com/nst/iOS-Runtime-Headers&quot; target=&quot;_blank&quot;&gt;iOS-Runtime-Headers&lt;/a&gt; è¿™ä¸ªä¸œè¥¿çœŸTMå¤ªèµäº†ï¼ï¼å“ˆå“ˆ&lt;/p&gt;

&lt;p&gt;ç°åœ¨æˆ‘ä»¬æœ‰è¿™æ ·çš„ä¸€ä¸ªéœ€æ±‚&lt;/p&gt;

&lt;p&gt;ã€è®©æ‰€æœ‰çš„UITextFieldä¸å…è®¸è¾“å…¥emojiè¡¨æƒ…ã€&lt;/p&gt;

&lt;p&gt;å¦‚æœåœ¨æ¯ä¸ªä½¿ç”¨äº†UITextFieldçš„åœ°æ–¹ä½¿ç”¨ä»£ç†æ–¹æ³•&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string; 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç„¶åä¸€ä¸ªä¸€ä¸ªå­—ç¬¦çš„æ£€æµ‹ï¼Œå¦‚æœæ˜¯emojiçš„è¯å°±åˆ é™¤ï¼Œæƒ³æƒ³å…¨å±€æœ‰å‡ åä¸Šç™¾çš„UITextFieldï¼Œå°±èŠèŠ±ä¸€ç´§ï¼Œè¿™ä¹ˆå¤šæ”¹èµ·æ¥è›‹ç–¼ï¼Œä»¥åç»´æŠ¤èµ·æ¥è¿˜ä¼šæ›´è›‹ç¢ï¼Œæ‰€ä»¥è¿™ç§æ–¹æ³•æ˜¯ç»ä¸å¯è¡Œçš„ï¼ï¼&lt;/p&gt;

&lt;p&gt;å½“ç„¶å°±æƒ³æƒ³AOPã€å’ŒCategoryçš„æ–¹å¼äº†ï¼Œå½“ç„¶è¿™äº›æ–¹å¼å¿…ç„¶èƒ½åšåˆ°çš„ï¼Œä½†æ˜¯æˆ‘ä»¬è¿™é‡Œè¦ç”¨åˆ«çš„æ–¹æ³•ï¼&lt;/p&gt;

&lt;p&gt;äºŒè¯ä¸è¯´æ’¸å‡º&lt;code class=&quot;highlighter-rouge&quot;&gt;UITextfieldDelegate.h&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰å‡ ä¸ªStringå¸¸é‡ï¼çœ‹åˆ°&lt;code class=&quot;highlighter-rouge&quot;&gt;Notification&lt;/code&gt; å…³é”®å­—å°±ç»é€¼æ˜¯æ³¨å†Œæ¥å—é€šçŸ¥ç”¨çš„äº†ï¼å¯ä»¥çŒœåˆ°UITextFieldåœ¨å„ç§çŠ¶æ€å›è°ƒæ—¶ä¼šå‘å‡ºå¥½å‡ ä¸ªé€šçŸ¥ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;UIKIT_EXTERN NSString *const UITextFieldTextDidBeginEditingNotification;
UIKIT_EXTERN NSString *const UITextFieldTextDidEndEditingNotification;
UIKIT_EXTERN NSString *const UITextFieldTextDidChangeNotification;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ç€å‡ ä¸ªé€šçŸ¥è¿™ä¹ˆåš&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;AppDelegate.m&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions{
    /**
     *  ç›‘å¬å…¨å±€çš„textviewå’Œtextfieldçš„EndEidt
     */
    [[NSNotificationCenter defaultCenter]addObserver:self selector:@selector(enhanceGlobalInputs:) name:UITextFieldTextDidEndEditingNotification object:nil];
    [[NSNotificationCenter defaultCenter]addObserver:self selector:@selector(enhanceGlobalInputs:) name:UITextViewTextDidEndEditingNotification object:nil];
    return YES;
}
   
   
- (void)enhanceGlobalInputs:(NSNotification*)notification{
    //ç§»é™¤emojiè¡¨æƒ… stringByRemovingEmojiæ˜¯æˆ‘ç»™NSStringå†™çš„ä¸€ä¸ªæ‰©å±•ï¼Œç”¨äºç§»é™¤Emoji
    if ([notification.name isEqualToString:@&quot;UITextFieldTextDidEndEditingNotification&quot;]) {
        ((UITextField *)notification.object).text = [((UITextField*)notification.object).text stringByRemovingEmoji];
    }else if([notification.name isEqualToString:@&quot;UITextViewTextDidEndEditingNotification&quot;]){
        ((UITextView *)notification.object).text = [((UITextView*)notification.object).text stringByRemovingEmoji];
    }
    
    //é™åˆ¶å¤§æ•° åªå…è®¸è¾“å…¥10ä½é•¿åº¦çš„æ•°å­— isPositiveFloatæ˜¯ä¸€ä¸ªåˆ¤æ–­å­—ç¬¦ä¸²ä¸­çš„æ•°å­—æ˜¯å¦æ˜¯åˆæ³•æ•°å­—çš„æ–¹æ³•,ç®€å•çš„æ­£åˆ™åŒ¹é…
    NSString*(^limitBigNum)(NSString* num) = ^(NSString* num){
        if ([Tools isPositiveFloat:num]) {
            if (num.length&amp;gt;10) {
                return [num substringWithRange:NSMakeRange(0, 10)];
            }else{
                return num;
            }
        }else{
            return num;
        }
    };
    if ([notification.name isEqualToString:@&quot;UITextFieldTextDidChangeNotification&quot;]) {
        ((UITextField *)notification.object).text = limitBigNum(((UITextField *)notification.object).text);
    }else if([notification.name isEqualToString:@&quot;UITextViewTextDidChangeNotification&quot;]){
        ((UITextView *)notification.object).text = limitBigNum(((UITextView *)notification.object).text);
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;NSString+Emoji.m&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;#import &quot;NSString+Emoji.h&quot;
#include &amp;lt;unicode/utf8.h&amp;gt;

@implementation NSString(Emoji)

- (NSString *)stringByRemovingEmoji {
    NSData *d = [self dataUsingEncoding:NSUTF8StringEncoding allowLossyConversion:NO];//æœ‰æŸè½¬æ¢
    if(!d){
        return nil;
    }
    const char *buf = (char*)d.bytes;
    NSUInteger len = [d length];
    char *str = (char *)malloc(len);//åˆ†é…char*lenå¤§å°çš„å†…å­˜
    unsigned int inputIndex = 0, outpuIndex = 0;
    int uc;//å½“å‰unicodeå­—ç¬¦çš„ç¼–ç  åè¿›åˆ¶è¡¨ç¤º
    while (inputIndex &amp;lt; len) {
        U8_NEXT_UNSAFE(buf, inputIndex, uc);//ä¸€ä¸ªä¸€ä¸ªå­—ç¬¦éå†
        if(0x2100 &amp;lt;= uc &amp;amp;&amp;amp; uc &amp;lt;= 0x26ff) continue;//æ˜¯emojiå°±æ”¾å¼ƒæœ¬è½®å¾ªç¯
        if(0x1d000 &amp;lt;= uc &amp;amp;&amp;amp; uc &amp;lt;= 0x1f77f) continue;//æ˜¯emojiå°±æ”¾å¼ƒæœ¬è½®å¾ªç¯
        U8_APPEND_UNSAFE(str, outpuIndex, uc);//ä¸æ˜¯emojiè¡¨æƒ…ï¼Œæ·»åŠ åˆ°strä¸­
    }
    return [[NSString alloc] initWithBytesNoCopy:str length:outpuIndex encoding:NSUTF8StringEncoding freeWhenDone:YES];
}
@end
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;å®æ›¿æ¢&quot;&gt;å®æ›¿æ¢&lt;/h3&gt;

&lt;p&gt;æœ€åè¿™ç§æ–¹æ³•ä¹Ÿè®¸å¾ˆå¤šäººéƒ½çŸ¥é“æ€ä¹ˆç”¨äº†ï¼ŒiOSçš„ç¼–è¯‘æœºåˆ¶æ˜¯è¿™æ ·çš„ï¼šå¯¹äºæ‹¥æœ‰ç›¸åŒæ–¹æ³•ç­¾åçš„æ–¹æ³•ï¼Œåç¼–è¯‘çš„ä¼šè¦†ç›–è¾ƒæ—©ç¼–è¯‘çš„æ–¹æ³•ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;#pragma mark - é‡å†™NSLog,Debugæ¨¡å¼ä¸‹æ‰“å°æ—¥å¿—å’Œå½“å‰è¡Œæ•°
#if DEBUG
#define NSLog(FORMAT, ...) fprintf(stderr,&quot;\nfunction:%s line:%d content:%s\n&quot;, __FUNCTION__, __LINE__, [[NSString stringWithFormat:FORMAT, ##__VA_ARGS__] UTF8String]);
#else
#define NSLog(FORMAT, ...) nil
#endif
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;iOSæ¡†æ¶çš„NSLogä¼šæ¯”è¾ƒæ—©ç¼–è¯‘ï¼Œä½†æ˜¯æœ€åä¼šè¢«æˆ‘ä»¬åº”ç”¨ä¸­çš„è¦†ç›–æ‰ã€‚&lt;/p&gt;

&lt;p&gt;è¿™æ ·å°±ç­‰äºç»™å…¨å±€çš„NSLogç»™æ‰“ä¸Šä¸€ä¸ªè¡¥ä¸äº†æˆ–è€…è¯´ç»™NSLogå¢å¼ºäº†ï¼è¿™ä¸ªå°±ä¸èµ˜è¿°äº†ã€‚&lt;/p&gt;

&lt;h2 id=&quot;çº¿ä¸Šçš„ä¿®è¡¥&quot;&gt;çº¿ä¸Šçš„ä¿®è¡¥&lt;/h2&gt;

&lt;p&gt;å› ä¸ºè‹¹æœä¸€ä¸ªå¤šç¤¼æ‹œå®¡æ ¸å‘¨æœŸçš„å°¿æ€§ï¼Œç»™ä¸€ä¸ªçº¿ä¸Šçš„é¡¹ç›®æ‰“è¡¥ä¸è¿˜æ˜¯å¾ˆæœ‰æ„ä¹‰çš„ã€‚ä½†æ˜¯çº¿ä¸Šçš„æ‰“è¡¥ä¸æ–¹å¼æ¡ä»¶å°±è¦è‹›åˆ»è®¸å¤šäº†ï¼ä¸€èˆ¬æ˜¯åœ¨é¡¹ç›®ä¸­å…ˆæ¤å…¥ä¸€ä¸ªå¼•æ“ç±»çš„ä¸œè¥¿ï¼Œç„¶åç§»åŠ¨ç«¯å»æœåŠ¡ç«¯è·å–ä¿®è¡¥çš„æŒ‡ä»¤(Luaã€JavaScriptç­‰è„šæœ¬ï¼Œè‡³äºç”¨ä»€ä¹ˆè¯­è¨€å’Œè¿™ä¸ªä¿®è¡¥å¼•æ“çš„è®¾è®¡æœ‰å…³)ï¼Œç„¶åè¿™ä¸ªå¼•æ“ä¼šå°†æŒ‡ä»¤é€šè¿‡ä¸€å®šçš„æ˜ å°„è§„åˆ™ç”Ÿæˆæœ¬åœ°çš„çš„å¯æ‰§è¡ŒæŒ‡ä»¤ï¼Œæ¯”å¦‚OCä¸­å¯ä»¥ä½¿ç”¨Runtimeæ–°å¢ç±»æˆ–è€…ä¿®æ”¹ç±»ï¼Œç„¶åè¾¾åˆ°æ‰“è¡¥ä¸çš„æ•ˆæœï¼Œè¿™ä¹Ÿç§°ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;çƒ­æ›´æ–°&lt;/code&gt;æŠ€æœ¯ï¼ä¸‹é¢çš„éƒ½æ˜¯æˆç†Ÿçš„çƒ­æ›´æ–°å¼•æ“ï¼Œå¯ä»¥å­¦ä¹ ä¸€ä¸‹&lt;/p&gt;

&lt;h3 id=&quot;wax&quot;&gt;wax&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;http://blog.devzeng.com/blog/ios-patch-by-wax.html&quot; target=&quot;_blank&quot;&gt;ä½¿ç”¨Waxç»™ä½ çš„åº”ç”¨ç¨‹åºæ‰“è¡¥ä¸&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;jspatch&quot;&gt;JSPatch&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/bang590/JSPatch&quot; target=&quot;_blank&quot;&gt;JSPatch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ä¸è¿‡å¦‚æœä½ çš„é¡¹ç›®æ”¯æŒäº†çƒ­æ›´æ–°ï¼Œé‚£ä¹ˆäº§å“å°±æ›´åŠ è‚†æ— å¿Œæƒ®äº†ï¼Œå› ä¸ºä½ å¯ä»¥ç»™çº¿ä¸Šçš„é¡¹ç›®æ‰“è¡¥ä¸äº†ï¼Œæ‰€ä»¥ä½ æ‡‚å¾—~~&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2016-5-25-pic11.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ã€è¿™æ ·è¦æ”¹ä¸€ä¸‹ã€ã€‚ã€‚è¢«å“å¾—éƒ½è´¨å£åˆ†ç¦»äº†ï¼&lt;/p&gt;

&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;

&lt;p&gt;è¿™ç¯‡æ–‡ä¸»è¦æ˜¯åˆ†äº«äº†æœ¬äººåœ¨æ­£å¼é¡¹ç›®ä¸­é‡åˆ°æ—¶é—´ç´§è¿«ä½†æ˜¯æ€¥éœ€å˜æ›´éœ€æ±‚çš„æ—¶å€™çš„ä¸€äº›è§£å†³æ–¹æ³•ä¸æ€è·¯ï¼Œéƒ½æ˜¯æ‹™è§ï¼Œéƒ½æ˜¯é‡è·¯å­ï¼Œä½†æ˜¯æˆ‘å°±æ˜¯å–œæ¬¢è¿™æ ·ï¼Œå“ˆå“ˆ ï¼ˆè‡ªå¸¦BGM~æˆ‘å°±æ˜¯çˆ±éŸ³ä¹~åˆ«å«æˆ‘åœä¸‹æ¥~ï¼‰&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯ï¼Œé¢„è§æ€§çš„æ¶æ„è®¾è®¡æ€æƒ³å¯ä»¥è®©ä½ é¿å…æ‰å¾ˆå¤šçš„é‡è·¯å­ï¼Œä¸€ä»½ä»£ç çš„ä¼˜é›…ä»¥åŠå¯é éƒ½æ˜¯åœ¨ä¸€äº›è§„èŒƒçš„è®¾è®¡åŸåˆ™ä¸Šå»ºç«‹èµ·æ¥çš„ï¼Œæ‰€ä»¥å“¦ï¼Œåƒä¸€äº›åŸºæœ¬çš„è®¾è®¡åŸåˆ™æ¯”å¦‚&lt;code class=&quot;highlighter-rouge&quot;&gt;Don't repeat yourself&lt;/code&gt;Â åŸåˆ™ï¼›å°è£…æˆç±»ï¼Œæˆ–è€…åœ¨åŸºç±»ä¸­çš„å°è£…ï¼›ä¼—å¤šè®¾è®¡æ¨¡å¼æœ‰è‰¯å¥½çš„æ‰©å±•å’Œçµæ´»ç‰¹æ€§çš„æŒ‡å¯¼ï¼›åˆæˆ–è€…åˆ©ç”¨å…¶ä»–ç¼–ç¨‹èŒƒå¼å¦‚å‡½æ•°å¼ã€å“åº”å¼æ¥å†™å‡ºæ›´åŠ å¥å£®çµæ´»çš„ä»£ç ï¼Œå¯ä»¥è®©ä½ çš„é¡¹ç›®æ›´åŠ å¥å£®ã€çµæ´»ã€ã€é«˜æ•ˆã€ä¼˜é›…ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2016-5-25-pic12.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æ•£äº†ï¼å›å®¶æŠ„å…šç« é¿é¿é‚ªå»äº†ï¼Œåˆè¦æ”¹éœ€æ±‚ã€‚ã€‚ã€‚ã€‚&lt;/p&gt;
</description>
        <pubDate>Wed, 25 May 2016 20:00:00 +0800</pubDate>
        <link>http://localhost:4000/2016/05/25/iOS%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84-%E6%89%93%E8%A1%A5%E4%B8%81-%E6%96%B9%E6%B3%95/</link>
        <guid isPermaLink="true">http://localhost:4000/2016/05/25/iOS%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84-%E6%89%93%E8%A1%A5%E4%B8%81-%E6%96%B9%E6%B3%95/</guid>
        
        <category>åŸºç¡€æ•´ç†</category>
        
        <category>å¤©æ€çš„éœ€æ±‚å˜æ›´</category>
        
        
      </item>
    
      <item>
        <title>Swiftä¸­çš„Weak Strong Dance</title>
        <description>&lt;h1 id=&quot;swiftä¸­çš„weakstrong-dance&quot;&gt;Swiftä¸­çš„Weak/Strong Dance&lt;/h1&gt;

&lt;p&gt;é©¬ä¸Šåˆè¦è¿‡å¹´äº†ï¼Œè¯¶ï¼Œå†ä¹Ÿä¸èƒ½åƒå½“åˆé‚£æ ·æ— è€»åœ°é€—åˆ©æ˜¯äº†(æˆ‘ä»¬å¹¿ä¸œçš„æ–¹è¨€è®¨çº¢åŒ…çš„æ„æ€)&lt;/p&gt;

&lt;p&gt;å›¾1&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-12-23-pic1.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å›¾2&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-12-23-pic2.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;çœ‹æ¥ä»Šå¹´æ²¡åˆ©äº†&lt;/p&gt;

&lt;p&gt;è°è®©å“¥å·²ç»å·¥ä½œäº†å‘¢ã€‚&lt;/p&gt;

&lt;p&gt;å…¬å¸ä»Šå¹´çš„å¼€å‘ä»»åŠ¡ç®—æ˜¯å®Œç»“äº†ï¼Œè‹¹æœåˆæä¸è´Ÿ(hÇo)è´£(yÃ ng)ä»»(de)åœ°æ”¾åœ£è¯ä¸å®¡æ ¸äº†ï¼Œæ‰€ä»¥è¿™åŠä¸ªæœˆå°±è¯¥æ¸…é—²ä¸‹æ¥äº†ã€‚&lt;/p&gt;

&lt;p&gt;åšä¸»ææŒ‡ä¸€ç®—ï¼ŒSwiftå·²ç»å…»åˆ°2.1äº†ï¼Œå¹¶ä¸”ä¹Ÿå¼€æºäº†ï¼Œè¿™æ ·çœ‹æ¥Swiftä¹Ÿå¤Ÿè‚¥äº†ï¼Œè¯­æ³•ä¹Ÿç»é€¼ä¸ä¼šå†æœ‰å¤§æ”¹åŠ¨äº†ï¼Œæ˜¯è¯¥å†æ¬¡æŠ“èµ·æ¥äº†ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºä»€ä¹ˆè¯´å†å‘¢ï¼Œå…¶å®åœ¨å½“åˆSwift Betaç‰ˆæœ¬çš„æ—¶å€™ï¼Œæˆ‘ä»¬é¡¹ç›®ç»ç†å°è¯•äº†ä¸€ä¸‹palygroundåï¼Œä¸€æ‹æ‰‹ï¼Œæ£’æ£’å“’ï¼Œâ€æˆ‘ä»¬ç”¨Swiftå¼€å‘æ¥ä¸‹æ¥çš„é¡¹ç›®å§â€ï¼Œç„¶åå°±æ˜¯Swift1.0 â€¦ 2.0ï¼Œæ¯ä¸€æ¬¡å‡çº§ï¼Œæ¯ä¸€æ¬¡è¯­æ³•æ›´è¿­ï¼Œæ¯ä¸€æ¬¡XCodeæ‰“å¼€çš„é‚£ä¸€åˆ»éƒ½æ˜¯æ»¡æ±Ÿçº¢ï¼Œé‚£è§¦ç›®æƒŠå¿ƒçš„åœºé¢æ— æ•°æ¬¡è®©åšä¸»å—å°½æŠ˜ç£¨ã€‚æœ€ååº†å¹¸çš„æ˜¯ï¼Œè¿™ä¸ªé¡¹ç›®æ­»äº†ï¼Œå“¦è€¶ï¼&lt;/p&gt;

&lt;p&gt;å¥½å§ï¼Œé‡æ–°æ¡èµ·Swiftå§ï¼Œä»Šå¤©çš„è¿™ç¯‡æ–‡ç« æ˜¯ä¸€ç¯‡æ¿€æƒ…ç¿»è¯‘å¤§ä½œã€‚&lt;/p&gt;

&lt;p&gt;å¥½å§å›åˆ°åšæ–‡çš„ä¸»é¢˜ä¸­æ¥ï¼Œè¿™æ¬¡æˆ‘ä»¬è¯´è¯´â€œWeak/Strong Danceâ€&lt;/p&gt;

&lt;p&gt;åœ¨blockä¸­è§£å†³å¾ªç¯å¼•ç”¨è¦è¿½å¯»çš„&lt;a href=&quot;https://developer.apple.com/videos/play/wwdc2011-322/&quot; target=&quot;_blank&quot;&gt;2011 WWDC Session #322&lt;/a&gt; å½“æ—¶æƒŠè‰³çš„ä»£ç æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;- (void)dealloc
{
  [[NSNotificationCenter defaultCenter] removeObserver:_observer];
}

- (void)loadView
{
  [super loadView];

  __weak TestViewController *wself = self;
  _observer = [[NSNotificationCenter defaultCenter] addObserverForName:@&quot;testKey&quot;
                                                                object:nil
                                                                 queue:nil
                                                            usingBlock:^(NSNotification *note) {
      TestViewController *sself = wself;
      [sself dismissModalViewControllerAnimated:YES];
  }];
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ–è€…å¯ä»¥çœ‹çœ‹&lt;a href=&quot;https://github.com/AFNetworking&quot; target=&quot;_blank&quot;&gt;AFNetWorking&lt;/a&gt; æ˜¯è¿™æ ·ç”¨blockçš„:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;__weak __typeof(self)weakSelf = self;
AFNetworkReachabilityStatusBlock callback = ^(AFNetworkReachabilityStatus status) {
__strong __typeof(weakSelf)strongSelf = weakSelf;
strongSelf.networkReachabilityStatus = status;
if (strongSelf.networkReachabilityStatusBlock) {
strongSelf.networkReachabilityStatusBlock(status);
}
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ‘ä»¬éƒ½å¾ˆç†Ÿæ‚‰Objective-Cä¸­çš„â€œweak/strong danceâ€ï¼Œä½†æ˜¯å¯‚å¯æ— èŠçš„æˆ‘çªç„¶å°±å¾ˆæƒ³çŸ¥é“Swiftè¯­è¨€ä¸­è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿæ˜¯å¦å­˜åœ¨ä¼ è¯´ä¸­çš„æœ€ä½³å®è·µå‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;å¥½å•¦ï¼Œç¿»è¯‘å¼€å§‹ï¼&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://kelan.io/2015/the-weak-strong-dance-in-swift/&quot; target=&quot;_blank&quot;&gt;åŸæ–‡&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;é¦–å…ˆï¼Œæˆ‘ä»¬ç¥­å‡ºä¸€ä¸ªåœ¨é—­åŒ…ä¸­æ²¡æœ‰ä½¿ç”¨weakçš„å¼•ç”¨å¯¼è‡´çš„å¾ªç¯å¼•ç”¨çš„ä¾‹å­&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;C&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)?&lt;/span&gt;

    &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;block&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;doSomething&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;deinit&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Destroying &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;doSomething&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Doing something for &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;one&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;two&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;è¾“å‡º&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;one&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;two&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªå·¨åŸºç¡€åˆæ˜æ˜¾çš„å¾ªç¯å¼•ç”¨çš„ä¾‹å­ï¼Œself -&amp;gt; block -&amp;gt;self&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;deinit&lt;/code&gt; æ–¹æ³•æ˜¯ç»é€¼ä¸ä¼šè¢«æ‰§è¡Œçš„ï¼Œå³ä½¿ä½ æŠŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;c&lt;/code&gt; é‡æ–°æŒ‡å‘&lt;code class=&quot;highlighter-rouge&quot;&gt;nil&lt;/code&gt;æˆ–è€…å…¶ä»–çš„å®ä¾‹ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;c&lt;/code&gt;ä¹Ÿä¸ä¼šè¢«é”€æ¯ï¼Œè¿™å°±æ˜¯é¡½å›ºåˆè°ƒçš®çš„å¾ªç¯å¼•ç”¨äº†ï¼Œå°¤å…¶æ˜¯å½“ä½ æŠŠ&lt;code class=&quot;highlighter-rouge&quot;&gt;c&lt;/code&gt;æŒ‡å‘&lt;code class=&quot;highlighter-rouge&quot;&gt;nil&lt;/code&gt;ä¹‹åï¼Œè¿™ä¸ªå¯¹è±¡ä½ å°±å†ä¹Ÿå¼•ç”¨ä¸äº†äº†ï¼Œå®ƒå°±é™é™çš„èººåœ¨å †å†…å­˜é‡Œé¢ï¼Œé—ä¸–è€Œç‹¬ç«‹ï¼Œç„¶åä½ å°±å †å†…å­˜æ³„éœ²äº†ï¼Œç„¶åä½ å°±æ·¡æ·¡çš„å¿§ä¼¤ä»ä¸‹ä½“ä¼ æ¥ ~ ~æ²¡æœ‰ç„¶åäº†&lt;/p&gt;

&lt;p&gt;å…¶å®Swiftä¸­é—­åŒ…çš„å‚æ•°åˆ—è¡¨(&lt;a href=&quot;http://www.russbishop.net/swift-capture-lists&quot; target=&quot;_blank&quot;&gt;Capture List&lt;/a&gt;) å·²ç»èƒ½å¤Ÿå¾ˆå¥½çš„è®©ä½ è·å–ä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;weak self&lt;/code&gt;æ¥é¿å…å¾ªç¯å¼•ç”¨äº†ï¼Œä½†è¿™è¿˜è¾¾ä¸åˆ°æˆ‘ä»¬çš„è¦æ±‚ï¼Œåªæœ‰&lt;code class=&quot;highlighter-rouge&quot;&gt;weak&lt;/code&gt;æ˜¯æ„ä¸æˆâ€œweak/strong danceâ€æ»´ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ä½¿ç”¨é—­åŒ…å‚æ•°åˆ—è¡¨&quot;&gt;ä½¿ç”¨é—­åŒ…å‚æ•°åˆ—è¡¨&lt;/h2&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;C&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)?&lt;/span&gt;

    &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;block&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;weak&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// &amp;lt;-- è¿™é‡Œåšå‡ºä¸€äº›æ”¹å˜&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;doSomething&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;deinit&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Destroying &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;doSomething&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Doing something for &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;one&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;two&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;è¾“å‡º&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;one&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;Destroying&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;one&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;two&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;è¿™æ ·å°±æ²¡æœ‰å¾ªç¯å¼•ç”¨å•¦~&lt;/p&gt;

&lt;h2 id=&quot;åœ¨é—­åŒ…ä¸­ä½¿ç”¨self&quot;&gt;åœ¨é—­åŒ…ä¸­ä½¿ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;self&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;ä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;[weak self]&lt;/code&gt;æœ‰ä¸€ä¸ªç»†èŠ‚ï¼Œå°±æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;self&lt;/code&gt;åœ¨é—­åŒ…ä¸­ä¼šå˜æˆ&lt;code class=&quot;highlighter-rouge&quot;&gt;Optional&lt;/code&gt; ä»ä¸Šé¢çš„ä»£ç ä¸­&lt;code class=&quot;highlighter-rouge&quot;&gt;self?.doSomething()&lt;/code&gt; å°±å¯ä»¥çœ‹å‡ºæ¥äº†ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯å¦‚æœä½ åœ¨è¿™ä¸ªé—­åŒ…ä¸­ç‹‚è½°ä¹±ç‚¸çš„ä½¿ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;selfï¼Ÿ&lt;/code&gt; ï¼ˆå¤šæ¬¡ä½¿ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;selfï¼Ÿ&lt;/code&gt;ï¼‰ï¼Œé—®é¢˜å°±æ¥äº†ï¼Œå› ä¸ºè¿™ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;selfï¼Ÿ&lt;/code&gt;æ˜¯ä¸€ä¸ªå¼±å¼•ç”¨çš„ï¼Œé‚£ä¹ˆä½ æ²¡æ³•ç¡®å®šåœ¨è¿™ä¸ªé—­åŒ…ä¸­æ‰€æœ‰çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;selfï¼Ÿ&lt;/code&gt;æ“ä½œéƒ½èƒ½æ‰§è¡Œå®Œæ¯•ï¼Œæ¯•ç«Ÿè‹¥å¼•ç”¨çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;self&lt;/code&gt;å¯èƒ½éšæ—¶éƒ½æŒ‚æ‰ï¼Œç„¶åæ€’ä¸¾ä¸€ä¸ªæ —å­ï¼š&lt;/p&gt;

&lt;p&gt;å›¾4&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-12-23-pic4.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;C&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;deinit&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Destroying C&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;doClosure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;dispatch_async&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;dispatch_get_global_queue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;weak&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;before sleep&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;usleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;after sleep&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// Optional, so we can set it to nil&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;doClosure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;nf&quot;&gt;dispatch_async&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;dispatch_get_global_queue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;usleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// This will dealloc c&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nf&quot;&gt;dispatch_main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;è¾“å‡º&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;before&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;Destroying&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;C&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;å°æç¤ºï¼šå½“ç„¶ä¸€èˆ¬æ¥è¯´åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;dispatch_async()&lt;/code&gt;ä¸­ä½ ä¸å¿…æ‹…å¿ƒä¼šæœ‰å¾ªç¯å¼•ç”¨ï¼Œå› ä¸ºselfå¹¶ä¸ä¼šæŒæœ‰&lt;code class=&quot;highlighter-rouge&quot;&gt;dispatch_async()&lt;/code&gt;çš„blockï¼Œæ‰€ä»¥ä¸Šè¿°çš„ä»£ç ä¸­å¹¶ä¸ä¼šçœŸçš„å¯¼è‡´å¾ªç¯å¼•ç”¨ï¼Œå¦‚æœä½ çš„é—­åŒ…å¹¶ä¸æ˜¯å¾ˆæ³¨é‡ç»“æœçš„ï¼Œé‚£ä¹ˆ&lt;code class=&quot;highlighter-rouge&quot;&gt;self&lt;/code&gt;ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;nil&lt;/code&gt;é—­åŒ…å°±ä¸ä¼šå†æ‰§è¡Œï¼Œè¿™ä¸ªè¿˜æ˜¯æŒºæœ‰ç”¨çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä¸Šè¿°çš„ä»£ç ä¸­ä¸ä¼šæ‰“å°&lt;code class=&quot;highlighter-rouge&quot;&gt;after sleep&lt;/code&gt;ï¼Œå› ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;selfï¼Ÿ&lt;/code&gt;åœ¨æ‰“å°è¿™å¥è¯ä¹‹å‰å·²ç»æŒ‚æ‰äº†ã€‚&lt;/p&gt;

&lt;p&gt;é€šå¸¸è¿™ç§æ— æ ¹ä¹‹æºçš„bugå¯ä»¥æŠŠä½ æ•´çš„åŠæ­»ã€‚æ‰€ä»¥é€šå¸¸é‡åˆ°è¿™ç§é—­åŒ…ä¸­å¤šæ¬¡è¯•ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;selfï¼Ÿ&lt;/code&gt;çš„æ“ä½œçš„æ—¶å€™ï¼Œä¸€èˆ¬ä¼šæŠŠ&lt;code class=&quot;highlighter-rouge&quot;&gt;selfï¼Ÿ&lt;/code&gt;å˜ä¸ºåˆç²—åˆå£®çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;strong self&lt;/code&gt;ï¼Œï¼ˆåšä¸»ä¹Ÿæ˜¯åˆç²—åˆå£®çš„ï¼Œæ‚è„¸~~ï¼‰è¿™å°±æ˜¯ä¼ è¯´ä¸­çš„â€œweak/strong danceâ€ï¼Œè¿™ä¸ªèˆè¹ˆï¼Œé¢ï¼Œä»€ä¹ˆé¬¼ï¼Œä¸ºä»€ä¹ˆæŠŠè¿™ä¸ªæŠ€æœ¯å«åšdanceå•Šï¼Œæˆ‘è§‰å¾—å«åš&lt;code class=&quot;highlighter-rouge&quot;&gt;ç¾é˜Ÿè§£ç¦å¥¥ä¹‰æŠ€&lt;/code&gt;è¿˜ä¸é”™ï¼Œå¦‡è”é‡Œé¢çš„ç¾å›½é˜Ÿé•¿ä¹Ÿæ˜¯ç”±&lt;code class=&quot;highlighter-rouge&quot;&gt;weak&lt;/code&gt;å˜æˆ&lt;code class=&quot;highlighter-rouge&quot;&gt;strong&lt;/code&gt;çš„å˜›~ï¼Œå¥½å§ï¼Œæ‰¯å¤ªè¿œï¼ŒèŠèŠ±éƒ½æ‰¯ç–¼äº†ï¼Œæˆ‘ä»¬è¿™æ˜¯åœ¨æŠ€æœ¯ç¿»è¯‘å‘¢ï¼è¦ä¸¥è‚ƒï¼è¦å°Šé‡åŸä½œè€…ï¼æˆ‘ä»¬è¿˜æ˜¯å«danceå§ï¼Œæœ‰äº†è¿™ä¸ªdanceä¹‹åå‘¢ï¼Œæˆ‘ä»¬å°±èƒ½ç¡®ä¿ä¸€æ—¦é—­åŒ…è¢«æ‰§è¡Œï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;self&lt;/code&gt;å°±ä¸ä¼šä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;nil&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯ï¼Œå°±åƒæ–‡ç« å¼€å¤´è¯´çš„ï¼Œå¯¹äºåœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;Swift&lt;/code&gt;çš„â€œweak/strong danceâ€ä¸­å˜å›strongçš„è¿™éƒ¨åˆ†çš„æœ€ä½³å®è·µæ˜¯ä»€ä¹ˆæˆ‘ä¹Ÿä¸æ˜¯å¾ˆç¡®å®šçš„ã€‚ã€‚ã€‚&lt;/p&gt;

&lt;h2 id=&quot;è·å–å¼ºå¼•ç”¨çš„ä¸€äº›æƒ³æ³•&quot;&gt;è·å–å¼ºå¼•ç”¨çš„ä¸€äº›æƒ³æ³•&lt;/h2&gt;

&lt;h3 id=&quot;ä½¿ç”¨å¯é€‰ç»‘å®šif-let&quot;&gt;ä½¿ç”¨å¯é€‰ç»‘å®š&lt;code class=&quot;highlighter-rouge&quot;&gt;if let&lt;/code&gt;&lt;/h3&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;doClosure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;dispatch_async&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;dispatch_get_global_queue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;weak&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;strongSelf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// &amp;lt;-- è¿™é‡Œå°±æ˜¯ç²¾é«“äº†&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;strongSelf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;before sleep&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;usleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;strongSelf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;after sleep&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// or in Swift 2, using `guard let`:&lt;/span&gt;
&lt;span class=&quot;nf&quot;&gt;dispatch_async&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;dispatch_get_global_queue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;weak&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;guard&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;strongSelf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// &amp;lt;-- è¿™é‡Œå°±æ˜¯ç²¾é«“äº†&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;strongSelf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;before sleep&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;usleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;strongSelf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;after sleep&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;è¾“å‡º&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;before&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;after&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;Destroying&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;C&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ä¼˜ç‚¹ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;å¾ˆæ˜æ˜¾çš„çœ‹å‡ºæ•´ä¸ªæ“ä½œçš„æµç¨‹&lt;/li&gt;
  &lt;li&gt;åœ¨é—­åŒ…ä¸­æ‹¿åˆ°äº†éå¯é€‰çš„æœ¬åœ°å˜é‡&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;å¾ˆä¸å¹¸çš„æ˜¯æˆ‘ä»¬ä¸èƒ½&lt;code class=&quot;highlighter-rouge&quot;&gt;if let self = self&lt;/code&gt;ï¼Œå› ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;self&lt;/code&gt;æ˜¯å¸¸é‡ï¼Œä¸å¯å˜ï¼Œè¿™æ ·çš„è¯æˆ‘ä»¬å°±åªèƒ½&lt;code class=&quot;highlighter-rouge&quot;&gt;if let strongSelf = self&lt;/code&gt; åœ¨é—­åŒ…çš„ä½œç”¨åŸŸä¸­éƒ½è¦ä½¿ç”¨ä¸‘é™‹çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;strongSelf&lt;/code&gt;äº†ã€‚&lt;/li&gt;
  &lt;li&gt;åœ¨swiftçš„é—­åŒ…ä¸­ï¼Œå¦‚æœä½ æ²¡æœ‰è¯•ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;strongSelf&lt;/code&gt;è€Œæ˜¯ä½¿ç”¨äº†&lt;code class=&quot;highlighter-rouge&quot;&gt;self&lt;/code&gt;ï¼Œè¿™æ ·ç¼–è¯‘å™¨ä¼šè­¦å‘Šï¼å› ä¸ºè¿™ä¸ªæ—¶å€™&lt;code class=&quot;highlighter-rouge&quot;&gt;self&lt;/code&gt;æ˜¯å¯é€‰çš„å˜›ï¼Œç›¸æ¯”è¾ƒOCä¸­ï¼Œå°±ä¸ä¼šè­¦å‘Šäº†ã€‚(è¿™å¥è¯å“¥è¯»äº†21éï¼Œä¸ºä»€ä¹ˆè§‰å¾—è¿™ä¸ªä¸æ˜¯ç¼ºç‚¹å‘¢)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ä½¿ç”¨withextendedlifetime&quot;&gt;ä½¿ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;withExtendedLifetime&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;åœ¨Swiftçš„æ ‡å‡†åº“ä¸­æœ‰ä¸€ä¸ªå‡½æ•°ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;withExtendedLifetime()&lt;/code&gt;ï¼Œæ„Ÿè§‰å°±åƒAppleè¿™ä¸ªé‡‘é±¼ä½¬æ•…æ„è¯±å¯¼æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªå‡½æ•°æ¥å®ç°â€œweak/strong danceâ€ã€‚&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;/// Evaluate `f()` and return its result, ensuring that `x` is not&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;/// destroyed before f returns.&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;withExtendedLifetime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;@noescape&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Result&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;é‚£å°±è¯•è¯•&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;doClosure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;dispatch_async&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;dispatch_get_global_queue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;weak&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;withExtendedLifetime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;before sleep&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;usleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;after sleep&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ä¼˜ç‚¹ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;é—­åŒ…ä¸­ä¸å†éœ€è¦ä½¿ç”¨ä¸‘é™‹çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;strongSelf&lt;/code&gt;äº†&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;self&lt;/code&gt;è¿˜æ˜¯ä»–å¦ˆå¯é€‰çš„ï¼Œè°ƒç”¨æ–¹æ³•ä»€ä¹ˆçš„è¿˜æ˜¯è¦ï¼ï¼Ÿï¼Œè¿˜æ˜¯è¦è§£åŒ…ï¼Œåšä¸»çªç„¶æƒ³èµ·è‡ªå·±çš„ä¸€ä¸ªæŠ€èƒ½ï¼šå•æ‰‹è§£ï¼Œå‘µå‘µ&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;è‡ªå®šä¹‰ä¸€ä¸ªwithextendedlifetime&quot;&gt;è‡ªå®šä¹‰ä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;withExtendedLifetime()&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;è¿™ä¸ªæ–¹æ³•æ˜¯Â &lt;a href=&quot;https://twitter.com/jtbandes&quot; target=&quot;_blank&quot;&gt;@jtbandes&lt;/a&gt;Â è¿™å“¥ä»¬æƒ³çš„ï¼Œå¤§æ¦‚ä¼šæ˜¯è¿™æ ·ï¼š&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;kd&quot;&gt;extension&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Optional&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;withExtendedLifetime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Wrapped&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;strongSelf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strongSelf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// Then:&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;doClosure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;dispatch_async&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;dispatch_get_global_queue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;weak&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Void&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;withExtendedLifetime&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nv&quot;&gt;$0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;before sleep&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;usleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;nv&quot;&gt;$0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;after sleep&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ä¼˜ç‚¹ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Follows naming conventions set by the standard library.(åŸæ–‡) æ„Ÿè§‰æ²¡ä¼˜ç‚¹~&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;strongSelf&lt;/code&gt;å˜æˆäº†ä½¿ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;$0&lt;/code&gt; ï¼Œåšä¸»è®¤ä¸ºå“¦ï¼Œè¿˜æ˜¯å¾ˆä¸‘é™‹ï¼Œå¹¶ä¸”å¯è¯»æ€§æ›´å·®äº†&lt;/li&gt;
  &lt;li&gt;In this case, I had to add some extra type info to theÂ &lt;code class=&quot;highlighter-rouge&quot;&gt;dispatch_async()&lt;/code&gt;Â closure. Iâ€™m not totally sure why. ä¸çŸ¥é“ä»–è¯´ä»€ä¹ˆé¬¼~&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ç¿»è¯‘è‡³æ­¤ç»“æŸäº†&lt;/p&gt;

&lt;h2 id=&quot;åè®°&quot;&gt;åè®°&lt;/h2&gt;

&lt;p&gt;å…³äºSwiftä¸­ â€œWeak/Strong Danceâ€ï¼Œä¸­çš„Weakéƒ¨åˆ†ï¼Œå¤§å®¶å¯ä»¥å‚é˜…å–µå¤§çš„è¿™ç¯‡æ–‡ç«  &lt;a href=&quot;https://www.baidu.com/link?url=4d2OoIpoCqnc98N8TJ4PiMR2qoqCe4qm-9LnTIUU4yzHwwVR6KaO1EOOSYNuAowX&amp;amp;wd=&amp;amp;eqid=fb7afdf00006201300000005567b8a3c&quot; target=&quot;_blank&quot;&gt;å†…å­˜ç®¡ç†,&lt;em&gt;weak&lt;/em&gt;Â å’ŒÂ &lt;em&gt;unowned&lt;/em&gt;&lt;/a&gt; ã€‚&lt;/p&gt;

&lt;p&gt;ç”¨å›äº†ä¸€ä¸ªå¤šç¤¼æ‹œçš„SwiftçœŸæ˜¯æ„Ÿå—é¢‡å¤šï¼Œè™½ç„¶Xcodeåœ¨å†™Swiftè¿˜æ˜¯åƒçº¯æ–‡æœ¬ç¼–è¾‘å™¨ä¸€æ ·ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯æƒ³è¯´ä¸€å¥ï¼šSwiftçœŸâ„¢å®‰å…¨ï¼æƒ³crashéƒ½éš¾å’¯ã€‚&lt;/p&gt;

&lt;p&gt;æ”¶ç¬”ï¼Œèµ°äººã€‚&lt;/p&gt;
</description>
        <pubDate>Wed, 23 Dec 2015 20:00:00 +0800</pubDate>
        <link>http://localhost:4000/2015/12/23/Swift%E4%B8%AD%E7%9A%84Weak-Strong-Dance/</link>
        <guid isPermaLink="true">http://localhost:4000/2015/12/23/Swift%E4%B8%AD%E7%9A%84Weak-Strong-Dance/</guid>
        
        <category>Swift</category>
        
        <category>å¾ªç¯å¼•ç”¨</category>
        
        <category>Weak Strong Dance</category>
        
        <category>ç¿»è¯‘</category>
        
        
      </item>
    
      <item>
        <title>iOSåº”ç”¨å‘å¸ƒä¸­çš„ä¸€äº›ç»†èŠ‚</title>
        <description>&lt;h1 id=&quot;iosåº”ç”¨å‘å¸ƒä¸­çš„ä¸€äº›ç»†èŠ‚&quot;&gt;iOSåº”ç”¨å‘å¸ƒä¸­çš„ä¸€äº›ç»†èŠ‚&lt;/h1&gt;

&lt;h2 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h2&gt;

&lt;p&gt;è¿™å‡ å¤©æœ€å¤§çš„æ–°é—»æˆ‘æƒ³å°±æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;å·´é»ææ€–è¢­å‡»&lt;/code&gt;äº†ï¼Œè¯¶ï¼Œåšä¸»æ¯å¹´è·¨å¹´éƒ½é‚£ä¹ˆè™”è¯šåœ°è®¸ä¸‹â€œå¸Œæœ›ä¸–ç•Œå’Œå¹³â€çš„æ„¿æœ›ï¼Œæƒ³ä¸åˆ°æ¯å¹´éƒ½æ— æ³•å®ç°ï¼Œç»´æŠ¤ä¸–ç•Œå’Œå¹³è¿™ä¹ˆéš¾ï¼Œåšä¸»çœŸæ˜¯æœ‰å¿ƒæ— åŠ›å•Šï¼Œå…¶å®èŠ¸èŠ¸ä¼—ç”Ÿçš„æˆ‘ä»¬èƒ½åšçš„å¤§æ¦‚å°±æ˜¯ä¸è¦é—¯çº¢ç¯ã€ä¸æŠ¢å°å¦¹å¦¹çš„ç”œç­’ã€æ‹‰å®Œå±è®°å¾—å†²æ°´ã€æ‰“é¥­ä¸é€ƒç¥¨ã€ä¸åœ¨æ¾¡å ‚å°ä¾¿ã€ä¸æŒ–äººå®¶å¢™è§’â€¦â€¦å…¶å®å°±æ˜¯ç»´æŠ¤ä¸–ç•Œå’Œå¹³äº†ã€‚&lt;/p&gt;

&lt;p&gt;ç„¶è€Œé»‘å®¢ç»„ç»‡&lt;strong&gt;Anonymous&lt;/strong&gt;å‘ISISå®£æˆ˜äº†ï¼&lt;/p&gt;

&lt;p&gt;å›¾0&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-11-17-pic0.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¨æ­¦ï¼&lt;/p&gt;

&lt;p&gt;å¥½å§å›å½’è¿™æ¬¡æ–‡ç« ä¸»é¢˜ï¼Œå°±åˆ—ä¸¾ä¸€äº›iOSåº”ç”¨å‘å¸ƒä¸­ä¸ªäººè§‰å¾—è¿˜è›®å®¹æ˜“å¿½ç•¥çš„ä¸€äº›ç»†èŠ‚ã€‚&lt;/p&gt;

&lt;h2 id=&quot;bundle-identifier&quot;&gt;Bundle identifier&lt;/h2&gt;

&lt;p&gt;Xcodeä¸­ &lt;code class=&quot;highlighter-rouge&quot;&gt;Target -&amp;gt; General&lt;/code&gt;ä¸­çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;bundle identifier&lt;/code&gt; ;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;info.plist&lt;/code&gt;ä¸­çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;Bundle identifier&lt;/code&gt;;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://developer.apple.com/account/ios/certificate/certificateList.action&quot; target=&quot;_blank&quot;&gt;è¯ä¹¦ä¸­å¿ƒ&lt;/a&gt; çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;Identifiers&lt;/code&gt;ä¸­&lt;code class=&quot;highlighter-rouge&quot;&gt;App IDs&lt;/code&gt;æ–°å»ºAppæ—¶çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;Explicit App ID&lt;/code&gt;;&lt;/p&gt;

&lt;p&gt;ä»¥åŠ&lt;code class=&quot;highlighter-rouge&quot;&gt;iTunes Connect&lt;/code&gt;ä¸­Appä¿¡æ¯çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;å¥—è£…ID&lt;/code&gt; å¿…é¡»ä¿æŒä¸€è‡´ï¼ï¼&lt;/p&gt;

&lt;p&gt;åœ¨info.plistæˆ–è€…Xcodeé‡Œçš„å„ç§è®¾ç½®ä¸­ï¼Œæœ‰å¾ˆå¤š&lt;code class=&quot;highlighter-rouge&quot;&gt;$(XXX)&lt;/code&gt;è¿™æ ·çš„åƒè„šæœ¬ä¸€æ ·çš„ä¸œè¥¿ï¼Œæ‰€ä»¥è¡¥å……ä¸€ç‚¹Xcodeä¸­çš„&lt;a href=&quot;https://developer.apple.com/library/mac/documentation/DeveloperTools/Reference/XcodeBuildSettingRef/1-Build_Setting_Reference/build_setting_ref.html&quot; target=&quot;_blank&quot;&gt;ç¯å¢ƒå˜é‡&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;certificatesè¯ä¹¦&quot;&gt;Certificatesè¯ä¹¦&lt;/h2&gt;

&lt;p&gt;è‹¹æœçš„è¯ä¹¦ä½“ç³»ä¸€ç›´éƒ½æ˜¯iOSåˆå­¦è€…æ— å°½çš„æ¢¦é­‡ï¼Œä»€ä¹ˆå¼€å‘è¯ä¹¦ã€å‘å¸ƒè¯ä¹¦ã€æ¨é€è¯ä¹¦ï¼Œä»€ä¹ˆad hocã€å†…æµ‹åˆ†å‘ã€çœŸæœºè°ƒè¯•â€¦â€¦æˆ‘æƒ³æ¯ä¸€ä¸ªiOSåˆå­¦åˆšå¼€å§‹æ¥è§¦Appleçš„è¯ä¹¦ä½“ç³»çš„æ—¶å€™å†…å¿ƒæ˜¯ç»å£å´©æºƒå¹¶ä¸”è¢«å¿ƒä¸­çš„è‰æ³¥é©¬è·µè¸çš„ä½“æ— å®Œè‚¤çš„â€¦â€¦ã€‚&lt;/p&gt;

&lt;p&gt;å…¶å®è‹¹æœçš„è¯ä¹¦å…¶å®æ²¡é‚£ä¹ˆç„ä¹ï¼Œå¾ˆå¤šæœ‹å‹å¼„ä¸æ‡‚æˆ–è€…è¿‡äº†ä¸€æ®µæ—¶é—´åˆä¸çŸ¥é“æ€ä¹ˆå¼„äº†ï¼Œæœ¬è´¨çš„åŸå› æ˜¯å› ä¸ºå¯¹&lt;a href=&quot;https://zh.wikipedia.org/zh-cn/%E5%85%AC%E5%BC%80%E5%AF%86%E9%92%A5%E5%8A%A0%E5%AF%86&quot; target=&quot;_blank&quot;&gt;éå¯¹ç§°åŠ å¯†(å…¬å¼€å¯†é’¥åŠ å¯†)&lt;/a&gt;çš„ä¸ç†è§£&lt;del&gt;å¯¼è‡´çš„&lt;/del&gt;ï¼Œæ‰€ä»¥ä¸ºäº†å®Œå…¨çš„é©¾é©­è‹¹æœçš„è¯ä¹¦ï¼Œè¿™äº›åŸºç¡€çš„çŸ¥è¯†å°±æ˜¯å‘ä½ çš„åï¼Œå¿…é¡»è·¨è¿‡å»çš„ã€‚&lt;/p&gt;

&lt;p&gt;ç½‘ä¸Šæœ‰å„ç§è§£é‡Šè¯ä¹¦ä¸­å¿ƒé‡Œé¢æ¯ä¸€ç§è¯ä¹¦ä½œç”¨æ˜¯ä»€ä¹ˆã€æ€ä¹ˆåˆ›å»ºã€æ€ä¹ˆä½¿ç”¨çš„ï¼Œä½†æ˜¯è¿™ä¹Ÿåªèƒ½æˆäººä»¥é±¼ï¼Œæ‰€ä»¥åšä¸»ä¸ä¼šä»‹ç»æ¯ä¸€ç§è¯ä¹¦æ˜¯å¹²å˜›çš„ï¼Œå› ä¸ºä½ çœ‹å‰å¹´å¤šäº†ä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;Pass Type ID Certificate&lt;/code&gt; ï¼Œå»å¹´åˆæœ‰äº†&lt;code class=&quot;highlighter-rouge&quot;&gt;WatchKit Services Certificate&lt;/code&gt; ï¼Œä»Šå¹´åˆæ¥ä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;Apple Pay Certificate&lt;/code&gt;â€¦â€¦æ ¹æœ¬å°±è§£é‡Šè¿™äº›è¯ä¹¦ä¸å®Œå˜›~ï¼Œæ‰€ä»¥ç†è§£è¿™äº›è¯ä¹¦çš„ç»Ÿä¸€è§„å¾‹æ‰æ˜¯ç‹é“ï¼æ‰€è°“&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä¸‡å˜ä¸ç¦»å…¶å®—&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å¾ˆå¤šèµ„æ–™éƒ½æŠŠè¯ä¹¦åˆ†æˆä¸¤ç§ï¼Œåˆ†ä¸ºå¼€å‘è¯ä¹¦(development)ã€ä»¥åŠå‘å¸ƒè¯ä¹¦(distribution)ã€‚ä½†æ˜¯åšä¸»è®¤ä¸ºè¿™æ ·åˆ†ç±»ä¸æ˜¯å¾ˆä¸ç§‘å­¦çš„ï¼Œåšä¸»çš„ç†è§£çš„åˆ†ç±»æ˜¯è¿™æ ·çš„&lt;/p&gt;

&lt;p&gt;å›¾1&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-11-17-pic1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;æ ¹è¯ä¹¦&lt;/code&gt;æ˜¯ä¸å¼€å‘è€…æˆ–è€…ä¼ä¸šå¯¹åº”çš„ï¼Œåªè¦æ˜¯è¢«&lt;code class=&quot;highlighter-rouge&quot;&gt;æ ¹è¯ä¹¦&lt;/code&gt;ç­¾åçš„Appéƒ½å¯ä»¥ç†è§£ä¸ºæ˜¯è¿™ä¸ªè¯ä¹¦å¯¹åº”çš„å¼€å‘è€…å¼€å‘çš„ã€‚æ‰€ä»¥ä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;æ ¹è¯ä¹¦&lt;/code&gt;å¯ä»¥ç­¾åå¤šä¸ªAppã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;å…¶ä»–è¯ä¹¦&lt;/code&gt;å‘¢æ˜¯ä¸å…·ä½“çš„Appå¯¹åº”çš„ï¼Œä¸€ä¸ªAppçš„æ¨é€è¯ä¹¦æ˜¯æ— æ³•ç»™å¦ä¸€ä¸ªAppä½¿ç”¨çš„ï¼Œæ‰€ä»¥ä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;å…¶ä»–è¯ä¹¦&lt;/code&gt;åªèƒ½ä¸ºä¸€ä¸ªAppç­¾åï¼Œæ›´ç¡®åˆ‡çš„è¯´æ˜¯è¿™ä¸ªAppéœ€è¦ä½¿ç”¨æŸä¸€é¡¹Appleçš„æœåŠ¡è€Œå»äº§ç”Ÿè¿™ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;å…¶ä»–è¯ä¹¦&lt;/code&gt;ã€‚&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ‰€ä»¥å…¶å®è‹¹æœæ¯å¹´éƒ½æ·»åŠ çš„è¯ä¹¦å±äº&lt;code class=&quot;highlighter-rouge&quot;&gt;å…¶ä»–è¯ä¹¦&lt;/code&gt;ï¼Œè¿™äº›å…¶ä»–è¯ä¹¦å¹¶ä¸æ˜¯éå¿…é¡»çš„ï¼Œè€Œæ˜¯ä½¿ç”¨äº†è‹¹æœçš„æŸä¸€é¡¹æœåŠ¡æ—¶æ‰éœ€è¦æä¾›çš„å‡­è¯ã€‚è€Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;æ ¹è¯ä¹¦&lt;/code&gt;æ˜¯å¿…é¡»çš„ï¼Œå®ƒç­¾åçš„APPæ˜¯å±äºè¿™ä¸ªè¯ä¹¦çš„æ‰€æœ‰è€…çš„ã€‚&lt;/p&gt;

&lt;p&gt;å›¾2&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-11-17-pic2.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å›¾ä¸­æˆ‘çš„è¿™ä¸ªè´¦å·é»˜è®¤ä¼šæœ‰ä¸¤ä¸ªä¸åŒç”¨é€”çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;æ ¹è¯ä¹¦&lt;/code&gt;ï¼Œæœ‰ä¸¤ä¸ªAppï¼Œåˆ†åˆ«ä¸ºApp1ã€APP2ï¼Œä»¥åŠå®ƒä»¬å¯¹åº”çš„ä¸¤ç§ç”¨é€”çš„æ¨é€è¯ä¹¦(å±äº&lt;code class=&quot;highlighter-rouge&quot;&gt;å…¶ä»–è¯ä¹¦&lt;/code&gt;)ã€‚&lt;/p&gt;

&lt;p&gt;å‡å¦‚æˆ‘ç°åœ¨éœ€è¦çœŸæœºè°ƒè¯•App1çš„æ¨é€ï¼Œé‚£ä¹ˆæˆ‘åªè¦ä¸‹è½½&lt;code class=&quot;highlighter-rouge&quot;&gt;å¼€å‘æ ¹è¯ä¹¦&lt;/code&gt;ä»¥åŠ&lt;code class=&quot;highlighter-rouge&quot;&gt;App1çš„å¼€å‘æ¨é€è¯ä¹¦&lt;/code&gt;ç„¶ååŒå‡»æ‰“å¼€å¯¼å…¥é’¥åŒ™ä¸²ï¼Œç„¶ååˆ›å»ºç›¸åº”profileå³å¯çœŸæœºè°ƒè¯•äº†ï¼›&lt;/p&gt;

&lt;p&gt;å‡å¦‚ç°åœ¨æˆ‘è¦å‘å¸ƒAPP2ï¼Œé‚£ä¹ˆæˆ‘åªè¦ä¸‹è½½&lt;code class=&quot;highlighter-rouge&quot;&gt;å‘å¸ƒæ ¹è¯ä¹¦&lt;/code&gt;ä»¥åŠ&lt;code class=&quot;highlighter-rouge&quot;&gt;APP2çš„å‘å¸ƒæ¨é€è¯ä¹¦&lt;/code&gt;ï¼Œç„¶ååˆ›å»ºç›¸åº”åœ°profileå³å¯æ‰“åŒ…ä¸Šä¼ App Stroreäº†ã€‚(è¿™é‡Œå› ä¸ºå‘å¸ƒçš„ç‰¹æ®Šæ€§ï¼Œæ‰€ä»¥å‘å¸ƒçš„ç”µè„‘å¿…é¡»æ˜¯åˆ›å»ºè¿™ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;å‘å¸ƒæ ¹è¯ä¹¦&lt;/code&gt;çš„ç”µè„‘)ã€‚&lt;/p&gt;

&lt;p&gt;profile(æè¿°æ–‡ä»¶)ä¸‹æ–‡è¿˜æœ‰ç¯‡å¹…ä»‹ç»ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘TMéƒ½ç»•æ™•äº†ï¼Œç¡®å®æœ‰ç‚¹éº»çƒ¦æœ‰ç‚¹å¤æ‚ï¼Œæœç„¶iOSå¼€å‘é—¨æ§›å°±æ˜¯é«˜å•Šï¼Œä½†æ˜¯å“¥å°±å–œæ¬¢ã€‚&lt;/p&gt;

&lt;h2 id=&quot;app-ids&quot;&gt;App IDs&lt;/h2&gt;

&lt;p&gt;åœ¨ç›¸åº”åœ°Appçš„editä¸­å¯ä»¥æ·»åŠ å¤šå¥—APNsæ¨é€è¯ä¹¦(å…¶ä»–çš„è¯ä¹¦ä¹Ÿç±»ä¼¼çš„)&lt;/p&gt;

&lt;p&gt;å›¾3&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-11-17-pic3.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;åœ¨è¿™é‡Œå£°æ˜ä¸€ä¸‹ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;å…¶ä»–è¯ä¹¦&lt;/code&gt;å…¶ä»–è¯ä¹¦ç”Ÿæˆçš„æ—¶å€™ï¼Œä½¿ç”¨çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;certSigningRequest&lt;/code&gt;æ–‡ä»¶å¯ä»¥å’Œäº§ç”Ÿ&lt;code class=&quot;highlighter-rouge&quot;&gt;æ ¹è¯ä¹¦&lt;/code&gt;çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;certSigningRequest&lt;/code&gt;çš„ä¸ä¸€è‡´ï¼Œä¹Ÿå°±æ˜¯è¯´äº§ç”Ÿ&lt;code class=&quot;highlighter-rouge&quot;&gt;å…¶ä»–è¯ä¹¦&lt;/code&gt;æ—¶ä¸ä¸€å®šéœ€è¦äº§ç”Ÿ&lt;code class=&quot;highlighter-rouge&quot;&gt;æ ¹è¯ä¹¦&lt;/code&gt;çš„ç”µè„‘ï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿå‘äº†æ— æ•°çš„äººè°ƒè¯•æ¨é€ï¼Œè¿™ä¸ªåœ¨ä¸‹æ–‡&lt;a href=&quot;#æ¨é€çš„ä¸€åˆ‡&quot;&gt;æ¨é€çš„é‚£äº›äº‹&lt;/a&gt;è¯¦ç»†å¡«å‘ã€‚&lt;/p&gt;

&lt;h2 id=&quot;provisioning-profilesæè¿°æ–‡ä»¶&quot;&gt;Provisioning Profilesæè¿°æ–‡ä»¶&lt;/h2&gt;

&lt;p&gt;å›¾4&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-11-17-pic4.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æˆ‘æƒ³è¿™ä¸ªç•Œé¢ä¸€å¼¹å‡ºæ¥çš„æ—¶å€™ï¼Œè›‹è›‹å¿§ä¼¤è¿é¢æ‰‘æ¥ã€‚ç„¶åæ€’ç‚¹ &lt;code class=&quot;highlighter-rouge&quot;&gt;Fix issue&lt;/code&gt;ï¼Œç„¶åä½ ä»¬å›¢é˜Ÿè´Ÿè´£ç®¡ç†è¯ä¹¦çš„åŸºå‹çªç„¶å‘ç°è¯ä¹¦ä¸­å¿ƒå¤šäº†å¥½å¤šå¥½ä¹±çš„è¯ä¹¦ä»¥åŠæè¿°æ–‡ä»¶ï¼Œç„¶åä»–çˆ†äº†ä¸€å¥ï¼šwhat the huckï¼åˆ æ‰äº†å¸¦æœ‰&lt;code class=&quot;highlighter-rouge&quot;&gt;Xcode *&lt;/code&gt;çš„è¯ä¹¦ä»¥åŠæè¿°æ–‡ä»¶ï¼Œç„¶åè‡ªå·±åˆæš´åŠ›çš„ç‚¹äº†ä¸€å‘&lt;code class=&quot;highlighter-rouge&quot;&gt;Fix issue&lt;/code&gt;ï¼Œç„¶åä½ çªç„¶è°ƒè¯•ä¸äº†äº†ï¼Œå†æš´å‡»&lt;code class=&quot;highlighter-rouge&quot;&gt;Fix issue&lt;/code&gt;é”®ï¼Œæœ€åæ•´ä¸ªå›¢é˜Ÿéƒ½åªæœ‰é€šè¿‡&lt;code class=&quot;highlighter-rouge&quot;&gt;Fix issue&lt;/code&gt;æ¥çœŸæœºè°ƒè¯•äº†â€¦â€¦ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥æ…ç‚¹&lt;code class=&quot;highlighter-rouge&quot;&gt;Fix issue&lt;/code&gt;ï¼Œå¦‚æœç‚¹å‡»è¿™ä¸ªé€‰é¡¹ï¼Œèªæ˜çš„(&lt;del&gt;è ¢å“­çš„&lt;/del&gt;)Xcodeå°±ä¼šè‡ªå·±ç®¡ç†æè¿°æ–‡ä»¶ï¼Œç„¶åå„ç§è«åå…¶å¦™çš„å¸¦æœ‰&lt;code class=&quot;highlighter-rouge&quot;&gt;Xcode *&lt;/code&gt;çš„è¯ä¹¦ä»¥åŠæè¿°æ–‡ä»¶â€¦â€¦&lt;/p&gt;

&lt;p&gt;å…¶å®åªè¦åšä¿¡ä¸€ç‚¹ï¼Œè¯ä¹¦ã€è®¾å¤‡IDã€AppIDã€æè¿°æ–‡ä»¶éƒ½å¼„å¯¹äº†å°±ç»é€¼ä¸ä¼šå‡ºé—®é¢˜çš„ï¼&lt;/p&gt;

&lt;p&gt;æè¿°æ–‡ä»¶å·¥ä½œåŸç†&lt;/p&gt;

&lt;p&gt;å›¾5&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-11-17-pic5.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;å…¶å®æè¿°æ–‡ä»¶å·¥ä½œçš„åŸç†å°±æ˜¯åœ¨APPæ‰“åŒ…æˆ–è€…çœŸæœºè°ƒè¯•çš„æ—¶å€™ï¼Œè®©Xcodeå»æ£€æŸ¥æè¿°æ–‡ä»¶é‡Œé¢çš„BundleIDä¸è¿™ä¸ªAPPçš„BundleIDæ˜¯å¦å¯¹åº”ã€‚&lt;/li&gt;
  &lt;li&gt;å¯¹åº”çš„è¯å°±ä¼šå»&lt;code class=&quot;highlighter-rouge&quot;&gt;keyChain&lt;/code&gt;æŸ¥æ‰¾æœ‰æ²¡æœ‰ç›¸åº”åœ°è¯ä¹¦(æ‰€ä»¥è¯ä¹¦è¦ä¸‹è½½å¥½ï¼Œå¹¶ä¸”å¯¼å…¥&lt;code class=&quot;highlighter-rouge&quot;&gt;keyChain&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;å¦‚æœæœ‰è¯ä¹¦å­˜åœ¨çš„è¯å°±ä¼šæ£€æŸ¥è¯ä¹¦çš„ç±»å‹ï¼Œå¦‚æœæ˜¯å¼€å‘è¯ä¹¦ï¼Œåˆ™ä¼šæ£€æŸ¥è°ƒè¯•çš„è®¾å¤‡æ˜¯å¦åŠ å…¥äº†æè¿°æ–‡ä»¶é‡Œé¢çš„ä¿¡ä»»è®¾å¤‡IDåˆ—è¡¨ï¼Œå¦‚æœè®¾å¤‡æ²¡æœ‰åœ¨æè¿°æ–‡ä»¶çš„åˆ—è¡¨ä¸­ï¼Œåˆ™æ— æ³•è°ƒè¯•ï¼›å¦‚æœè¯ä¹¦ç±»å‹æ˜¯å‘å¸ƒè¯ä¹¦åˆ™ä¸ä¼šæ£€æŸ¥è®¾å¤‡IDåˆ—è¡¨ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;é¢å¤–åœ°ï¼Œå¦‚æœå…¬å¸æ–°å¢äº†æµ‹è¯•æœºï¼Œå¹¶ä¸”åœ¨è¯ä¹¦ä¸­å¿ƒçš„&lt;code class=&quot;highlighter-rouge&quot;&gt;Devices&lt;/code&gt;ä¸­æ·»åŠ äº†æ–°æµ‹è¯•æœºçš„IDï¼Œè¿™æ ·æè¿°æ–‡ä»¶ä¹Ÿè¦ç›¸åº”åœ°æ›´æ–°ï¼Œç„¶åé‡æ–°ä¸‹è½½ï¼Œä¸‹è½½å®Œä¹‹åå¯ä»¥å…ˆåˆ é™¤æ—§çš„æè¿°æ–‡ä»¶(åšä¸»ç›´æ¥è¦†ç›–çš„æ–¹å¼è²Œä¼¼æè¿°æ–‡ä»¶æ²¡æœ‰æ›´æ–°å•Š)ï¼Œä½ ä»¬å¯ä»¥è‡ªå·±åšå®éªŒå’¯ï¼Œæè¿°æ–‡ä»¶çš„è·¯åŠ²&lt;code class=&quot;highlighter-rouge&quot;&gt;/Users/XXX/Library/MobileDevice/Provisioning\ Profiles&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;XXX&lt;/code&gt;ä½ çš„ç”¨æˆ·åã€‚&lt;/p&gt;

&lt;p&gt;ä¸è¦è¦†ç›–ï¼è®°å¾—å…ˆåˆ é™¤ï¼Œå¯ä»¥å…é™¤å¾ˆå¤šé—®é¢˜ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ¨é€çš„é‚£äº›äº‹&quot;&gt;æ¨é€çš„é‚£äº›äº‹&lt;/h2&gt;

&lt;p&gt;å¦‚æœè¯´äº¿ä¸‡çº§ç”¨æˆ·çš„å¾®ä¿¡æ¨é€æœåŠ¡å¹¶ä¸æ˜¯ä¼é¹…è‡ªå·±å®šåˆ¶çš„è€Œéƒ½æ˜¯ç”±è‹¹æœAPNsæ¨é€çš„è¯ï¼Œé‚£è‹¹æœçš„æ¨é€å°±çœŸçš„ç‰›é€¼äº†ï¼Œä½†æ˜¯æœ‰æ—¶å€™æµ‹è¯•æ¨é€ï¼Œç»å¸¸APNsè¦æ­»ä¸æ´»çš„ï¼Œæ¨äº†åŠå¤©æ‰åˆ°ï¼Œæœ‰ä¸€æ¬¡åœ¨APNsæ²™ç®±ç¯å¢ƒæ€’æ¨1000å¤šæ¡ï¼Œç„¶åè¿™æ¡é˜Ÿåˆ—æŒç»­äº†åŠä¸ªæœˆæ‰æ¨å®Œ~~ã€‚æ‰€ä»¥å¾®ä¿¡ã€æ‰£æ‰£è‚¯å®šæ˜¯å®šåˆ¶çš„æ¨é€ï¼Œæœ‰é’±å°±æ˜¯è®¨åŒï¼Œé‚£ä¹ˆä»»æ€§ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯è‹¹æœæ¨é€çš„å¼€å‘æ˜¯æ¯”è¾ƒç®€å•åœ°ï¼Œå¦‚æœæ²¡æœ‰é«˜çº§æ¨é€éœ€æ±‚åŸºæœ¬å°±ä¸ç”¨å†™ä»£ç äº†ï¼Œåªè¦é…ç½®å¥½è¯ä¹¦ä¸€åˆ‡OKã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨å¸¸ç”¨çš„åå°serverä¸­ï¼Œä¸€èˆ¬å°†æ¨é€è¯ä¹¦ä»¥åŠæ¨é€è¯ä¹¦çš„ç§é’¥å¯¼å‡ºp12äº¤ç»™åå°äººå‘˜å³å¯ã€‚&lt;/p&gt;

&lt;p&gt;PHPæœ‰ç‚¹è°ƒçš®ï¼Œè¿˜éœ€è¦è½¬æ¢æˆpem&lt;/p&gt;

&lt;p&gt;ç”ŸæˆPHPéœ€è¦çš„Pemè¯ä¹¦&lt;/p&gt;

&lt;p&gt;å‡†å¤‡ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;è‹¹æœæœåŠ¡å™¨è¯ä¹¦ç«¯è®¾ç½®æ­£ç¡®ï¼æ‰“åŒ…è¯ä¹¦ã€æè¿°æ–‡ä»¶æ­£ç¡®ï¼ï¼&lt;/li&gt;
  &lt;li&gt;ä¸‹è½½æ¨é€è¯ä¹¦(ceræ ¼å¼)ï¼Œå¯¼å…¥keyChainï¼Œä¿è¯ç§é’¥å­˜åœ¨ï¼Œä¸å­˜åœ¨å»æ‰¾åˆ›å»ºè¿™ä¸ªè¯ä¹¦çš„ç”µè„‘è¦ä¸€ä»½è¿‡æ¥ã€‚&lt;/li&gt;
  &lt;li&gt;ä»é’¥åŒ™åº“å¯¼å‡ºçš„&lt;del&gt;æ ¹è¯ä¹¦&lt;/del&gt;(æ¨é€è¯ä¹¦)ç§é’¥(p12æ ¼å¼)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ç¬¬ä¸‰æ­¥æ ¹è¯ä¹¦çš„ç§é’¥è¿™é‡Œæ˜¯ä¸€ä¸ªå‘ï¼å› ä¸ºä¸€ä¸ªAppçš„æ¨é€è¯ä¹¦çš„åˆ›å»ºå¯ä»¥å’Œæ ¹è¯ä¹¦åˆ›å»ºçš„ç”µè„‘ä¸åŒï¼Œä¹Ÿå°±æ˜¯keyChainäº§ç”Ÿçš„&lt;code class=&quot;highlighter-rouge&quot;&gt;certSigningRequest&lt;/code&gt;ä¸ä¸€æ ·ï¼Œæ‰€ä»¥ç§é’¥ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼Œåœ¨è¿™é‡Œç”ŸæˆPemæ—¶ï¼Œæ³¨æ„è¦ä½¿ç”¨æ¨é€è¯ä¹¦çš„ç§é’¥ï¼&lt;/p&gt;

&lt;p&gt;æ“ä½œè¿‡ç¨‹ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;æŠŠæ¨é€è¯ä¹¦(.cer)è½¬æ¢ä¸º.pemæ–‡ä»¶ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š&lt;/p&gt;

    &lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;openssl&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x509&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æ¨é€è¯ä¹¦&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;inform&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;der&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æ¨é€è¯ä¹¦&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pem&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æŠŠæ¨é€è¯ä¹¦å¯¼å‡ºçš„ç§é’¥(.p12)æ–‡ä»¶è½¬åŒ–ä¸º.pemæ–‡ä»¶ï¼š&lt;/p&gt;

    &lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;openssl&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pkcs12&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nocerts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æ¨é€è¯ä¹¦ç§é’¥&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pem&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æ¨é€è¯ä¹¦ç§é’¥&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p12&lt;/span&gt;	
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;å¯¹ç”Ÿæˆçš„è¿™ä¸¤ä¸ªpemæ–‡ä»¶å†ç”Ÿæˆä¸€ä¸ªpemæ–‡ä»¶ï¼Œæ¥æŠŠè¯ä¹¦å’Œç§é’¥æ•´åˆåˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œï¼š&lt;/p&gt;

    &lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æ¨é€è¯ä¹¦&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pem&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æ¨é€è¯ä¹¦ç§é’¥&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pem&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PHPPush&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pem&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ç„¶åæŠŠè¿™ä¸ªPHPPush.pemç»™åå°åŸºå‹ä»¬ï¼Œå°±å¯ä»¥ä¸‹ç­å•¦ã€‚&lt;/p&gt;

&lt;p&gt;å½“ç„¶æµ‹è¯•æ¨é€ä¹Ÿæ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦æ¨¡æ‹ŸçœŸå®çš„æ¨é€ç¯å¢ƒï¼Œä¸€èˆ¬éœ€è¦åå°æä¾›å¸®åŠ©ï¼Œä½†æ˜¯é‡åˆ°ä¸€äº›åå°åŒäº‹ï¼Œä»–ä»¬æœ‰å¼ºçƒˆåœ°ä¿¡ä»°ç€é„™è§†é“¾çš„è¯ï¼Œå¾ˆé„™è§†iOSï¼Œå¿ƒé‡Œæ—©å°±ç§°å‘¼ä½ â€œæ­»å‰æ®µâ€å¤šå¹´äº†ï¼Œè¿˜é‚£ä¹ˆå¤šäº‹â€¦â€¦&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥å…³äºè°ƒè¯•æ¨é€ï¼Œåšä¸»æ•™ä½ è‡ªå·±æ¨è‡ªå·±ï¼ä¸éº»çƒ¦åˆ«äººã€‚&lt;/p&gt;

&lt;p&gt;åªè¦æ‹·è´è¿™æ®µä»£ç &lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;php&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// devicetoken
&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deviceToken&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;'ä½ çš„&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deviceToken&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// ç§é’¥å¯†ç ï¼Œç”Ÿæˆpemçš„æ—¶å€™è¾“å…¥çš„
&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;passphrase&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;123456&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// å®šåˆ¶æ¨é€å†…å®¹ï¼Œæœ‰ä¸€ç‚¹çš„æ ¼å¼è¦æ±‚ï¼Œè¯¦æƒ…Appleæ–‡æ¡£
&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
	&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'ä½ æ”¶åˆ°ä¸€ä¸ªæ–°è®¢å•'&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aps&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
	&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
	&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sound&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
	&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;badge&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;msg_type&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'æ–°è®¢å•æé†’'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'ä½ æ”¶åˆ°ä¸€ä¸ªæ–°æ¶ˆæ¯'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ctx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stream_context_create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;stream_context_set_option&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ssl&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;local_cert&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pem&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//è®°å¾—æŠŠç”Ÿæˆçš„push.pemæ”¾åœ¨å’Œè¿™ä¸ªphpæ–‡ä»¶åŒä¸€ä¸ªç›®å½•
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stream_context_set_option&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ssl&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;passphrase&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;passphrase&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stream_socket_client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
	&lt;span class=&quot;c1&quot;&gt;//è¿™é‡Œéœ€è¦ç‰¹åˆ«æ³¨æ„ï¼Œä¸€ä¸ªæ˜¯å¼€å‘æ¨é€çš„æ²™ç®±ç¯å¢ƒï¼Œä¸€ä¸ªæ˜¯å‘å¸ƒæ¨é€çš„æ­£å¼ç¯å¢ƒï¼ŒdeviceTokenæ˜¯ä¸é€šç”¨çš„
&lt;/span&gt;	&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ssl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//gateway.sandbox.push.apple.com:2195', $err,
&lt;/span&gt;	&lt;span class=&quot;c1&quot;&gt;//'ssl://gateway.push.apple.com:2195', $err,
&lt;/span&gt;	&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;errstr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;STREAM_CLIENT_CONNECT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;STREAM_CLIENT_PERSISTENT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Failed to connect: $err $errstr&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;PHP_EOL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Connected&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;APNS&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;PHP_EOL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;json_encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pack&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;'n'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pack&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;H&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deviceToken&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pack&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;'n'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strlen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fwrite&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strlen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Message&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;delivered&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;PHP_EOL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Message&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;successfully&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;delivered&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;PHP_EOL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fclose&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å°†ä¸Šé¢çš„ä»£ç å¤åˆ¶ï¼Œä¿å­˜æˆpush.php&lt;/p&gt;

&lt;p&gt;ç„¶åæ ¹æ®ä¸Šé¢â€œç”ŸæˆPHPéœ€è¦çš„Pemè¯ä¹¦â€çš„æ­¥éª¤ç”Ÿæˆpush.pem&lt;/p&gt;

&lt;p&gt;ä¸¤ä¸ªæ–‡ä»¶æ”¾åœ¨åŒä¸€ç›®å½•&lt;/p&gt;

&lt;p&gt;æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;DavidDay&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;php&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;php&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ç»“æœä¸º&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;Connected&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;APNS&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Message&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;successfully&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;delivered&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æ˜¯ä¸æ˜¯å°±æ¨é€æˆåŠŸäº†å‘¢ï¼Ÿå‘µå‘µå“’&lt;/p&gt;

&lt;h2 id=&quot;æ‰“åŒ…åˆ†å‘åŠå†…æµ‹&quot;&gt;æ‰“åŒ…ã€åˆ†å‘åŠå†…æµ‹&lt;/h2&gt;

&lt;p&gt;å…³äºæ‰“åŒ…æ˜¯æœ‰å¾ˆå¤šå§¿åŠ¿çš„ï¼Œæ¯ä¸ªäººéƒ½æœ‰å„è‡ªçš„å–œå¥½ï¼Œå¤§éƒ¨åˆ†è§„çŸ©çš„åšæ³•éƒ½æ˜¯ä½¿ç”¨Xcodeçš„ä¸€æ¡é¾™æœåŠ¡çš„ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;é€‰æ‹©ç›¸åº”åœ°æè¿°æ–‡ä»¶ã€è¯ä¹¦&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;é€‰æ‹©ARMæ¶æ„æœºå‹(æ¨¡æ‹Ÿå™¨æ˜¯Intelæ¶æ„çš„ï¼ŒçœŸæœºæ˜¯ARMæ¶æ„çš„ï¼Œä¸èƒ½é€šç”¨)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;product -&amp;gt; archive&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ç„¶åå°±å¯ä»¥é€‰æ‹©å¯¼å‡ºipaåœ¨ç¬¬ä¸‰æ–¹å¹³å°åˆ†å‘æµ‹è¯•æˆ–è€…ä¸Šä¼ App Stroeå®¡æ ¸äº†&lt;/p&gt;

    &lt;p&gt;â€‹
è¿™æ ·çš„åšæ³•æ¯”è¾ƒä¿é™©ï¼Œå› ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;archive&lt;/code&gt; åªä¼šç¼–è¯‘å‡ºçœŸæœºçš„äºŒè¿›åˆ¶ç ï¼Œæ‰€ä»¥ä¸ç”¨æ‹…å¿ƒå¯¼å‡ºçš„ipaçœŸæœºè£…ä¸èµ·ã€‚&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¦ä¸€ç§å§¿åŠ¿æ˜¯ä½¿ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;xcodebuild&lt;/code&gt; å·¥å…·ï¼Œçº¯Shellç¼–è¯‘ï¼Œæ¯”è¾ƒä¸å¥½å¤„ç†é”™è¯¯ï¼Œä½†æ˜¯é€¼æ ¼æ»¡æ»¡å•Šï¼Œæƒ³è¯¦ç»†äº†è§£è¿™ç§å§¿åŠ¿çš„å¯ä»¥çœ‹çœ‹&lt;a href=&quot;https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man1/xcodebuild.1.html&quot; target=&quot;_blank&quot;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt; ï¼Œæˆ–è€…å‚è€ƒè¿™ä½åŒå­¦çš„&lt;a href=&quot;http://www.cnblogs.com/brycezhang/p/4097487.html&quot; target=&quot;_blank&quot;&gt;åˆ†äº«&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å½“ç„¶å˜›ï¼Œåšä¸»ä½œä¸ºæ‹–æ‹–æ´¾çš„å¿ å®æ‹¥è¶¸ï¼Œåšä¸»æ‰“åŒ…ipaçš„æ—¶å€™æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;

&lt;p&gt;å›¾6&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-11-17-pic6.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;éšæ—¶buildéšæ—¶è½¬ipaã€‚&lt;/p&gt;

&lt;p&gt;åˆ†å‘å†…æµ‹ä¸€èˆ¬éƒ½ä¼šä½¿ç”¨ç¬¬ä¸‰æ–¹çš„å¹³å°ï¼Œ&lt;a href=&quot;fir.im&quot; target=&quot;_blank&quot;&gt;fir&lt;/a&gt;ã€&lt;a href=&quot;http://www.pgyer.com/&quot; target=&quot;_blank&quot;&gt;è’²å…¬è‹±&lt;/a&gt; éƒ½å¾ˆå¥½å‘€~&lt;/p&gt;

&lt;p&gt;å…³äºæäº¤å®¡æ ¸è¿™é‡Œï¼Œä¸€èˆ¬archiveè¿‡å»äº†ï¼Œè¯ä¹¦æ­£ç¡®éƒ½æ²¡é—®é¢˜çš„ï¼Œå½“ç„¶è¿˜æ˜¯è¦æ£€æŸ¥é¡¹ç›®æ˜¯å¦è°ƒç”¨äº†ç§æœ‰APIï¼Œä¹‹å‰ç”¨&lt;a href=&quot;http://revealapp.com/&quot; target=&quot;_blank&quot;&gt;reveal &lt;/a&gt; ï¼Œæäº¤åº”ç”¨çš„æ—¶å€™å¿˜äº†ç§»é™¤ï¼Œåƒä¸è¯¥ä¸‡ä¸è¯¥çš„è¿˜æ˜¯ç”¨äº†Xcodeçš„uploadå·¥å…·ï¼Œä¹Ÿä¸æŠ¥é”™ï¼Œåœ¨iTunesConnectä¸­æ„å»ºç‰ˆæœ¬ä¹Ÿå‡ºç°äº†ï¼Œåªæ˜¯çŠ¶æ€â€œæ­£åœ¨å¤„ç†â€ï¼Œä¸€èˆ¬è¿™ä¸ªçŠ¶æ€æŒç»­10åˆ†é’Ÿ~2ä¸ªå°æ—¶å°±ä¼šé€šè¿‡äº†ï¼Œç„¶ååšä¸»è‡ªä¿¡å…³æœºä¸‹ç­ï¼Œæƒ³ä¸åˆ°ç¬¬äºŒå¤©æ„å»ºç‰ˆæœ¬è¿˜æ˜¯â€œæ­£åœ¨å¤„ç†â€ï¼Œç„¶åçŒœæƒ³æ˜¯ä¸æ˜¯iTuneså‡ºé—®é¢˜äº†åˆæ€’ä¼ äº†Nä¸ªåŒ…ï¼Œä¾ç„¶æ˜¯â€œæ­£åœ¨å¤„ç†â€ï¼Œåæ¥å‡†å¤‡å‘é‚®ä»¶ï¼Œæ‰“å¼€é‚®ç®±ï¼Œå°¼ç›ï¼&lt;/p&gt;

&lt;p&gt;å›¾7&lt;/p&gt;

&lt;p&gt;åŸæ¥è°ƒç”¨äº†ç§æœ‰æ¥å£ï¼Œå¿˜è®°ç§»é™¤revealäº†~ï¼Œå›é¡¾èµ·æ¥è¿™é‡Œæœ‰ä¸‰ä¸ªå¤§å‘ï¼Œ&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Xcodeçš„ä¸Šä¼ å·¥å…·å¾ˆè¾£é¸¡ï¼ï¼å¾ˆå¤šé”™è¯¯éƒ½æ— æ³•æ‰«æå‡ºæ¥ï¼Œæ‰€ä»¥åˆ‡è®° ä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;Application Loader&lt;/code&gt; ï¼Œé€Ÿåº¦å¿«ï¼Œé”™è¯¯æŠ¥å‘Šä¹Ÿç²¾å‡†ã€‚&lt;/li&gt;
  &lt;li&gt;iTunesConnectçš„é”™è¯¯çŠ¶æ€å‡ ä¹æ²¡æœ‰ï¼Œä¸€èˆ¬åªæœ‰ä¸¤ä¸ªçŠ¶æ€ â€œæ­£åœ¨å¤„ç†â€ã€â€œæˆåŠŸâ€ï¼Œæ‰€ä»¥å¦‚æœè¶…è¿‡ä¸¤ä¸ªå°æ—¶ä»ç„¶æ˜¯â€œæ­£åœ¨å¤„ç†â€ï¼Œé‚£ä¹ˆææœ‰å¯èƒ½åŒ…å‡ºé—®é¢˜äº†ï¼&lt;/li&gt;
  &lt;li&gt;è®°ä½å…³æ³¨é‚®ä»¶ï¼&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æ‰“åŒ…é¡¹ç›®è¯ä¹¦é€‰æ‹©å¿…é¡»æ­£ç¡® (Xcode7ä»¥ä¸‹ é€‰æ‹©é¡¹ç›®ç¼–è¯‘targetä¸ºIphone Device ä¸è¦è¿æ¥æ‰‹æœº å¦åˆ™ä¼š ï¼ŒXcode7ä¸­ä¸éœ€è¦æ‹”å‡ºçœŸæœºï¼Œå› ä¸ºå¤šäº†ä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;build only device&lt;/code&gt; çš„é€‰é¡¹ï¼‰&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;err&quot;&gt;ç¼–è¯‘&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;é€‰é”™äº†&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æŠ¥é”™&lt;/span&gt;

 &lt;span class=&quot;n&quot;&gt;ITMS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;90530&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Invalid MinimumOSVersion. Apps that only support 64-bit devices must specify a deplyment target of 8.0 or later&quot;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;IMTS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;90208&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Invalid Bundle. The bundle xxx.app does not support the minimum OS version specified in the Info.plist&quot;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;IMTS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;90502&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Invalid Bundle. Apps that only contain the arm64 slice must also have'arm64' in the list of UIRequiredDeviceCapabilities in Info.plist &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;

&lt;p&gt;çªç„¶æƒ³èµ·æˆ‘å“¥è¯´çš„ä¸€å¥è¯&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;æœ‰æ—¶å€™æœ‰äº›å¥³äººå°±åƒé¥­å ‚é¥­èœï¼Œè™½ç„¶éš¾åƒï¼Œä½†æ˜¯å»æ™šäº†ä¹Ÿä¼šæ²¡æœ‰çš„ï¼&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;çæƒœèº«è¾¹çš„äººã€‚&lt;/p&gt;

&lt;p&gt;æ„Ÿè§‰è¿™ä¸ªæ€»ç»“ä»€ä¹ˆé¬¼ï¼Ÿæœ‰ç‚¹ä¼¤æ„Ÿï¼Œå—¯ï¼ŒiOSåº”ç”¨çš„å‘å¸ƒï¼Œæ¯ä¸ªä»ä¸šè€…éƒ½åº”è¯¥èƒ½å¤Ÿç†Ÿç»ƒçš„å¯¹å‘å¸ƒè¿›è¡Œæ“ä½œå’Œæ„å¤–å¤„ç†çš„ã€‚&lt;/p&gt;

&lt;p&gt;æ²¡é’±ç»“å©šã€‚&lt;/p&gt;
</description>
        <pubDate>Tue, 17 Nov 2015 20:00:00 +0800</pubDate>
        <link>http://localhost:4000/2015/11/17/iOS%E5%BA%94%E7%94%A8%E5%8F%91%E5%B8%83%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E7%BB%86%E8%8A%82/</link>
        <guid isPermaLink="true">http://localhost:4000/2015/11/17/iOS%E5%BA%94%E7%94%A8%E5%8F%91%E5%B8%83%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E7%BB%86%E8%8A%82/</guid>
        
        <category>æ‹¾é—é›†</category>
        
        
      </item>
    
      <item>
        <title>åŠå¹´çš„iOSä»£ç ç”Ÿæ´»</title>
        <description>&lt;h1 id=&quot;åŠå¹´çš„iosä»£ç ç”Ÿæ´»&quot;&gt;åŠå¹´çš„iOSä»£ç ç”Ÿæ´»&lt;/h1&gt;

&lt;p&gt;åœ¨é«˜è€ƒå¤§å†›ä¸­æ‹¼æ€è¿‡ï¼Œä¹Ÿåœ¨å¤§å­¦æ ¡å›­ä¸­è’èŠœè¿‡ï¼Œæ›¾ç»ä½è¿·æ¶ˆæ²‰ï¼Œä¹Ÿå¸¸æ»¡æ€€å£®å¿—â€¦â€¦ ä½†æ˜¯æœ€å¤šçš„è¿˜æ˜¯è¢«ç§°ä¸ºå°ä¼™å­ä»¥åŠè‡ªç§°ä¸ºiOSå·¥ç¨‹å¸ˆï¼åšä¸»å°±æ˜¯è¿™ç§å–œé—»ä¹è§çš„è¿™ç±»äººï¼Œå®ä¹ ä¸€å¹´ååœ¨2015å¹´çš„æ¯•ä¸šå­£é¡ºåˆ©æ‹¿åˆ°äº†è‡ªå·±å‘å¾€çš„ä¸€å®¶åˆ›ä¸šå…¬å¸çš„offerï¼Œä¹Ÿè®¸ç›¸æ¯”å¾ˆå¤šæ¯•ä¸šå­£çš„åŒå­¦èŒåœºä¸Šé¡ºåˆ©è®¸å¤šï¼Œä½†å½“æ·±å¤œæ¥ä¸´ï¼Œæ˜¾ç¤ºå™¨ç†„ç­åæœ›ç€è§å¹•å‡ºç¥çš„æ—¶å€™ï¼Œæ¯•ä¸šå­£æˆ‘é”™è¿‡äº†å¾ˆå¤šä¹Ÿè®¸ä¸€è¾ˆå­éƒ½ä¸ä¼šå†ç›¸è§çš„åŒå­¦ä»¬çš„åˆå½±ã€‚åŠå¹´é‡ŒçœŸæ­£é¢†ç•¥åˆ°äº†ä¼ä¸šé¡¹ç›®çš„å¼€å‘çš„è‰°è¾›ï¼Œä»¥åŠå›¢é˜Ÿåä½œçš„é­…åŠ›ï¼Œæœ‰å¤ªå¤šå¤ªå¤šçš„è¦è¯´ï¼Œç»ˆå°†å…¶æ±‡æˆä¸€å¥è¯ï¼šå“¥åŠ ç­åŠå¹´åç»ˆäºå›æ¥äº†ï¼&lt;/p&gt;

&lt;p&gt;å›¾1&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-11-11-pic1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;åŠå¹´æ—¶é—´ï¼Œåæ­£æ’¸å•Šæ’¸æ®µä½å·²ç»æ˜¯ä¸‡åŠ«ä¸å¤äº†ï¼ŒiOS9ä¸€å‘å¸ƒåŠ ç­çš„è§‰æ‚Ÿæ—©æœ‰äº†ï¼Œæ½œä¼çš„XCodeGhostä¹Ÿè¢«æ‹å‡ºæ¥äº†ï¼Œå„ç§è¢«è„±è£¤çš„åŒè¡Œå¤§ä½¬ä»¬ä¹Ÿæ˜¯å°¿äº†ä¸€åœ°ï¼Œå“¥ä¹Ÿè¢«å“äº†ä¸€å“†å—¦ï¼Œèµ¶å¿™ä¿®æ”¹äº†1024çš„è´¦å·å¯†ç â€¦â€¦ 2015å¹´å°±æ˜¯ä¼´éšè¿™äº›çäº‹å‘å±•ç€ï¼Œä½†æ˜¯åšä¸»ä½œä¸ºä¸€ä¸ªåˆå…¥èŒåœºåŠå¹´çš„å·¥ä½œæ€»ç»“å½“ç„¶ä¸ä¼šæ˜¯ç®€å•åœ°æµæ°´è´¦ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘çŸ¥é“ä½ ä»¬éƒ½æƒ¦è®°ç€ä»€ä¹ˆæ˜¯1024ï¼Œ1024å°±æ˜¯ï¼Œå‘µå‘µï¼Œå°±æ˜¯ä¸€æ¬¾å¦ˆå¦ˆéƒ½è¯´å¥½ç©çš„æ¸¸æˆå•Š~ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å­¦ä¹ &quot;&gt;å­¦ä¹ &lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;å¹²æŒ¨è¸¢çš„å­¦ä¼šå­¦ä¹ è¿œæ¯”ä½ æ­»èƒŒä¸€ä¸ªåŠŸèƒ½çš„ä»£ç æ¥çš„æœ‰ç”¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;åœ¨iOSå­¦ä¹ ä¸­å»å°è¯•ä½“ä¼šCocoaæ¨¡å¼ï¼Œå¤šç•™æ„Cocoaä¸­çš„æ¡†æ¶çš„ç±»ï¼Œä»–ä»¬çš„å‘½åéƒ½æœ‰è§„èŒƒï¼Œç›¸ä¼¼æŠ½è±¡çš„å¯¹è±¡ä¼šæœ‰ç›¸ä¼¼çš„æ–¹æ³•æˆ–è€…å†™æ³•ï¼Œæ¯”å¦‚ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;Mutable&lt;/code&gt;çš„ç±»å¯èƒ½éƒ½æœ‰&lt;code class=&quot;highlighter-rouge&quot;&gt;addXX&lt;/code&gt;ã€&lt;code class=&quot;highlighter-rouge&quot;&gt;appendXX&lt;/code&gt;æ–¹æ³•ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;Set&lt;/code&gt;ã€&lt;code class=&quot;highlighter-rouge&quot;&gt;Array&lt;/code&gt;ç±»å‹çš„ç±»å¯èƒ½éƒ½ä¼šæœ‰&lt;code class=&quot;highlighter-rouge&quot;&gt;enumerateXX&lt;/code&gt;çš„éå†æ–¹æ³•â€¦â€¦ï¼Œåˆæ¯”å¦‚ä¸€ä¸ªç±»çš„åŠŸèƒ½å¦‚æœæ³¨é‡è¿‡ç¨‹çš„è¯ï¼Œè‹¹æœä¼šé€‰æ‹©ä½¿ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;delegate&lt;/code&gt;çš„æ–¹å¼ï¼Œæ³¨é‡ç»“æœçš„è¯åˆ™ä¼šä½¿ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;block&lt;/code&gt; ï¼Œå­¦ä¼šæ€»ç»“æ¯”è¾ƒã€è§¦ç±»æ—é€šã€ä¸¾ä¸€åä¸‰ï¼&lt;/p&gt;

&lt;p&gt;å¦‚æœä½ èƒ½åšåˆ°å¯¹Cocoaæ¨¡å¼å¾ˆç†Ÿæ‚‰çš„è¯ï¼Œé‚£ä¹ˆæœ€æ–°çš„3DTouchåŠŸèƒ½ç›´æ¥çœ‹ç±»çš„å¤´æ–‡ä»¶å°±ä¼šç”¨äº†ã€‚&lt;/p&gt;

&lt;p&gt;å¹¶ä¸”ï¼Œç¬¬ä¸‰æ–¹ä¼˜ç§€çš„ã€çƒ­é—¨çš„åº“éƒ½ä¼šéµå¾ªè¿™ä¸€å¥—ç¼–å†™è§„èŒƒï¼Œæ‰€ä»¥ä½¿ç”¨èµ·æ¥æˆ–è€…ä¿®æ”¹èµ·æ¥ä¹Ÿæ‰èƒ½å¤Ÿæ¸¸åˆƒæœ‰ä½™ï¼é™¤äº†&lt;a href=&quot;https://github.com/ReactiveCocoa/ReactiveCocoa&quot; target=&quot;_blank&quot;&gt;ReactiveCocoa&lt;/a&gt;ä¹‹æµé™¤å¤–ã€‚ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;å­¦ä¹ æ—¶å€™çœ‹ä¸€æœ¬ä¹¦è¿œæ²¡æœ‰æ•²ä¸€ä¸ªé¡¹ç›®æ¥çš„æœ‰æ•ˆæœã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;çœ‹ä¹¦çš„æ—¶å€™æ€»æ˜¯ä¼šçŠ¯ä¸€ä¸ªæ¯›ç—…ï¼Œå°±æ˜¯ä¸€çœ‹å°±æ‡‚ï¼Œä¸€å†™å°±æ‡µã€‚æ‰€ä»¥å­¦ä¹ æŠ€æœ¯ï¼Œæˆ‘æ›´æ¨èçš„æ˜¯å®è·µæ£€çœŸçŸ¥ï¼æ•²å‡ºæ¥çš„ä»£ç æ‰æ˜¯å­¦ä¹ åˆ°çš„ï¼Œå› ä¸ºä½ åœ¨ç”µè„‘å‰ï¼Œä½ é‡åˆ°ä¸æ‡‚çš„ä½ å¯ä»¥ç«‹åˆ»Googleï¼Œçœ‹åˆ°æ„Ÿå…´è¶£çš„æ–°ç±»å¯ä»¥ç›´æ¥&lt;code class=&quot;highlighter-rouge&quot;&gt;option&lt;/code&gt;+&lt;code class=&quot;highlighter-rouge&quot;&gt;å·¦é”®&lt;/code&gt;æŸ¥çœ‹æ–‡æ¡£æˆ–è€…&lt;code class=&quot;highlighter-rouge&quot;&gt;command&lt;/code&gt;+&lt;code class=&quot;highlighter-rouge&quot;&gt;å·¦é”®&lt;/code&gt;ç›´æ¥æ‘†å‡ºå¤´æ–‡ä»¶ä¸€è§ˆæ— é—ï¼&lt;/p&gt;

&lt;p&gt;å½“ç„¶&lt;a href=&quot;https://developer.apple.com/wwdc/&quot; target=&quot;_blank&quot;&gt;WWDC&lt;/a&gt;åˆ«å¿˜äº†çœ‹çœ‹ï¼Œè¿™æ˜¯iOSæœ€å‰æ²¿çš„æŠ€æœ¯æ•™å­¦ï¼Œå³ä½¿å¬ä¸æ‡‚ä¹Ÿæ²¡å…³ç³»ï¼ŒæŠŠéŸ³é¢‘å¤–æ”¾ï¼ŒåŒäº‹é—®ä½ ï¼šå“‡ï¼Œä½ å¬å¾—æ‡‚å‘€ã€‚ä½ å¾®å¾®ä¸€ç¬‘ç­”é“ï¼šå¬ä¸æ‡‚ã€‚ç•™ä¸‹è®¤çœŸè†å¬å´ä¼¼äº«å—çš„ä¸€é“èƒŒå½±ç»™åŒäº‹ï¼Œé‚£å¯æ˜¯æ»¡æ»¡çš„é€¼æ ¼ã€‚ã€‚å‘µå‘µï¼Œå…¶å®ä¸ç„¶ï¼Œè§†é¢‘ä¸­æœ‰å¤§é‡PPTï¼Œæœ‰å…³é”®å­—ï¼Œæ‹¿å‡ºæ¥Googleä¸€ç•ªï¼Œå†æ•²æ‰“ä¸€ç•ªï¼Œè‚¯å®šä½ å¿ƒä¸­ä¼šè§‰å¾—ä¸è™šæ­¤ä¸¾å“ˆï¼Œè¿™æ ·ä¹Ÿé”»ç‚¼äº†è‹±æ–‡æ°´å¹³ï¼Œè¿™æ ·çš„ä¸€æ³¢ç»é€¼ä¸äºå‘€ã€‚&lt;/p&gt;

&lt;p&gt;è¯´åˆ°è‹±æ–‡ï¼Œè¿™ä¸ªæ˜¯æŠ€æœ¯è¿›é˜¶çš„åŸºç¡€ï¼Œä¸è¦ç•æƒ§ï¼Œåˆšå¼€å§‹çœ‹ä¸€ç¯‡è‹±æ–‡æ–‡æ¡£å¯èƒ½èŠ±è´¹ä½ ä¸€å¤©çš„æ—¶é—´ï¼Œä½†æ˜¯è¿™æ‰æ˜¯ç¬¬ä¸€æ‰‹èµ„æ–™ï¼å›½å†…è¯‘è€…çš„æ°´å¹³æ¯•ç«Ÿå‚å·®ä¸é½ï¼Œè°¬è¯¯åœ¨æ‰€éš¾å…ï¼Œè€Œä¸”äºŒæ‰‹çš„èµ„æ–™ï¼Œå¯¹äºå……æ»¡å¤„å¥³æƒ…ç»“çš„ä½ èƒ½æ¥å—ä¹ˆï¼Ÿèƒ½å¿ä¹ˆï¼Ÿæ‰€ä»¥ç™¾åº¦è¿˜æ˜¯ç”¨æ¥æœæœç»¯é—»ã€åºŠç…§ä¹‹æµå°±å¥½ï¼ŒæŠ€æœ¯ç´¢å¼•çœŸä¸æ˜¯å®ƒçš„å¼ºé¡¹ï¼Œæœå‡ºæ¥çš„ä¸œè¥¿éƒ½æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;deprecated&lt;/code&gt;çš„ï¼Œå®åœ¨æµªè´¹æ„Ÿæƒ…ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://nshipster.com/&quot; target=&quot;_blank&quot;&gt;NSHipster&lt;/a&gt;ã€&lt;a href=&quot;https://www.objc.io/&quot; target=&quot;_blank&quot;&gt;Objc.io&lt;/a&gt; â€¦â€¦éƒ½æ˜¯ä¸é”™çš„å»å¤„ï¼Œå¤§é‡çš„ç´§å·´å·´çš„å¹²è´§ï¼Œä»–ä»¬éƒ½æœ‰ä¸­æ–‡ç‰ˆï¼Œä½†æ˜¯æœ€æ–°çš„èµ„æ–™çš„ä¸­æ–‡ç‰ˆè¿˜æ˜¯ä¼šç›¸å¯¹æ»åã€‚&lt;/p&gt;

&lt;p&gt;å†ä¸€ä¸ªå°±æ˜¯å¤§å©¶ä»¬çš„åšå®¢ï¼Œä¸€å¤©ä¸è¯»éƒ½æµ‘èº«éš¾å—ï¼&lt;/p&gt;

&lt;p&gt;ä¹‹å‰æ‹œé˜…&lt;a href=&quot;http://blog.devtang.com/&quot; target=&quot;_blank&quot;&gt;å”å·§Boy&lt;/a&gt;çš„æ–°ä¹¦çš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªåšå®¢åˆ—è¡¨éå¸¸ä¸é”™ï¼Œå¼ºåŠ¿æ’å…¥æˆ‘çš„&lt;a href=&quot;http://feedly.com/&quot; target=&quot;_blank&quot;&gt;Feedly&lt;/a&gt;åˆ—è¡¨ï¼Œæˆ‘è‡ªå·±ä¹Ÿæœ‰ä¸€äº›å…³æ³¨çš„å¤§å©¶ä¹ŸåŠ å…¥äº†åˆ—è¡¨å½“ä¸­ï¼Œè¿™é‡Œç»™å‡ºåˆ†äº«OPML&lt;a href=&quot;https://daiweilai.github.io/attach/feedly.opml&quot;&gt;æ‹¿å»ç©&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;p&gt;æ²™é¾™ã€ç ”è®¨ä»€ä¹ˆçš„å¯ä»¥é€‚å½“å‚åŠ ï¼Œçœ‹çœ‹è§å¹•å¤–çš„ä¸–ç•Œï¼Œä¸è¦è€è¯´æ²¡æœ‰æiOSçš„å§‘å¨˜ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å›¢é˜Ÿ&quot;&gt;å›¢é˜Ÿ&lt;/h2&gt;

&lt;p&gt;è®²ä¸€ä¸ªæ•…äº‹ï¼šä»å‰æœ‰ä¸ªäº§å“ç»ç†ï¼Œä»–ä¿®æ”¹äº†3æ¬¡éœ€æ±‚ï¼Œç¬¬äºŒå¤©ä»–æ­»äº†ã€‚&lt;/p&gt;

&lt;p&gt;åšä¸»åªæƒ³è¯´çš„æ˜¯ï¼Œè‹¥ä¸æ˜¯åšä¸»å¿ƒæ…ˆï¼Œæˆ‘æƒ³æˆ‘å…¬å¸çš„äº§å“ç»ç†å·²ç»æ­»å®ŒåæŠ•èƒåˆæ­»ä¸€ç™¾æ¬¡äº†ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬éƒ½çŸ¥é“é¡¹ç›®å®Œæˆçš„æ°´å¹³ç›´æ¥ç”±å›¢é˜Ÿä¸­æ˜¯å¦æœ‰é«˜æ•ˆçš„åä½œè€Œå†³å®šï¼Œä¹Ÿè®¸æœ‰å¾ˆå¤šç¨‹åºå‘˜é•¿æœŸçš„å­¤é«˜å†·è‰³æƒ¯äº†ï¼Œä»–ä»¬è¯´è‡ªå·±ä¸éœ€è¦å›¢é˜Ÿï¼è‡ªå·±ä¸€ä¸ªäººå°±å¯ä»¥æå®šä¸€åˆ‡ï¼Œè‡ªå·±æ˜¯UIã€UEã€äº§å“ã€ç¼–ç ã€æµ‹è¯•ç”šè‡³åç«¯ä¸€æ¡é¾™æ‹¿ä¸‹ï¼Œä½†æ˜¯ä½ å°†æ²¡æœ‰å¥³æœ‹å‹ï¼ï¼ï¼&lt;/p&gt;

&lt;p&gt;å›¢é˜Ÿåä½œè¿œæ¯”ä¸ªäººçš„è‹±é›„ä¸»ä¹‰æ›´æœ‰é­…åŠ›ï¼Œä¸ªäººè®¤ä¸ºï¼&lt;/p&gt;

&lt;p&gt;å½“ä¸‹çš„å¿«é€Ÿè¿­ä»£çš„å¤§ç¯å¢ƒä¸‹ï¼Œä¼ä¸šçº§å¼€å‘ä¸‹è‹±é›„ä¸»ä¹‰æ˜¯ä¸å¤ªå¯å–ä¹Ÿä¸å¤ªå¯è¡Œçš„ï¼Œæ‰€ä»¥èå…¥å›¢é˜Ÿï¼Œå­¦ä¼šäº¤æµæ˜¯å·¥ä½œé¡ºåˆ©è¿›å±•çš„ä¿è¯ï¼›&lt;/p&gt;

&lt;p&gt;å½“ç„¶å›¢é˜Ÿåä½œä¸­æ˜¯å¦é«˜æ•ˆæ˜¯å¦æ„‰å¿«å°±éœ€è¦äº¤æµæŠ€å·§äº†ï¼Œæ¯ä¸ªäººéƒ½æœ‰è‡ªæ‹çš„æƒ…èŠ‚ï¼Œå³ä½¿æ˜¯è‡ªå·±çš„å·¥ä½œæŠ€èƒ½ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæ‰€ä»¥ä¸–ç•Œä¸Šå­˜åœ¨ç€å„ç§é„™è§†é“¾&lt;/p&gt;

&lt;p&gt;å›¾2&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-11-11-pic2.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ä¸¾ä¸€ä¸ªç®€å•åœ°ä¾‹å­å§&lt;/p&gt;

&lt;p&gt;å…¬å¸å¸¸è§æ’•é€¼çš„ä¸‰ä¸ªéƒ¨é—¨ï¼šç ”å‘éƒ¨ã€äº§å“éƒ¨ã€å¸‚åœºéƒ¨&lt;/p&gt;

&lt;p&gt;ç ”å‘çš„çœ‹ä¸èµ·äº§å“ã€å¸‚åœºï¼Œè§‰å¾—ä»–ä»¬éƒ½ä¸æ‡‚æŠ€æœ¯ï¼Œåªæ˜¯å¤©é©¬è¡Œç©ºï¼Œé‡åˆ°Bugè¿˜å¤§æƒŠå°æ€ªâ€¦â€¦&lt;/p&gt;

&lt;p&gt;äº§å“çš„è§‰å¾—è‡ªå·±çš„è®¾è®¡æ˜¯å¤©æ‰çš„è®¾å®šï¼Œå‚è€ƒäº†ç¤¾ä¼šä¼¦ç†å­¦ï¼Œè‰²å½©å¿ƒç†å­¦ï¼Œä¸¥æ ¼çš„äººä½“å·¥å­¦è®¾è®¡â€¦â€¦åé©³è‡ªå·±çš„éƒ½æ˜¯å‚»é€¼â€¦â€¦&lt;/p&gt;

&lt;p&gt;å¸‚åœºçš„è§‰å¾—è‡ªå·±æ·±å…¥å®¢æˆ·ï¼Œè‡ªå·±æ‰æ˜¯æœ€äº†è§£è¿™ä¸ªäº§å“å¸‚åœºçš„ï¼Œæ‰€äº§å“åº”è¯¥æŒ‰è‡ªå·±çš„å¸‚åœºä¸ºå¯¼å‘ï¼Œé¢œè‰²ä¸å¯¹ï¼Œå­—ä½“å®¢æˆ·è‚¯å®šä¸å–œæ¬¢ï¼Œæ”¹æ”¹æ”¹â€¦â€¦&lt;/p&gt;

&lt;p&gt;åœ¨æ’é™¤æ¶ˆæå› ç´ ï¼ŒæŠ•æœºå€’æŠŠçš„æä¸ªåˆ«äººå­˜åœ¨ï¼Œå›¢é˜Ÿä¸­çš„æˆå‘˜è¿˜æ˜¯å¸Œæœ›å…±åŒçš„ç›®æ ‡èƒ½å¤Ÿå®Œç¾çš„å®ç°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å…¶å®æˆ‘ä»¬çš„â€œäº‰åµâ€ä¹Ÿæ˜¯ä¸ºäº†æ›´å¥½çš„äº§å“ï¼Œä½†æ˜¯â€œäº‰åµâ€çš„åº¦ç¡®å®å¾ˆéš¾æŠŠæ¡ï¼Œéš¾å…å°±å› ä¸ºå·¥ä½œå´ä¼¤äº†ç§ä¸‹çš„æ„Ÿæƒ…ï¼Œè¿™ä¹Ÿæ˜¯ç¦»èŒä¸­ä¼—å¤šåŸå› ä¹‹ä¸€ï¼Œé¢‘ç¹çš„ç¦»èŒå´ä¼šä½¿å¾—ä½ çš„èŒä¸šç”Ÿæ¶¯æˆé•¿å¢åŠ æ—¶é—´æˆæœ¬ï¼Œæ‰€ä»¥æ›´å¥½çš„å·¥ä½œæ–¹å¼æ˜¯â€œå­¦ä¼šäº¤æµâ€ã€‚&lt;/p&gt;

&lt;p&gt;â€œå­¦ä¼šäº¤æµâ€ä¸å•å•æ˜¯å·¥ä½œä¸­ç”¨åˆ°ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬çš„ä¸€ç”Ÿçš„å­¦é—®ï¼&lt;/p&gt;

&lt;p&gt;ä¾‹å¦‚æœ‰æ—¶å€™ï¼Œäº§å“éƒ¨é—¨ä¸æ˜¯å¾ˆè´Ÿè´£ä»»çš„é¢‘ç¹å˜æ›´éœ€æ±‚ï¼Œè¿™å¯è‹¦äº†ç ”å‘çš„æˆå‘˜ï¼Œä½ ä¾¿å¯ä»¥ç©ç¬‘ä¼¼çš„ç»™ä»–è®²ä¸€ä¸ªæ•…äº‹ï¼šä»å‰æœ‰ä¸ªäº§å“ç»ç†ï¼Œä»–ä¿®æ”¹äº†3æ¬¡éœ€æ±‚â€¦â€¦ï¼Œæˆ‘æƒ³è¿™æ ·çš„è¯™è°å³ä¼šæ˜¯çš„å·¥ä½œæ°›å›´æ„‰æ‚¦è®¸å¤šä¹Ÿå¯èƒ½è®©äº§å“çš„åŒäº‹çŸ¥é“è‡ªå·±ä¸è´Ÿè´£ä»»è¡Œä¸ºçš„å½±å“ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯éœ€æ±‚å˜æ›´ï¼Œè¿™ä¸ªæ˜¯ç ”å‘ä¸€ç›´è¦é¢å¯¹è¯¾é¢˜ï¼Œæ‰€ä»¥ä½ å¿…é¡»å­¦ä¼šâ€œé¢„ç½®æ€§å¼€å‘â€ï¼Œé¢„ç½®æ€§åŒ…æ‹¬ä½¿ç”¨ä¸€äº›ä¼˜ç§€çš„è®¾è®¡æ¨¡å¼çš„ä½¿ç”¨é™ä½æ¨¡å—é—´çš„è€¦åˆï¼Œå¢åŠ ç³»ç»Ÿç»´æŠ¤çš„çµæ´»æ€§ï¼Œä¹Ÿå¯ä»¥æœ‰ç±»ä¼¼&lt;code class=&quot;highlighter-rouge&quot;&gt;Placeholder&lt;/code&gt;çš„ç¼–ç æŠ€å·§ï¼Œæ¥éšæ—¶åº”å¯¹ä¸æœŸè€Œé‡çš„éœ€æ±‚å˜æ›´ï¼Œå…·ä½“çš„åšæ³•ï¼Œè¿™ä¹Ÿè®¸éœ€è¦å¦å¼€ä¸€ç¯‡åšæ–‡æ¥è®²è¿°ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å¥åº·&quot;&gt;å¥åº·&lt;/h2&gt;

&lt;p&gt;å¦‚æœè¿˜æ²¡æœ‰å‡èŒåŠ è–ªï¼Œå½“ä¸Šæ€»ç»ç†ï¼Œå‡ºä»»CTOï¼Œè¿å¨¶ç™½å¯Œç¾ï¼Œèµ°å‘äººç”Ÿå·…å³°ã€‚å´å‡ºå¸ˆæœªæ·èº«å…ˆæ­»ï¼Œè¿™ä¸ªéƒ½ä¸å¤ªå¥½ç©ï¼Œèº«è¾¹çš„åŒäº‹ä»¥åŠåšä¸»è‡ªå·±éƒ½æœ‰æˆ–å¤šæˆ–å°‘çš„èŒä¸šç—…äº§ç”Ÿäº†ï¼Œåšä¸»èº¬äº²åŠ›è¡Œåœ°éªŒè¯äº†ä¸€ä¸ªé“ç†ï¼šæ¨¯æ©¹ç°é£çƒŸç­ï¼åˆ«è¯´æ’¸ä»£ç è¿˜çœŸçš„å¾ˆå¸¦æ„Ÿï¼Œæ ¹æœ¬åœä¸ä¸‹æ¥ï¼Œæ‰€ä»¥æœ€åé¢ˆæ¤ï¼Œè‚©è†€å°±æ˜¯å„ç§ä¸é€‚ã€‚è¯´å¤šéƒ½æ˜¯æ³ªï¼Œä¸è¿‡åæ¥åšä¸»ç§‰æ‰¿äº†å›½äººâ€å…ˆæ±¡æŸ“åæ²»ç†â€çš„æ–¹é’ˆï¼Œæ€»ç®—æŠŠèº«å­è°ƒè¿‡æ¥äº†ï¼Œç§˜ç¬ˆå¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;ç»ƒæ­¤åŠŸï¼Œä¸å¼ºåˆ¶è‡ªå®«&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;å¥½å§ï¼Œè¿™æ‰æ˜¯ç¬¬ä¸€æ¡ï¼Œâ€ä¸å¯ä¹…åâ€xå¾ªç¯3æ¬¡ï¼ï¼å¾ˆé‡è¦ï¼Œä¹…åæµå…¥è„‘å­çš„è¡€æ¶²ä¼šå¢åŠ ï¼Œä»è€Œé€ æˆä¸‹è‚¢æµ®è‚¿ã€‚ç”±äºä¹…ååªé™äºå±€éƒ¨è‚Œè‚‰æ´»åŠ¨ï¼Œç¼ºä¹å…¨èº«è¾ƒå¤§è‚Œç¾¤åŠ¨ä½œï¼Œæ—¶é—´ä¸€é•¿ï¼Œä¹…ä¸åŠ¨ä½œçš„è‚Œè‚‰ä¼šé€æ­¥èç¼©ï¼Œæœºèƒ½è¡°é€€ï¼Œè¿˜ä¼šä½¿å¿ƒã€è‚ºçš„åå¤‡èƒ½åŠ›é™ä½ï¼Œä¸èƒ½é€‚åº”è‚Œè‚‰æ´»åŠ¨å¯¹è¡€æ¶²å¾ªç¯å’Œæ°§æ°”ä¾›åº”çš„è¦æ±‚ï¼Œä¸€åŠ¨å°±ä¼šå¿ƒè·³æ°”æ€¥ã€‚è‚Œè‚‰é•¿æœŸä¸æ´»åŠ¨ï¼Œçƒ­é‡æ¶ˆè€—å°‘ï¼Œä¼šåŠ é‡è„‚è‚ªå’Œç³–çš„ä»£è°¢éšœç¢ï¼Œå¯¼è‡´èº«ä½“è¿‡åˆ†è‚¥èƒ–ã€åŠ¨è„‰ç¡¬åŒ–åŠç³–å°¿ç—…ã€‚è€Œä¸”ä¹…åä¸€èˆ¬çš®è‚¤è´¨é‡è¾ƒå·®ï¼Œé•¿æ—¶é—´é™åï¼Œå—å‹è¡€æ¶²æµé€šä¸ç•…ï¼Œæ˜“å¼•èµ·è‡‚éƒ¨ç˜™ç—’å’Œéšç—›ï¼Œä¼æ¡ˆå·¥ä½œè€…æ›´ç”šï¼Œé•¿æœŸä¸‹å»æ˜“å¯¼è‡´é¢ˆæ¤ç‚ï¼Œè‚©å‘¨ç‚ï¼Œè…°æ¤çªå‡ºï¼Œè„ŠæŸ±å˜å¼¯â€¦â€¦æˆ‘ç¼–ä¸ä¸‹å»äº†ï¼Œå°±é—®ä½ æ€•ä¸æ€•ï¼ï¼ï¼æ‰€ä»¥å¤šèµ·èº«æ´»åŠ¨å¾€éæŠ€æœ¯éƒ¨èµ°èµ°ï¼Œä¸ç„¶å°±ä¼šç”Ÿç—…çš„å“Ÿ(è®¤ä¸å‡ºé›Œæ€§ç”Ÿç‰©äº†)ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;åå§¿&lt;/p&gt;

    &lt;p&gt;å›¾2&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-11-11-pic3.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;å°è¯•å…¨é”®ç›˜æ“ä½œï¼Œå¤šè®°è®°å‡ ä¸ªå¿«æ·é”®ä¸–ç•Œå°±å®‰é™äº†ï¼Œåæ­£åšä¸»çš„magic mouseå¹²ç”µæ± å·²æ‰£ï¼Œä»€ä¹ˆä½ çš„æ˜¯æœ€æ–°æ¬¾çš„é¼ æ ‡æ²¡å¹²ç”µæ± ï¼Ÿé‚£ä¸ºäº†ä½ çš„å¥åº·ç€æƒ³æ‹¿ç»™åšä¸»ç”¨å§ï¼Œå¯å‡å°‘æ‰‹è…•ä»¥åŠè‚©è†€åŠ³æŸçš„é£é™©ã€‚è¿™é‡Œåˆ†äº«ä¸€ä¸ªMacå±å¹•æ•ˆç‡å·¥å…·&lt;a href=&quot;http://www.irradiatedsoftware.com/&quot; target=&quot;_blank&quot;&gt;SizeUp&lt;/a&gt; å¯å‡å°‘é¼ æ ‡çš„ä½¿ç”¨ï¼&lt;/li&gt;
  &lt;li&gt;è¿åŠ¨è¿åŠ¨è¿åŠ¨ï¼ä¸è¦åœ¨è¢«äººé»‘äº†ï¼Œè€æ˜¯è¢«é»‘ç å†œï¼Œæ²¹å¤´å¢é¢ï¼Œè‚¾è™šæ‚£è€…â€¦â€¦æœ‰æ„æ€ä¹ˆï¼Ÿæˆ‘ä»¬æ˜¯æ”¹å˜ä¸–ç•Œçš„å·¥ç¨‹å¸ˆï¼ä¸è¦å†ç©¿æ‹–é‹ä¸Šç­äº†ï¼ï¼å¤§å®¶è–ªæ°´éƒ½ä¸ä½ï¼Œç©¿å¾—ä½“é¢ç‚¹å§ã€‚ä½ å¯ä»¥å’Œåšä¸»ä¸€æ ·å¸…çš„ã€‚&lt;/li&gt;
  &lt;li&gt;åŠªåŠ›é™ªä¼´å›ä½ èº«è¾¹ä¸€ç›´é™ªä¼´ç€ä½ çš„äººï¼Œé‚£ä½¿ä½ çš„ç²¾ç¥æœ€è¿œæ˜¯æœ€ä½³çš„çŠ¶æ€ï¼ä»€ä¹ˆï¼Ÿé‚£å°±å¤šæ‰“æ‰“ç”µè¯ç»™ä½ å¦ˆå¦ˆå§ï¼Œé‚£æ˜¯æœ€ç¾çš„äººã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;è¿½æ±‚&quot;&gt;è¿½æ±‚&lt;/h2&gt;

&lt;p&gt;ä¸è¦æ‹…å¿ƒ30å²è¦è½¬è¡Œï¼Œä¸è¦è®¤ä¸º30Kå°±æ˜¯ç»ˆç‚¹ï¼Œä¸è¦ä¸€å¤©å·¥ä½œ30ä¸ªå°æ—¶ã€‚ä¿æŒåˆå¿ƒã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;O ever youthful,O ever weeping.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;åè®°&quot;&gt;åè®°&lt;/h2&gt;

&lt;p&gt;åšä¸»æ–°å¼€äº†ä¸€ä¸ªåšå®¢ç³»ç»Ÿï¼Œæ‰˜ç®¡åœ¨äº†Github.ioä¸Šï¼Œå–œé—»ä¹è§çš„JekllåŠ å€Ÿé‰´&lt;del&gt;(æŠ„è¢­)&lt;/del&gt;çš„ç²¾ç¾ä¸»é¢˜æ„å»ºè€Œæˆï¼Œåæ­£æ ·å­åº”è¯¥è¿˜çœ‹å¾—è¿‡å»ï¼Œå¦‚æœæœ‰æœ‹å‹æœ‰å…´è¶£æƒ³äº†è§£iOSç¨‹åºå‘˜ä¸ºä½•æ—¥æ’¸ä¸‡è¡Œä»£ç ï¼Ÿæ•°ç™¾å¥‡å·§æ·«æŠ€å¦‚ä½•æ–½å±•ï¼Ÿæ— æ•°å¹²è´§ä¸ºä½•é¢‘é¢‘é€å‡ºï¼Ÿç©¶ç«Ÿç¼–è¯‘å™¨èƒŒååˆéšè—ç€ä»€ä¹ˆï¼Ÿè¿™ä¸€åˆ‡çš„èƒŒåæ˜¯æŠ€æœ¯ä¸ç”Ÿæ´»çš„ç¢°æ’è¿˜æ˜¯é«˜æ•ˆä¸æŠ•æœºçš„æƒè¡¡ï¼Ÿæˆ‘çœŸTMç¼–ä¸ä¸‹å»äº†ï¼Œæ¬¢è¿å‰å¾€ &lt;a href=&quot;https://daiweilai.github.io&quot; target=&quot;_blank&quot;&gt;[ä»»æ„é—¨]&lt;/a&gt;å›´è§‚ã€‚&lt;/p&gt;

&lt;p&gt;ä¸¥è‚ƒåœ°ï¼Œå¦‚æœä½ åˆšå¼€å§‹å­¦ä¹ iOSå¼€å‘æˆ–è®¸å¯ä»¥ä»åšä¸»è¿™é‡Œå¾—åˆ°ä¸€äº›åŠå¹²è´§ã€‚&lt;/p&gt;

&lt;p&gt;ç”Ÿæ´»æ„‰å¿«ï¼&lt;/p&gt;
</description>
        <pubDate>Wed, 11 Nov 2015 20:00:00 +0800</pubDate>
        <link>http://localhost:4000/2015/11/11/%E5%8D%8A%E5%B9%B4%E7%9A%84iOS%E4%BB%A3%E7%A0%81%E7%94%9F%E6%B4%BB/</link>
        <guid isPermaLink="true">http://localhost:4000/2015/11/11/%E5%8D%8A%E5%B9%B4%E7%9A%84iOS%E4%BB%A3%E7%A0%81%E7%94%9F%E6%B4%BB/</guid>
        
        <category>é—²æš‡é›†</category>
        
        
      </item>
    
      <item>
        <title>iOSå„ç§è°ƒè¯•æŠ€å·§</title>
        <description>&lt;h1 id=&quot;ioså„ç§è°ƒè¯•æŠ€å·§&quot;&gt;iOSå„ç§è°ƒè¯•æŠ€å·§&lt;/h1&gt;

&lt;h2 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h2&gt;

&lt;p&gt;æœ€è¿‘åšä¸»ä¸´è¿‘æ¯•ä¸šå­£ï¼Œä¸ºäº†å®Œç¾çš„å†™ä¸€ç¯‡æ¯•ä¸šè®ºæ–‡ï¼ŒçœŸæ˜¯ï¼šâ€œé”„ç¦¾æ—¥å½“åˆï¼Œæ±—æ»´ç¦¾ä¸‹åœŸâ€&amp;lt;â€”â€” è¿™å¥è¯—è·Ÿæ¯•ä¸šæˆ‘å†™æ¯•ä¸šè®ºæ–‡æ²¡ä»»ä½•ä¸€æ¯›é’±å…³ç³»ï¼Œæˆ‘å°±æ˜¯çªç„¶æƒ³åŸæ¹¿äº†ã€‚ä¸è¿‡åšä¸»ä½œä¸ºç½‘ç»œå·¥ç¨‹ä¸“ä¸šçš„å¥½é’å¹´ï¼Œæ›¾ç»çš„æ„¿æœ›å’Œç†æƒ³å°±æ˜¯åœ¨ä¸‹æ°´é“å¹²å‡ºä¸€ç•ªè½°è½°çƒˆçƒˆçš„å¤§äº‹ä¸šï¼Œæ²¡é”™æ˜¯å°±æ˜¯ä¸‹æ°´é“ï¼Œæˆ‘ä»¬çš„å¾é€”åœ¨ä¸‹æ°´é“ï¼ï¼ä¸è¿‡å¤§å®¶åˆ«è¯¯ä¼šï¼Œæˆ‘ä¸æ˜¯å¿è€…é¾Ÿçš„è„‘æ®‹ç²‰ï¼å¬æˆ‘ç»§ç»­è¯´ï¼æˆ‘æƒ³çš„æ˜¯ç­‰æˆ‘åœ¨å„å¤§æ’æ°´ç³»ç»Ÿå„å¤§ä¸‹æ°´é“åŠŸæˆåå°±çš„æ—¶å€™ï¼Œæˆ‘å°±å¯ä»¥æŒ‡ç€ä¸€ä¸ªäº•ç›–å¯¹æˆ‘çš„å­™å­è¯´ï¼šâ€œè¯º é‚£ä¸ªä¸‹é¢çš„é€šä¿¡å…‰ç¼†æ˜¯çˆ·çˆ·æˆ‘æ¥çš„ï¼ï¼â€ æˆ‘æ»¡è„¸è‡ªè±ªåœ°æ¥å—ç€è¿™å­™å­çš„æ•¬ä»°ï¼ä½†æ˜¯å•Šï¼Œæ›¾ç»çš„æ„¿æœ›éƒ½å®ç°ä¸äº†äº†ï¼Œæˆ‘æ·±æ·±çˆ±ç€çš„åœ°ä¸‹é€šä¿¡å…‰ç¼†å•Šï¼Œæ›¾ç»å¤šå°‘ä¸ªå¤œæ™šæ³ªæ°´æ‰“æ¹¿äº†æˆ‘çš„æ¯•ä¸šè®ºæ–‡ï¼Œæ¸²æŸ“å¼€çš„ç¬”å¢¨é‚£éƒ½æ˜¯å“¥é€å»çš„é’æ˜¥å•Šã€‚&lt;/p&gt;

&lt;p&gt;å› ä¸ºç”Ÿæ´»å°±åƒå¼€äº†åšä¸»ä¸€ä¸ªç©ç¬‘ï¼Œè®©åšä¸»é‡åˆ°äº†ä¸€ç§é¸¡ï¼Œé‚£æ˜¯ä¸€ç§ç‰¹æ®Šå“ç§çš„é¸¡ï¼Œå®ƒå«åšé€¼ä¼˜é¸¡ï¼ï¼å°±æ˜¯è¿™åªé¸¡è®©åšä¸»æ— ç¼˜æ— æ•…çš„æˆäº†ä¸€åªAPMè¶…200çš„é‡ç”Ÿç©¶æç¨‹åºçŒ¿ï¼ï¼å¼~ å—·~ï¼ŒæŠŠåšä¸»å¸¦ç¦»äº†ä¸‹æ°´é“ï¼å¹¶ä¸”ä¸è¿™åªé¸¡è¸ä¸Šå¦ä¸€ç«¯å¾é€”ï¼ä¸´èµ°çš„æ—¶å€™ï¼Œä¸‹æ°´é“çš„é€šä¿¡å…‰ç¼†å°±äº¤ç»™ä½ ä»¬äº†ï¼Œè‚¥çš‚åŸºå‹ä»¬(ç½‘ç»œå·¥ç¨‹çš„åŸºå‹ä»¬)ï¼ï¼æˆ‘é ï¼Œä»–ä»¬ç«Ÿç„¶åœ¨æ‰“å°åº—èŠ±äº†50å—é’±å°±ç›´æ¥ä¹°äº†ä¸€å¥—æ·±åº¦è±ªåæ¯•ä¸šè®ºæ–‡å¥—é¤ï¼é‡Œé¢åŒ…å«äº†è®ºæ–‡ï¼Œå·¥ç¨‹åˆ¶å›¾ï¼ŒCADï¼ŒæŠ¥ä»·æ¸…å•ï¼Œæ‹“æ‰‘ç»“æ„â€¦â€¦æœ€é‡è¦çš„æ˜¯è€æ¿æ‰¿è¯ºä¸éœ€ä»»ä½•ä¿®æ”¹ï¼Œç›´æ¥å¯ä»¥é€šè¿‡æ¯•ä¸šç­”è¾©ï¼Œä¸é€šè¿‡æ¥å¹´å…è´¹å†æä¾›ä¸€å¥—è®ºæ–‡ï¼Œæœ€è´´å¿ƒçš„æ˜¯ç«Ÿç„¶æ”¯æŒé€šè¿‡å†ä»˜æ¬¾ï¼ï¼ï¼Œ&lt;/p&gt;

&lt;p&gt;å›¾1&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic1.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è€å­å†™è®ºæ–‡å†™äº†åŠä¸ªæœˆåƒç‹—ä¸€æ ·ï¼Œä»–ä»¬ç«Ÿç„¶ç›´æ¥å°±ä¹°äº†ï¼å°±è¿™ä¹ˆä¹°è¿‡å»äº†ï¼ï¼å¯¹å¾—èµ·è€å¸ˆçš„è°†è°†æ•™è¯²ã€è‡ªå·±çš„è¾›è‹¦ä»˜å‡ºå’Œçˆ¶æ¯çš„æœŸå¾…ä¹ˆï¼Ÿæˆ‘å°±é—®ä½ ä»¬æƒ­æ„§ä¸æƒ­æ„§ï¼Ÿä¸ºä»€ä¹ˆä¹°çš„æ—¶å€™ä¸å–Šä¸Šæˆ‘ï¼Ÿæ³ªå·²æ·Œå¹²~&lt;/p&gt;

&lt;p&gt;æ‰¯è›‹è¿‡å¤šå®¹æ˜“è‚¾äº&lt;/p&gt;

&lt;h2 id=&quot;é€¼ä¼˜é¸¡&quot;&gt;é€¼ä¼˜é¸¡&lt;/h2&gt;

&lt;p&gt;ç»ˆäºæ¥åˆ°äº†å¤§å®¶æœŸå¾…çš„æ­£ç‰‡ï¼Œä»Šå¤©æˆ‘å°±è¦å’Œå¤§å®¶è®²æˆ‘å’Œé€¼ä¼˜é¸¡çš„æ•…äº‹ï¼Œé€¼ä¼˜é¸¡å®ƒä¼˜é›…ä½è°ƒï¼Œå®ƒèº«æç²ç‘ï¼Œè—åŒ¿åœ¨é»‘æš—å¤„ï¼ŒæŒ‘åŠ¨ç€æˆ‘çš„æ¬²æœ›ï¼æ›¾å¤šä¸ªæ—¥å¤œåšä¸»éƒ½â€¦â€¦ï¼ˆæ“¦ï¼å°¼ç›ï¼Œé€¼ä¼˜é¸¡æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿè¯´å¥½çš„æŠ€æœ¯æ–‡ç« ?ï¼‰åŒå­¦ä½ çœŸçš„(biÃ¨)æ€¥ï¼Œä½ å…ˆåä¸‹ï¼Œå…ˆæŠŠé‹å­ç©¿å¥½ï¼æˆ‘è¯´çš„é€¼ä¼˜é¸¡å®ƒçš„è‹±æ–‡åå«åš(Bug)ï¼Œå®ƒæŒº(T)ç¾(M)çš„(D)â€¦â€¦&lt;/p&gt;

&lt;p&gt;æ­Œä»”å”±çš„å¥½ï¼š&lt;/p&gt;

&lt;p&gt;å¤šå°‘çŒ¿æ›¾è¢«å®ƒå¤ºèµ°å¹´è½»çš„å®¹é¢œ&lt;/p&gt;

&lt;p&gt;å¤šå°‘çŒ¿æ›¾åœ¨å®ƒé¢å‰äº®é—¨ç§ƒäº†å¤´&lt;/p&gt;

&lt;p&gt;å¤šå°‘Bugæ›¾ç»ç”Ÿå‘½ä¸­æ¥äº†åˆè¿˜&lt;/p&gt;

&lt;p&gt;å¯çŸ¥ä¸€ç”Ÿæœ‰ä½ æˆ‘éƒ½é™ªåœ¨ä½ èº«è¾¹&lt;/p&gt;

&lt;p&gt;å›¾2&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic2.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æ— æ•°ä¸ªå¤œæ™šä½ æªç€å¤´å‘å’ŒBugæ’•å’¬çš„æƒ…æ™¯åšä¸»å¯ä»¥ä½“ä¼šï¼Œæ‰€ä»¥è¿™æ¬¡çš„è¿™ç¯‡æ–‡ç« åšä¸»å°±è¦ç»™å¤§å®¶æ•´ç†ä¸€ä¸ªè°ƒæ•™iOSé€¼ä¼˜é¸¡çš„æ–¹æ³•è±ªåå¥—é¤ï¼ï¼æ”¾å¿ƒï¼ç»å¯¹çš„æ·±åº¦è±ªåï¼Œå› ä¸ºå·²ç»åŠ å…¥è‚¯å¾·åŸºè±ªååˆé¤~å’³å’³~å…¶å®æ˜¯å› ä¸ºé€¼ä¼˜é¸¡(Bug)å¯¹äºæˆ‘ä»¬æ¯•ç«Ÿæ˜¯é™¤äº†è€å©†ä¹‹å¤–ç¬¬äºŒå¯æ€•çš„å­˜åœ¨ï¼æˆ‘ä»¬å¿…é¡»è¦ç»ƒå°±é“œå¤´é“è‡‚åå…«èˆ¬æ­¦è‰ºï¼Œç¥­ç»ƒå¥‡é—¨å·§æŠ€å„ç§å¤§æ€ï¼æ–¹å¯ä¸ä¹‹å‘¨æ—‹å¹¶å°†ä¹‹æ­¼ç­ï¼å¥½ï¼è·Ÿç€åšä¸»ä¸€èµ·è£…é€¼ä¸€èµ·é£å§ï¼ï¼ï¼ï¼&lt;/p&gt;

&lt;p&gt;ç¬¬ä¸€æ­¥ï¼š&lt;/p&gt;

&lt;p&gt;æˆ‘çœ‹å¤§å®¶è“¬å¤´å¢é¢çš„å°±çŸ¥é“å¤§å®¶åˆšåˆšä¹Ÿæ‰debugå›æ¥ ï¼Œæˆ‘ä»¬å°±å…ˆå†™ä¸ªhello worldå‹å‹æƒŠæŠŠï¼&lt;/p&gt;

&lt;p&gt;ç¬¬äºŒæ­¥&lt;/p&gt;

&lt;p&gt;â€¦â€¦&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;çŸ¥å·±çŸ¥å½¼ ç™¾æˆ˜ä¸æ®†&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ­¤å¤„ä¸ºå¤§é‡Copyï¼ä¸å–œè¯·å–·ï¼&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The software doesnâ€™t do something that the product specification says it should do.&lt;/p&gt;

  &lt;p&gt;The software does something that the product specification says it shouldnâ€™t do.&lt;/p&gt;

  &lt;p&gt;The software does something that the product specification doesnâ€™t mention.&lt;/p&gt;

  &lt;p&gt;The software doesnâ€™t do something that the product specification doesnâ€™t mention but should.&lt;/p&gt;

  &lt;p&gt;The software is difficult to understand, hard to use, slow, or in the software testerâ€™s eyes will be viewed by the end user as just plain not right.&lt;/p&gt;

&lt;/blockquote&gt;

&lt;p&gt;æˆ‘ä¸æ˜¯è‹±æ–‡æ•™å¸ˆï¼Œè¯·å¤§å®¶è‡ªè¡Œåˆ‡æ¢å¤šè¯­è¨€é˜…è¯»æ¨¡å¼ã€‚&lt;/p&gt;

&lt;p&gt;ä¹Ÿè¿˜æœ‰æœ‰äººç²—æš´çš„å®šä¹‰ â€Bugå°±æ˜¯é”™è¯¯â€œï¼Œé™¤äº†ä¸–ç•Œä¸Šç¬¬ä¸€åªBugæ˜¯é£è¿›å»çš„é‚£åªè™«å­å¤–ï¼Œå…¶ä»–Bugæ¯‹åº¸ç½®ç–‘é‚£éƒ½æ˜¯ç¨‹åºå‘˜ä»¬è‡ªå·±ç”Ÿä¸‹æ¥çš„ï¼ç¨‹åºå‘˜ä»¬è‡ªå·±çŠ¯çš„é”™è¯¯ï¼å¦‚æœè¯´ä¸€ä¸ªè½¯ä»¶ä½œå“(è¯·å°Šé‡ä½ è‡ªå·±çš„ä½œå“ï¼Œä¸è¦å–Šä»–ä»¬â€äº§å“â€æˆ–è€…â€é¡¹ç›®â€)æ˜¯ç¨‹åºå‘˜ä»¬è‡ªå·±çš„å­©å­ï¼Œé‚£ä¹ˆBugå°±æ˜¯è¿™ä¸ªå­©å­çš„ç”Ÿçš„ç—…ï¼Œæœ‰ç—…å¾—æ²»ï¼Œè¯ä¸èƒ½åœï¼ç”Ÿç—…æœ‰å„ç§æ²»ç–—æ–¹æ³•ï¼Œç‰©ç–—ï¼Œç†ç–—ï¼ŒåŒ–ç–—ï¼Œå¿ƒç†ç–—â€¦â€¦é‚£ä¹ˆâ€œæ²»ç–—â€Bugä¹Ÿæ˜¯æœ‰å¤šä¸­æ–¹æ³•çš„ï¼ä¸‹é¢åšä¸»ä¼šä¸€ä¸€åˆ—ä¸¾ï¼æƒ©æ²»è¿™äº›ä¸ªBugä¹‹å‰ï¼Œåšä¸»è¦å…ˆé˜¿æ‹‰å·´æ‹‰ä¸€ç•ªï¼Œé‡åˆ°Bugä¹Ÿæ˜¯ä¸€ä»¶æ¯”è¾ƒå“”äº†ç‹—äº†çš„äº‹æƒ…ï¼Œä½ è¦çŸ¥é“ä»»ä½•äººéƒ½ä¼šç”Ÿç—…ï¼Œæ²¡æœ‰ä¾‹å¤–ï¼æ‰€æœ‰ä»»ä½•ä»£ç éƒ½æœ‰Bugè¿™æ˜¯å®šç†ï¼Œæˆ‘ä»¬é¦–å…ˆè¦ä»å¿ƒæ€ä¸Šç«¯æ­£Bugè¿™ä»¶äº‹æƒ…ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºç¼ºæ†¾ä¹Ÿæ˜¯ä¸€ç§ç¾ï¼Œå°±åƒé˜¿é›¨è¯´çš„â€œæ²¡æœ‰çš±çº¹çš„ç¥–æ¯æ˜¯å¯æ€•çš„ï¼Œæ²¡æœ‰ç™½å‘çš„è€è€…æ˜¯è®©äººé—æ†¾çš„ã€‚æ²¡æœ‰åºŸå¢Ÿçš„äººç”Ÿå¤ªç´¯äº†ï¼Œæ²¡æœ‰åºŸå¢Ÿçš„å¤§åœ°å¤ªæŒ¤äº†ï¼Œæ©ç›–åºŸå¢Ÿçš„ä¸¾åŠ¨å¤ªä¼ªè¯ˆäº†ã€‚â€Debugæ˜¯ä¸ºäº†è¯æ˜ç¨‹åºæœ‰é”™ï¼Œè€Œä¸æ˜¯è¯æ˜ç¨‹åºæ— é”™è¯¯ï¼›æ‰€ä»¥æˆ‘ä»¬è¦åšåˆ°ä¸´Bugè€Œä¸æƒ§è€…,åœ£äººä¹‹å‹‡ä¹Ÿï¼æ‰€ä»¥æˆ‘ä»¬è¦åšåˆ°æˆ˜ç•¥ä¸Šè—è§†å®ƒï¼Œæˆ˜æœ¯ä¸Šé‡è§†å®ƒï¼ä½ è¦å¿ƒç†é»˜å¿µBugå…¶å®æŒº(T)ç¾(M)çš„(D)!anyway æ— Bugä¸ç”Ÿæ´»ï¼ï¼&lt;/p&gt;

&lt;h2 id=&quot;æŠ½åˆ€æ–­bug&quot;&gt;æŠ½åˆ€æ–­Bug&lt;/h2&gt;

&lt;p&gt;æ–­ç‚¹ï¼Œï¼ˆæˆ‘æ±‚ä½ ä»¬ä¸è¦æƒ³åˆ°å¼ æ•¬è½©ï¼Œé˜¿è½©ä»–å®¹æ˜“ä¹ˆï¼Œå°å—åˆæ€ä¹ˆäº†ï¼Ÿä½ ä»¬è¿™å¸®äººçœŸæ˜¯çš„ï¼ï¼ï¼‰ï¼Œæˆ‘è¦è¯´çš„æ–­ç‚¹æ˜¯BreakPointï¼åŸºæœ¬ä¸Šä¸æ˜¯æ®‹åºŸçš„IDEéƒ½å…·æœ‰æ–­ç‚¹è°ƒè¯•åŠŸèƒ½å§ï¼å°¤å…¶æ˜¯XCodeï¼Œæˆ‘ä»¬å®¶çš„IDEæ–­ç‚¹è°ƒè¯•åŠŸèƒ½å¯æ˜¯å¼ºä¸­åˆæ˜¯å¼ºä¸­æ‰‹ï¼åœ¨è¿™ä¹‹å‰å¤§å®¶å¯ä»¥å…ˆäº†è§£ä¸€ä¸‹å“ˆå­æ˜¯æ–­ç‚¹ï¼Ÿå®ƒæ€ä¹ˆå®ç°çš„ï¼Ÿå·¥ä½œåŸç†æ€ä¹ˆæ ·çš„ï¼Ÿåšä¸»å°±çŒ®ä¸‘è¯´è¯´è‡ªå·±çš„ç†è§£å§ï¼Œæ–­ç‚¹ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯ä»å‰æœ‰ä¸€ä¸ªç‚¹ï¼Œåæ¥å®ƒæ–­äº†ï¼Œè°¢è°¢ï¼Œæˆ‘çš„æ•…äº‹è®²å®Œäº†ã€‚å“å“Ÿè¿˜ä¸æœï¼Œè¿™äº›åŸºç¡€å¸¸è¯†çš„ä¸œè¥¿è‡ªå·±ä¸ä¼šæŸ¥ï¼Ÿä½ è¿˜çœŸçš„è„¸çš®åšä¸Šå¤©äº†å»äº†ï¼Œè¿˜è¦åšä¸»ç»™ä½ æŸ¥å“Ÿï¼Œè‡ªå·±æŸ¥å»ï¼&lt;/p&gt;

&lt;h3 id=&quot;æ™®é€šæ“ä½œ&quot;&gt;æ™®é€šæ“ä½œ&lt;/h3&gt;

&lt;p&gt;å¦‚å›¾3&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic3.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;åŸºæœ¬çš„æ–­ç‚¹æ“ä½œå¦‚ä¸‹&lt;/p&gt;

&lt;p&gt;å›¾4&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic4.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ç‚¹å‡»é‚£ä¸ªé»‘åˆ—åˆ—å°±åˆ›å»ºäº†ä¸€ä¸ªæ–­ç‚¹ï¼Œå†æ¬¡ç‚¹å‡»å°±ä¸´æ—¶å–æ¶ˆè¿™ä¸ªæ–­ç‚¹(ä½†æ˜¯ä¸åˆ é™¤)ï¼Œé•¿æŒ‰é‚£ä¸ªæ–­ç‚¹æ‹–å‡ºå»å°±åˆ é™¤äº†(mac osçš„ç³»ç»Ÿå·¥ç¨‹å¸ˆå°±æ˜¯ç¨€é¥­æ‹–åŠ¨çš„å¿«æ„Ÿ)ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å³é”®é‚£ä¸ªåˆ›å»ºçš„æ–­ç‚¹ï¼Œä¼šå¼¹å‡ºç›¸åº”åœ°èœå•ã€‚&lt;/p&gt;

&lt;p&gt;å½“ç„¶ä¹Ÿè¿˜å¯ä»¥ç›‘è§†æŸä¸ªå˜é‡ï¼&lt;/p&gt;

&lt;p&gt;å›¾5&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic5.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;åœ¨å¯¹è±¡è§†å›¾ä¸­ï¼Œå³é”®æŸä¸ªå¯¹è±¡ï¼Œç‚¹å‡»â€œWatch â€˜XXXâ€™â€å°±å®ŒæˆXXXå¯¹è±¡çš„ç›‘è§†äº†ã€‚&lt;/p&gt;

&lt;p&gt;è¿™é‡Œæˆ‘ç›‘è§†äº†labè¿™ä¸ªUILabelçš„å˜é‡ï¼Œæ¯å½“è¿™ä¸ªå˜é‡è¿›è¡Œæ›´æ–°å®ƒçš„ä¿¡æ¯å°±ä¼šè¢«æ‰“å°åˆ°æ§åˆ¶å°ã€‚&lt;/p&gt;

&lt;p&gt;å¥½å§ï¼æˆ‘ä»¬æœ€åŸºæœ¬çš„åˆ›å»ºæ–­ç‚¹çš„å·¥ä½œå·²ç»å­¦ä¼šäº†ï¼ŒXcodeèˆ’æœåœ¨ä»€ä¹ˆåœ°æ–¹å‘¢ï¼Ÿå°±æ˜¯ä¸åˆ†Debugæ¨¡å¼å’ŒRunæ¨¡å¼çš„ï¼Œå¯ä»¥è¯´æ˜¯æ— ç¼åˆ‡æ¢çš„ï¼Œä½ åªè¦æ²¡æœ‰åˆ›å»ºæ–­ç‚¹ï¼Œé‚£ä¹ˆå°±æ˜¯Runçš„æ­£å¸¸æ¨¡å¼ï¼Œå¦‚æœåˆ›å»ºäº†æ–­ç‚¹å¹¶ä¸”è¿è¡Œåˆ°æ–­ç‚¹å¤„ï¼Œå°±è‡ªåŠ¨è¿›å…¥Debugæ¨¡å¼å’¯ï¼Œä¸åƒæŸECå¼€å¤´çš„IDEï¼Œæ§åˆ¶é¢æ¿å°±åƒå¼€é£æœºçš„ä¸€æ ·ï¼Œå‡ ä¸‡ä¸ªæŒ‰é’®ä»¥ä¸ºå¾ˆå¼ºå¤§ï¼Œå…¶å®åªç”¨äº†Runå’ŒStopï¼Œè¿˜æœ‰ä»€ä¹ˆDebugæ¨¡å¼ï¼ŒAppæ¨¡å¼â€¦â€¦ï¼Œæœç„¶Xcodeçš„ä¼˜è¶Šæ„Ÿåœ¨å¯¹æ¯”ä¸­æ›´åŠ å¼ºçƒˆäº†ï¼Œèˆ’æœåˆ°æç‚¹å‘€ï¼Œå°±åƒå¤å¤©çš„æµ·é£æ‹‚è¿‡èŠèŠ±ï¼Œå—¯æ˜¯çš„ å°±æ˜¯é‚£ç§æ„Ÿè§‰ï¼&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬åˆ›å»ºå¥½äº†æ–­ç‚¹ï¼Œè¿è¡Œåˆ°æ–­ç‚¹å°±è‡ªåŠ¨åœä¸‹æ¥äº†ï¼Œåƒè¿™æ ·ï¼š&lt;/p&gt;

&lt;p&gt;å›¾6&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic6.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è¿™äº›Debugçš„æœ€åŸºæœ¬æ“ä½œæŠ€èƒ½æ˜¯æ¯ä¸€ä¸ªå…¥é—¨çš„iOSå¼€å‘è€…éƒ½è¦æŒæ¡çš„ï¼Œåº”è¯¥å½“æˆä¸€ç§æœ¬èƒ½ï¼Œå°±åƒç‹—çˆ±åƒç¿”ä¸€æ ·(å™¢ å¯¹ä¸èµ· åšä¸»ä¸æ˜¯æ­§è§†ç‹—çš„æ„æ€ï¼Œåšä¸»ä¹Ÿå…»è¿‡ç‹—ï¼Œå¾ˆäºŒé€¼ä½†æ˜¯ä»ä¸åƒç¿”ï¼çœŸçš„æ®æˆ‘æ‰€çŸ¥å®ƒä»æ¥ä¸åƒç¿”çš„ï¼Œè¿™é‡Œåªæ˜¯æ¯”å–»åªæ˜¯æ¯”å–»)ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å…¨å±€æ–­ç‚¹global-breakpoint&quot;&gt;å…¨å±€æ–­ç‚¹ï¼ˆGlobal BreakPointï¼‰&lt;/h3&gt;

&lt;p&gt;æœ‰æ—¶å€™åœ¨ç¨‹åºå‡ºé”™çš„æ—¶å€™ä¸èƒ½èƒ½å‡†ç¡®å®šä½åˆ°å¥”æºƒçš„é‚£ä¸€è¡Œä»£ç ,è€Œæ˜¯ç›´æ¥è·‘åˆ°mainå¾ªç¯æˆ–è€…Appdelegateé‡Œé¢ï¼Œ æˆ–è€…ä¼šç»™ä½ è¿™æ ·çš„æç¤ºï¼š&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;EXEC_BAD_ACCESSï¼š&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;æ˜¯ä¸æ˜¯æœ‰ç§æƒ³å“­çš„å†²åŠ¨ï¼Ÿå°¼ç›~è‡³å°‘ç»™æˆ‘ä¸€äº›å †æ ˆä¿¡æ¯ä¹Ÿå¥½å‘€~â€¦â€¦è¿™ä¸ªæ—¶å€™ä½ åƒä¸‡ä¸è¦ç ¸é¼ æ ‡å’Œé”®ç›˜å“¦ï¼Œä¸€åˆ‡éƒ½æ˜¯ä¸»æœºåœ¨è¿è¡Œï¼Œä½ ç ¸é¼ æ ‡å’Œé”®ç›˜æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿåº”è¯¥æ˜¯è¸¢ä¸»æœºå‘€~~ï¼Œç°åœ¨æœ‰äº†å…¨å±€æ–­ç‚¹ï¼Œå¨˜äº²å†ä¹Ÿä¸æ‹…å¿ƒä½ ç ¸é¼ æ ‡äº†ï¼Œä½ åªéœ€è¦è¿™æ ·ï¼š&lt;/p&gt;

&lt;p&gt;å›¾7&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic7.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;åœ¨Debugå¯¼èˆªé¢æ¿è¿›è¡Œä¸Šå›¾çš„æ“ä½œï¼Œä½ å°±å»ºç«‹äº†å…¨å±€æ–­ç‚¹ï¼Œè¿™æ ·åªè¦é‡åˆ°é”™è¯¯ï¼Œdebugç¨‹åºå°±ä¼šè‡ªåŠ¨å®šä½åˆ°æ ˆåº•çš„ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯ä½ æœ€å…ˆå‡ºé”™çš„ä»£ç çš„é‚£ä¸€è¡Œï¼Œè¿™æ ·ä½ å°±å¯ä»¥å¿«ä¹çš„debugæ‹‰~~&lt;/p&gt;

&lt;h3 id=&quot;æ¡ä»¶æ–­ç‚¹condational-breakpoints&quot;&gt;æ¡ä»¶æ–­ç‚¹(Condational Breakpoints)&lt;/h3&gt;

&lt;p&gt;ä»å‰æœ‰ä¸€ä¸ªæ¸¸æˆï¼Œå«åšæ’¸å•Šæ’¸ï¼Œæœ‰äº›ç©å®¶ä»–ä»¬çŸ¥é“æ€ä¹ˆæ“ä½œï¼Œä¼šæ”¾æŠ€èƒ½ä¼šèµ°è·¯ï¼Œä½†æ˜¯ä»–ä»¬ä¸çŸ¥é“ä¹°è£…å¤‡ï¼Œç©äº†ä¸€å±€ä¸‹æ¥ï¼Œé‹å­å°åˆ€éƒ½æ²¡æœ‰ä¹°ã€‚æˆ‘ä¸ºä»€ä¹ˆè®²è¿™ä¸ªæ•…äº‹å‘¢ï¼Ÿå› ä¸ºå¾ˆå¤šå°æœ‹å‹å­¦ä¸œè¥¿å’Œç©æ¸¸æˆä¸€æ ·ï¼Œçœ‹å®Œå‰é¢çš„å‡ ç§è°ƒè¯•æŠ€èƒ½ï¼Œå°±ä»¥ä¸ºè‡ªå·±å·²ç»å±Œçˆ†æ— æ•Œäº†ï¼Œå…¶å®ä»–ä»¬ä¸è¿‡æ˜¯å‡ºé—¨ä¸å¸¦è£…å¤‡çš„ç©å®¶ï¼Œå¦‚æœåªæ˜¯ä½¿ç”¨äº†ä»¥ä¸Šçš„è°ƒè¯•æŠ€èƒ½åªèƒ½è¯´æ˜¯ä½ç©ï¼Œåœ¨é«˜å¤§çš„é€¼ä¼˜é¸¡é¢å‰æ ¹æœ¬å°±æ˜¯ä¼šè¢«ç¬ç§’çš„é‚£ç§ï¼Œæ‰€ä»¥å­¦ä¼šè£…å¤‡è‡ªå·±æ‰æ˜¯ç‹é“ï¼æ¡ä»¶æ–­ç‚¹ï¼Œå°±æ˜¯å­¦ä¼šæœ‰çš„æ”¾çŸ¢ï¼&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬æ¥çœ‹ä¸€æ®µä»£ç &lt;/p&gt;

&lt;p&gt;å›¾8&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic8.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ä½ æ˜¯ä¸æ˜¯æƒ³é—®åšä¸»ä¸ºä½•é‚£ä¹ˆé£éªšï¼Œç«Ÿç„¶ä¸Šäº†Swiftäº†ï¼ï¼æˆ‘æ­¤åˆ»åªæƒ³åŸä¸€é¦–æ¹¿ï¼šåˆ«äººç¬‘æˆ‘å¤ªæ·«è¡ï¼Œæˆ‘å®¶ä½åœ¨é»„é¹¤æ¥¼ã€‚&lt;/p&gt;

&lt;p&gt;åæ­£è¿™ä¸ªå¹´ä»£å¤§å®¶éƒ½æ˜¯åƒé¥±äº†æ’‘ç€çš„ï¼Œåšä¸»ä¹Ÿæ˜¯ï¼Œæ‰€ä»¥å°±å­¦å­¦Swiftå’¯ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å¦‚æœåœ¨ä¸€ä¸ªå¾ªç¯é‡Œé¢ä½¿ç”¨äº†æ–­ç‚¹ï¼Œå¦‚æœè¿™ä¸ªå¾ªç¯æ‰§è¡Œäº†100ä¸‡æ¬¡ï¼Œé‚£ä½ çš„æ–­ç‚¹è¦æ‰§è¡Œé‚£ä¹ˆå¤šæ¬¡ï¼Œä½ ä¸è§‰å¾—è›‹è›‹éƒ½å‡‰äº†çš„å¿§ä¼¤ä¹ˆï¼Ÿæ‰€ä»¥æˆ‘ä»¬è¿™ä¹ˆåšï¼š&lt;/p&gt;

&lt;p&gt;å›¾9&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic9.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è¿™æ ·åªæœ‰éå†åˆ°c==â€œHâ€çš„æ—¶å€™ æ–­ç‚¹æ‰ä¼šè¢«è§¦å‘ã€‚&lt;/p&gt;

&lt;p&gt;å›¾10&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic10.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æ˜¯ä¸æ˜¯å¾ˆæ£’å‘¢ï¼&lt;/p&gt;

&lt;p&gt;æœ‰äº›ç«¥é‹çš„é’›åˆé‡‘ç‹—çœ¼å·²ç»çœ‹åˆ°äº†ç¼–è¾‘æ–­ç‚¹é‚£é‡Œæœ‰ä¸€ä¸ªActionçš„ä¸œè¥¿ï¼Œé‚£æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªæ˜¯éå¸¸å¼ºå¤§çš„ï¼Œå¯ä»¥åœ¨ä½ æ–­ç‚¹çš„ä½ç½®ï¼Œæ‰§è¡Œå„ç§æ“ä½œï¼Œæ¯”å¦‚æ‰§è¡Œè„šæœ¬å‘½ä»¤ï¼Œæ§åˆ¶å°å‘½ä»¤(å¯ä»¥åˆ¶å®šè°ƒè¯•ä¿¡æ¯è‡ªå®šä¹‰ä¿å­˜)ã€æ‰“å°ä¿¡æ¯ç­‰ï¼Œ&lt;/p&gt;

&lt;p&gt;åšä¸»æœ€å–œæ¬¢çš„å°±æ˜¯è¿™ä¸ªLog messageå•¦ï¼Œç®€å•ç²—æš´ï¼æ ¹æœ¬å°±ä¸éœ€è¦printå•ŠNSLogå˜›ï¼Œç›´æ¥åœ¨æ–­ç‚¹çš„Actionæ‰“å°å°±å¥½äº†ï¼ˆå…¶å®è¿™ä¸ªæ˜¯Xcodeå’Œè°ƒè¯•å™¨ç»“åˆçš„é«˜èƒ½äº§ç‰©ï¼Œä¸‹é¢å†ä»‹ç»ï¼‰ã€‚å…·ä½“å¯ä»¥è¿™æ ·ï¼š&lt;/p&gt;

&lt;p&gt;å›¾11&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic11.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å…¶å®åˆšåˆšåšä¸»æ’’è°äº†ï¼Œåšä¸»æœ€å–œæ¬¢çš„Actionå¹¶ä¸æ˜¯Log Messageï¼Œè€Œæ˜¯Soundï¼Œé¡¾åæ€ä¹‰å˜›ï¼Œæ–­ç‚¹å°„åœ¨Bugä¸Šï¼Œè¿™æ ·é‡åˆ°æ–­ç‚¹å°±ä¼šå‘å‡ºå£°éŸ³ï¼Œå¬åˆ°æˆ‘è‡ªå·±è®¾ç½®çš„å£°éŸ³ï¼Œæˆ‘å°±çŸ¥é“æ˜¯ä»€ä¹ˆBugäº†ï¼Œå¬å£°è¯†Bugï¼Œå‘µå‘µï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;EXEC_BAD_ACCESS&lt;/code&gt;çš„é”™è¯¯æˆ‘è®¾ç½®æˆäº†æ³¢å¤šé‡è€å¸ˆçš„å£°éŸ³ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;unrecognized selector send to instancd&lt;/code&gt;çš„é”™è¯¯æˆ‘è®¾ç½®æˆäº†è‹è€å¸ˆçš„â€¦â€¦ ä¸è¦é—®æˆ‘ç³»ç»Ÿæ€ä¹ˆæ²¡æœ‰å‰æ³½æ˜æ­¥çš„å£°éŸ³ï¼Œæˆ‘æ ¹æœ¬å°±ä¸çŸ¥é“è°æ˜¯å‰æ³½æ˜æ­¥ã€‚&lt;/p&gt;

&lt;p&gt;å½“ç„¶è¿˜æœ‰æ›´åŠ å¼ºå¤§çš„æ¡ä»¶æ–­ç‚¹å°±æ˜¯è¿™è´§å•¦&lt;/p&gt;

&lt;p&gt;å›¾12&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic12.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æ·»åŠ ä¹‹ååœ¨ Symbol ä¸€æ è¾“å…¥&lt;code class=&quot;highlighter-rouge&quot;&gt; viewDidLoad&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;è¿™æ ·ä¸€æ¥ï¼Œåœ¨ç¨‹åºä¸­æ‰€æœ‰çš„ viewDidLoad æ–¹æ³•è¢«è°ƒç”¨æ—¶éƒ½ä¼šè§¦å‘æ–­ç‚¹ã€‚&lt;/p&gt;

&lt;p&gt;å›¾13&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic13.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä»…ä»…ä¸ºç‰¹å®šçš„æŸä¸ªç±»çš„æ–¹æ³•æ·»åŠ æ–­ç‚¹ã€‚åœ¨ Symbol ä¸€æ è¾“å…¥ &lt;code class=&quot;highlighter-rouge&quot;&gt;[ClassName viewDidLoad] (Objective-C) &lt;/code&gt;æˆ– &lt;code class=&quot;highlighter-rouge&quot;&gt;ClassName.viewDidLoad&lt;/code&gt; (Swift) å³å¯ã€‚&lt;/p&gt;

&lt;p&gt;æ¯”å¦‚ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;unrecognized selector sent to instance 0xaxxxx&lt;/code&gt; è¿™ç§é”™è¯¯ï¼Œè¿™ä¸ªinstanceå¯ä»¥è¿™æ ·å¿«é€Ÿå®šä½&lt;/p&gt;

&lt;p&gt;å›¾14&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic14.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;æ‰“å°çš„è‰ºæœ¯&quot;&gt;æ‰“å°çš„è‰ºæœ¯&lt;/h2&gt;

&lt;p&gt;å°½ç®¡ARCå·²ç»è®©å†…å­˜ç®¡ç†å˜å¾—ç®€å•ã€çœæ—¶å’Œé«˜æ•ˆï¼Œä½†æ˜¯åœ¨objectçš„life-cyclesä¸­è·Ÿè¸ªä¸€äº›é‡è¦äº‹ä»¶ä¾ç„¶ååˆ†é‡è¦ã€‚æ¯•ç«ŸARCå¹¶æ²¡æœ‰å®Œå…¨æ’é™¤å†…å­˜æ³„éœ²çš„å¯èƒ½æ€§ï¼Œæˆ–è€…è¯•å›¾è®¿é—®ä¸€ä¸ªè¢«releaseçš„å¯¹è±¡ã€‚ä¸ºäº†è¿™ä¸ªç›®çš„ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆè‰ºæœ¯åœ°å·çª¥å¯¹è±¡æ­£åœ¨åšäº›ä»€ä¹ˆï¼Œæƒ³æƒ³å°±å¥½æœ‰å¿«æ„Ÿã€‚&lt;/p&gt;

&lt;h3 id=&quot;nslog&quot;&gt;NSLog&lt;/h3&gt;

&lt;p&gt;å°ä¼™ä¼´ä»¬ç¬¬ä¸€èŠ‚è¯¾å­¦ä¹ ViewControllerçš„ç”Ÿå‘½å‘¨æœŸçš„æ—¶å€™ï¼Œè€å¸ˆè‚¯å®šå¾ˆçŒ¥ççš„æ•™äº†å¤§å®¶ï¼Œåœ¨viewControllerçš„æ¯ä¸ªç”Ÿå‘½å‘¨æœŸçš„æ–¹æ³•ä¸­ä½¿ç”¨äº†NSLogæ¥å·çª¥ï¼æ²¡é”™ï¼Œè¿™æ ·å…¶å®å°±æ˜¯æœ€ç®€å•çˆ†ç‚¸çš„è·Ÿè¸ªç”Ÿå‘½å‘¨æœŸçš„æ–¹æ³•äº†ï¼Œä¸è¿‡ç³»ç»Ÿè‡ªå·±çš„NSLogçœŸå¿ƒæœ‰ç‚¹ç¾¸å¼±ï¼Œè¾“å‡ºçš„ä¿¡æ¯å¤ªå°‘ï¼Œæ ¹æœ¬å°±ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„æ¬²æœ›ï¼Œè¿™é‡Œæˆ‘æ•™å¤§å®¶å¼ºåŒ–ä½ çš„Logï¼ï¼&lt;/p&gt;

&lt;p&gt;å¯ä»¥ç”¨ä¸‹é¢çš„è¿™æ®µå®&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;//A better version of NSLog

define NSLog(format, ...) do { \

fprintf(stderr, &quot;&amp;lt;%s : %d&amp;gt; %s\n&quot;, \

[[[NSString stringWithUTF8String:FILE] lastPathComponent] UTF8String], \

LINE, func); \

(NSLog)((format), ##VA_ARGS); \

fprintf(stderr, &quot;-------\n&quot;); \

} while (0)

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å…³äºå®çš„å¨åŠ› å¤§å®¶å¯ä»¥ä¹±å…¥æˆ‘çš„åšæ–‡&lt;a href=&quot;https://daiweilai.github.io/2015/01/20/iOS%E4%B8%AD%E7%9A%84%E9%A2%84%E7%BC%96%E8%AF%91%E6%8C%87%E4%BB%A4%E7%9A%84%E5%88%9D%E6%AD%A5%E6%8E%A2%E7%A9%B6/&quot; target=&quot;_blank&quot;&gt;ã€Š iOSä¸­çš„é¢„ç¼–è¯‘æŒ‡ä»¤çš„åˆæ­¥æ¢ç©¶ã€‹&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;è¿™æ ·æ‰“å°å‡ºæ¥çš„ä¸œè¥¿æ‰åƒè¯å˜›(å…¶å®NSLogçš„æ‰“å°æ˜¯éå¸¸ä½æ•ˆçš„ï¼Œç”šè‡³æ¯”printä½100å€ï¼Œæ„Ÿå…´è¶£è‡ªå·±ç¿»ç¿»è‹¹æœæ‰‹å†Œå’¯)ã€‚&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨objcè¯­è¨€(å¼ºç±»å‹)å¹¶ä¸”ç”¨NSLogæ‰“å°çš„æ—¶å€™ï¼Œå¸¸å¸¸æä¸æ¸…æ¥šNSLog(@â€œ%?â€,xxx) xxxè¿™ç§ç±»å‹è¯¥æ˜¯ä»€ä¹ˆä»€ä¹ˆç±»å‹è¾“å‡ºï¼Œåº”è¯¥æ˜¯%då‘¢è¿˜æ˜¯%@äº¦æˆ–æ˜¯%fï¼Ÿï¼Ÿï¼Ÿå‚»å‚»åˆ†ä¸æ¸…æ¥š~ï¼Œæ‰€ä»¥ç©è½¬NSLogä½ åº”è¯¥è¦çŸ¥é“ä»¥ä¸‹è¿™å‡ ä¸ªå…¨å±€æ–¹æ³•ï¼&lt;/p&gt;

&lt;p&gt;å›¾17&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic17.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;å¼€å¯åƒµå°¸å¯¹è±¡enable-nszombie-objects&quot;&gt;å¼€å¯åƒµå°¸å¯¹è±¡(Enable NSZombie Objects)&lt;/h3&gt;

&lt;p&gt;Xcodeå¯ä»¥æŠŠé‚£äº›å·²ç»releaseæ‰å¾—å¯¹è±¡ï¼Œå˜æˆâ€œåƒµå°¸â€ï¼Œå½“æˆ‘ä»¬è®¿é—®ä¸€ä¸ªZombieå¯¹è±¡æ—¶ï¼ŒXcodeå¯ä»¥å‘Šè¯‰æˆ‘ä»¬æ­£åœ¨è®¿é—®çš„å¯¹è±¡æ˜¯ä¸€ä¸ªä¸åº”è¯¥å­˜åœ¨çš„å¯¹è±¡äº†ã€‚å› ä¸ºXcodeçŸ¥é“è¿™ä¸ªå¯¹è±¡æ˜¯ä»€ä¹ˆï¼Œæ‰€ä»¥å¯ä»¥è®©æˆ‘ä»¬çŸ¥é“è¿™ä¸ªå¯¹è±¡åœ¨å“ªé‡Œï¼Œä»¥åŠè¿™æ˜¯ä»€ä¹ˆæ—¶å€™å‘ç”Ÿçš„ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥Zombiesæ˜¯ä½ çš„å¥½åŸºå‹ï¼ä»–å¯ä»¥è®©ä½ è¾“å‡ºçš„ä¿¡æ¯æ›´å…·ä½“ï¼ï¼&lt;/p&gt;

&lt;p&gt;å…·ä½“è¿™æ ·åšï¼š&lt;/p&gt;

&lt;p&gt;å›¾15&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic15.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è‡ªå·±å†è¯•è¯•è¾“å‡ºObjectçš„ä¿¡æ¯å’¯ï¼Œæ˜¯ä¸æ˜¯å¾ˆæ£’å‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;åƒµå°¸åªèƒ½ç”¨åœ¨æ¨¡æ‹Ÿå™¨å’ŒOCè¯­è¨€å“¦~&lt;/p&gt;

&lt;h2 id=&quot;è¿›å‡»çš„ç å†œ&quot;&gt;è¿›å‡»çš„ç å†œ&lt;/h2&gt;

&lt;p&gt;å¦‚æœè¯´ä½ å·²ç»æŠŠæ‰“å°çš„è‰ºæœ¯è¿ç”¨çš„é£ç”Ÿæ°´èµ·äº†ï¼Œå¹¶ä¸”æ–­ç‚¹çš„ä½¿ç”¨å¯ä»¥ä¿¡æ‰‹æ‹ˆæ¥éšå¿ƒæ‰€æ¬²ï¼Œé‚£ä¹ˆä½ å·²ç»åœ¨ä¸é€¼ä¼˜é¸¡çš„å¯¹å³™ä¸­ï¼Œç¨³æ“å¤§éƒ¨åˆ†èƒœåˆ¸äº†ï¼Œä½ å·²ç»æ˜¯ä¸€ä¸ªå­¤é«˜å†·è‰³çš„ç¨‹åºå‘˜äº†ï¼Œä¿¯è§†ä¸€åˆ‡ä½èƒ½çš„é€¼ä¼˜é¸¡äº†ï¼ä½†æ˜¯ï¼é¢å¯¹æ›´å¼ºå¤§çš„æ•Œäººâ€”â€”ä½ é‚£ç§ƒé¡¶1000Â°è¿‘è§†ç‰™é½¿å¤¹ç€éŸ­èœçš„æœ‰ç€åå¹´å¯¹æˆ˜é€¼ä¼˜é¸¡çš„åŒäº‹é¢å‰ã€ä»¥åŠç¬‘é‡Œè—åˆ€çœ¼ç›æœ‰çœ¼å±ä½†æ˜¯èƒ½ç”¨çœ¼ç¥æ€æ­»ä½ çš„é¢è¯•å®˜â€¦â€¦ å¯¹äºä»–ä»¬ï¼Œä½ è¿˜æ˜¯å¤ªå¼±ï¼Œä½ çš„æŠ€èƒ½çš„ç£¨ç»ƒè¿˜å¤ªå°‘ï¼æ‰€ä»¥ä½ å¿…é¡»è¦è¿›å‡»ï¼ï¼æ¯”é€¼ä¼˜é¸¡è¿˜è¦å¼ºå¤§çš„æ•Œäººå‡ºç°äº†ï¼æˆ‘ä»¬éœ€è¦æ›´å¼ºå¤§çš„æ­¦å™¨ã€‚&lt;/p&gt;

&lt;h3 id=&quot;consolelldb-å‘½ä»¤&quot;&gt;Console(lldb å‘½ä»¤)&lt;/h3&gt;

&lt;p&gt;æˆ‘ä»¬çš„ç›®æ ‡æ˜¯è¦æ­¦è£…åˆ°é¼»æ¯›ï¼consoleçª—å£å¤§å®¶çŸ¥é“å°±æ˜¯å“ªä¸ªé»‘ä¹ä¹å¥½å¤šå­—ä¼šæ»šå‡ºæ¥ï¼Œå°¤å…¶æ˜¯è¢«é€¼ä¼˜é¸¡å¹²åˆ°çš„æ—¶å€™ï¼Œé‚£ä¹ˆåŒå­¦ä»¬æœ‰æ²¡æœ‰é‡åˆ°è¿™ç§consoleå‘¢&lt;/p&gt;

&lt;p&gt;å›¾16&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic16.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å®¶çš„ç¼–è¯‘å™¨å†å² æ•¬è¯·ä¹±å…¥ ã€ŠiOSä¸­çš„é¢„ç¼–è¯‘æŒ‡ä»¤çš„åˆæ­¥æ¢ç©¶ã€‹ ï¼Œæ²¡é”™æˆ‘ä»¬ç°åœ¨æ­£åœ¨ä½¿ç”¨ç€ä¸–ç•Œä¸Šæœ€å¥½çš„cã€c++ã€ocã€swiftçš„ç¼–è¯‘å™¨â€”â€”LLVM,lldbå°±æ˜¯è¿™ä¸ªä¸–ç•Œä¸Šæœ€å¥½çš„LLVMçš„è°ƒè¯•å™¨ï¼ä¸è¦å®³ç¾ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯æœ€ä¼˜ç§€çš„ï¼æ‰€ä»¥è‚¯å®šè¦ç”¨æœ€å¥½çš„ï¼åƒä¸‡åˆ«å®¢æ°”å“Ÿï¼Œéšä¾¿ç”¨ï¼Œå°±åƒè‡ªå·±å®¶ä¸€æ ·å•Šï¼Œå•Š å“ˆå“ˆ åƒåƒåƒ åˆ«åªé¡¾ç€åƒé¥­ï¼Œå¤šå¤¹èœâ€¦â€¦å“~åšä¸»å¥½å®¢çš„èŒä¸šç—…åˆçŠ¯äº†~ï¼Œä»€ä¹ˆï¼Ÿä½ ä¸çŸ¥é“åœ¨å“ªé‡Œç”¨lldbï¼Ÿ&lt;/p&gt;

&lt;p&gt;é¦–å…ˆï¼ä½ å¾—å…ˆcrashæˆ–è€…æŠŠç¨‹åºæ–­ä¸‹æ¥ï¼ç›´åˆ°ä½ çœ‹åˆ°å›¾16çš„(lldb)å­—æ ·å‡ºç°ï¼Œä½ å°±å¯ä»¥æ•²å‘½ä»¤äº†~~&lt;/p&gt;

&lt;p&gt;æ¯æ¬¡ä½ æƒ³æŸ¥çœ‹å˜é‡ï¼Œå¸¸é‡ï¼Œä½ è¦é‡æ–°å†™NSLogå»æ‰“å°ï¼Œç„¶åé‡æ–°ç¼–è¯‘ï¼Œå»æ‰§è¡Œï¼Œé‡å¤´å¼€å§‹ï¼Ÿå¤ªç´¯äº†ï¼Œæœ‰äº†lldbä½ åªè¦è¿™æ ·&lt;/p&gt;

&lt;p&gt;å›¾18&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic18.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æ˜¯ä¸æ˜¯æ–¹ä¾¿åˆ°çˆ†ç‚¸ï¼Ÿ&lt;/p&gt;

&lt;p&gt;å½“ä½ æœ‰ä¸€ä¸ªswitchè¯­å¥ï¼Œä½ ä¸ºäº†æµ‹è¯•æ¯ä¸€ä¸ªcaseï¼Œä½ éƒ½è¦åˆ¶é€ å‡æ¡ä»¶å»æµ‹è¯•ï¼›æœ‰ä¸€ä¸ªifâ€¦elseâ€¦è¯­å¥ï¼Œä½ ä¸ºäº†æµ‹è¯•ä¸åŒçš„æƒ…å†µï¼Œä½ è¦ç¡¬ç¼–ç å†™äº†ä¸åŒçš„æƒ…å†µï¼Œç¼–è¯‘å¥½å‡ æ¬¡ä¸ºäº†æµ‹è¯•æ¯ç§æƒ…å†µâ€¦â€¦ï¼Œæˆ‘æƒ³ä½ åº”è¯¥çŸ¥é“ä¸ºä»€ä¹ˆè‡ªå·±çš„å¤´å‘é‚£ä¹ˆç¨€ç–äº†ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥ä¸Šçš„è¿™äº›æƒ…å†µï¼Œåªéœ€ä¸€æ¬¡ç¼–è¯‘ï¼Œä½¿ç”¨lldbçš„threadå‘½ä»¤ï¼Œä¼ªé€ è¿”å›å€¼ï¼Œæ¬ºéª—å¯„å­˜å™¨ï¼Œå°±å¯ä»¥éšå¿ƒæ‰€æ¬²çš„åšå®Œæ‰€æœ‰æµ‹è¯•äº†ã€‚&lt;/p&gt;

&lt;p&gt;æ˜¯ä¸æ˜¯ç‰›é€¼åˆ°çˆ†ç‚¸ï¼Ÿ&lt;/p&gt;

&lt;p&gt;lldbçœŸçš„å¾ˆå¼ºå¤§ï¼Œåšä¸»æ²¡æœ‰éª—ä½ ï¼Œè¿™ç¯‡åšæ–‡åˆ°æ­¤çš„æ‰€æœ‰è°ƒè¯•æŠ€å·§lldbéƒ½å¯ä»¥å®ç°ï¼Œå„ç§æ–­ç‚¹ï¼Œå„ç§æ‰“å°ï¼Œè°ƒç”¨pythonæ’ä»¶ï¼Œè¿è¡Œä¸­æ–­ï¼Œæ“ä½œç¡¬ä»¶åº•å±‚ï¼Œæ§åˆ¶ç¨‹åºè¿è¡Œçº¿ç¨‹â€¦â€¦lldbéƒ½å¯ä»¥åšåˆ°ï¼ä»¿ä½›lldbå°±æ˜¯å¦ä¸€ä¸ªå¼ºå¤§çš„ä¸–ç•Œï¼ï¼ï¼&lt;/p&gt;

&lt;p&gt;æ˜¯ä¸æ˜¯å¼ºå¤§åˆ°çˆ†ç‚¸ï¼Ÿ&lt;/p&gt;

&lt;p&gt;å…¶å®å¦‚æœä½ ä¸æƒ³è´ªå¤šåš¼ä¸çƒ‚çš„è¯ï¼Œä½ åªè¦ç²¾é€šè¿™ä¸ªè°ƒè¯•å·¥å…·ï¼ŒåŸºæœ¬å‰é¢çš„è°ƒè¯•æŠ€èƒ½ä½ å¯ä»¥ä¸ç”¨å­¦äº†ï¼Œåœ¨è¿™é‡Œåšä¸»ä¹Ÿæ˜¯ä¸æ‰ï¼Œlldbçš„å¼ºå¤§ä¸æ˜¯åšä¸»éšä¾¿è¯´å‡ å¥å°±å¯ä»¥è¡¨è¾¾çš„å‡ºæ¥çš„ï¼Œ&lt;/p&gt;

&lt;p&gt;æ›´å¤šåœ°éœ€è¦å¤§å®¶äº‹å¿…èº¬äº²ï¼Œæ‰èƒ½çœŸæ­£ä½“ä¼šåˆ°é‚£ç§ç¾å¥½ï¼Œé‚£ç§ç•…å¿«æ— æ¯”çš„è°ƒè¯•ä½“éªŒï¼&lt;/p&gt;

&lt;p&gt;è¿™é‡Œåšä¸»æ— ç§åœ°æå‡ºä»»æ„é—¨ï¼Œè¿™é‡Œæœ‰å¾ˆå¥½çš„æ–‡ç« ï¼å¯ä»¥è®©ä½ å¥½å¥½çš„å›å‘³ï¼Œå‘µå‘µ&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://lldb.llvm.org/tutorial.html&quot; target=&quot;_blank&quot;&gt;ã€ŠThe LLDB Debuggerã€‹&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://developer.apple.com/library/mac/documentation/IDEs/Conceptual/gdb_to_lldb_transition_guide/document/Introduction.html&quot; target=&quot;_blank&quot;&gt;ã€ŠAbout LLDB and Xcodeã€‹&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.starfelix.com/blog/2014/03/17/lldbdiao-shi-ming-ling-chu-tan/&quot; target=&quot;_blank&quot;&gt;ã€ŠLLDBè°ƒè¯•å‘½ä»¤åˆæ¢ã€‹&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://objccn.io/issue-19-2/&quot; target=&quot;_blank&quot;&gt;ã€Šä¸è°ƒè¯•å™¨å…±èˆ - LLDB çš„åå°”å…¹ã€‹&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;profileinstruments&quot;&gt;Profile(instruments)&lt;/h3&gt;

&lt;p&gt;å›¾19&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic19.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªä¸œè¥¿æ€ä¹ˆç¿»è¯‘å‘¢ï¼Ÿæˆ‘ä»¬å°±å«æ£€æŸ¥å™¨å§ï¼ï¼ä¹Ÿè®¸å·²ç»å­¦ä¹ äº†iOSå¼€å‘å¤§åŠå¹´çš„ä½ ï¼Œä»æ¥éƒ½æ²¡æ³¨æ„åˆ°æˆ–è€…ä½¿ç”¨è¿™ä¸ªå·¥å…·ï¼Œä½†æ˜¯åšä¸»å¾ˆè´Ÿè´£ä»»çš„å‘Šè¯‰ä½ ç°åœ¨å¸‚é¢ä¸Šä»»ä½•ä¸€æ¬¾å‡ºè‰²çš„APPéƒ½ä¼šä½¿ç”¨instrumentsæ¥è®©ä»£ç æ›´åŠ å¥å£®ï¼éš¾é“instrumentæ˜¯æ˜¥è¯ï¼Ÿæ€ä¹ˆä¼šä½¿ä»£ç å¥å£®å‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªå¥å£®ä¸æ˜¯é‚£ä¸ªå¥å£®~å“~~ æˆ‘æ‰18å²èƒ½ä¸èƒ½æ¸…çº¯ä¸€ç‚¹å‘€&lt;/p&gt;

&lt;p&gt;instrumenté‡Œé¢åŒ…å«äº†å¾ˆå¤šå·¥å…·ï¼Œå†…å­˜æº¢å‡ºåˆ†æï¼Œæ€§èƒ½åˆ†æï¼Œå„ç§åˆ†æâ€¦â€¦ å¦‚æœç»†è¯´çš„è¯ï¼Œè¿™ä¸ªçœŸçš„å¯ä»¥ä¸ºæ¯ä¸ªå·¥å…·å¼€ä¸€ç¯‡åšå®¢ï¼Œä½†æ˜¯åšä¸»æ˜¯ä¸€ä¸ªæ‡‚å¾—æˆäººä»¥é±¼ä¸å¦‚æˆäººä»¥æ¸”çš„é“ç†çš„è€å¸æœºï¼æ‰€ä»¥åšä¸»å½“ç„¶ä¸ä¼šå…¨éƒ¨è¯´ä¸€éï¼æˆ‘ä»¬å°±æ¥é¢†ç€å¤§å®¶çœ‹çœ‹ä¸“ç”¨debugçš„å†…å­˜æº¢å‡ºåˆ†æå·¥å…·çš„ä½¿ç”¨å§ï¼&lt;/p&gt;

&lt;p&gt;å›¾20&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic20.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;åœ¨ä½¿ç”¨leaksä¹‹å‰å¤§å®¶å¯ä»¥è¯•è¯•è¿™ä¸ªâ€œAnalyzeâ€&lt;/p&gt;

&lt;p&gt;å›¾21&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic21.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;analyzeå¯ä»¥å¿«é€Ÿçš„å‘ç°ä½ çš„ä»£ç ä¸­releaseçš„é—®é¢˜ï¼Œä»¥åŠç»§æ‰¿è¿‡ç¨‹ä¸­çš„çˆ¶ç±»æ–¹æ³•ç¼ºå¤±ç­‰ç­‰é—®é¢˜ï¼ä¸€èˆ¬ä¸€ä¸ªä¼˜ç§€çš„iOSå¼€å‘å·¥ç¨‹å¸ˆNo Warningã€Pass Analyzeæ˜¯æœ€åŸºæœ¬çš„æ“å®ˆï¼æˆ‘çŸ¥é“ä½ å·²ç»å¯¹äºä½ è‡ªå·±çš„é¡¹ç›®çš„ä¸Šç™¾ä¸ªwarningå·²ç»éº»æœ¨äº†ï¼Œä½†åšä¸»æˆ‘è´Ÿè´£äººåœ°å‘Šè¯‰ä½ ï¼Œè¿™æ ·ä¸å¥½ï¼ï¼Œå› ä¸ºæœ‰ä¸€é¦–äº‘å—æ°‘æ­Œã€Šè€å¸æœºå¸¦å¸¦æˆ‘ã€‹å¬å¾—åšä¸»ç¥æ¸…æ°”çˆ½ï¼&lt;/p&gt;

&lt;p&gt;åšå®ˆä½œä¸ºiOSå¼€å‘è€…çš„è´æ“ï¼è·Ÿç€æˆ‘é«˜å–Šå£å·ï¼&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;No Warningï¼Pass Analyzeï¼&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æˆ‘ä»¬ç»§ç»­å›æ¥ä½¿ç”¨leaksï¼å¦‚æœanalyzeéƒ½é€šè¿‡äº†ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨leakså·¥å…·ï¼Œå‘ç°åƒå¹´è€å¦–çº§åˆ«çš„ä¾§æ¼äº†ï¼&lt;/p&gt;

&lt;p&gt;å›¾22&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic22.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¦‚æœæç¤ºæŸä¸€ä¸ªå¯¹è±¡æœ‰ä¾§æ¼çš„é£é™©ï¼Œä½ è¿˜å¯ä»¥è¿™æ ·å¼¹å‡ºä¾§è¾¹çš„æ‹“å±•ç»†èŠ‚&lt;/p&gt;

&lt;p&gt;å›¾23&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic23.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ç›´æ¥ç‚¹å‡»æ–¹æ³•å°±å¯ä»¥ç›´æ¥è¿›å…¥ä»£ç éƒ¨åˆ†äº†ï¼ï¼&lt;/p&gt;

&lt;p&gt;æ˜¯ä¸æ˜¯å¾ˆç®€å•ç²—æš´å‘¢ï¼å½“ç„¶è¿˜å¾ˆå¤šå…¶ä»–å·¥å…·ï¼Œä¸è¿‡å«åšç¯‡å¹…çš„ä¸œè¥¿æ€»æ˜¯é™åˆ¶äººï¼Œè¯¶ çœŸè›‹ç–¼~çœŸçš„è¿˜æƒ³å¤šè¯´ç‚¹çš„&lt;/p&gt;

&lt;p&gt;æƒ³è¦æ›´å¤šäº†è§£instrument å¤§å®¶å¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« ï¼&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.raywenderlich.com/23037/how-to-use-instruments-in-xcode&quot; target=&quot;_blank&quot;&gt;ã€ŠHow to Use Instruments in Xcodeã€‹&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;xcodeè§†å›¾è°ƒè¯•&quot;&gt;Xcodeè§†å›¾è°ƒè¯•&lt;/h3&gt;

&lt;p&gt;æœ‰æ—¶å€™æœ‰äº›é€¼ä¼˜é¸¡éšè—çš„æ¯”è¾ƒæ·±ï¼Œä»£ç å‡ ä¹éƒ½ç¿»äº†ä¸ªéï¼Œè¿˜æ˜¯æ²¡æ‰¾åˆ°é—®é¢˜å‡ºåœ¨å“ªï¼Œåšä¸»å¯ä»¥ç†è§£é‚£ç§é£ä¸­å‡Œä¹±ï¼Œè›‹ç¢ä¸€åœ°çš„èµ¶è„šï¼Œå› ä¸ºæ— æ•°ä¸ªæ—¥å¤œåšä¸»å°±æ˜¯æ·±é™·å½“ä¸­æ— æ³•è‡ªæ‹”ï¼Œåæ¥å¹²è„†ç›´æ¥é‡æ–°æ–°å»ºä¸€ä¸ªå·¥ç¨‹ï¼è¿˜æ˜¯ä¸è¡Œï¼ï¼æˆ‘å»ï¼Œç›´åˆ°æœ‰ä¸€å¤©åšä¸»æ—©ä¸Šèµ·æ¥ï¼Œçœ‹åˆ°é•œå­ä¸­è‡ªå·±å¸…æ°”çš„è„¸åºï¼Œæˆ‘æ‰çªç„¶é¡¿æ‚Ÿï¼ŒåŸæ¥é•¿å¾—å¸…å¯ä»¥é‚£æ ·å¿«é€Ÿçš„æ‰¾åˆ°bugï¼æœ€ç»ˆé”å®šæ˜¯å¯çˆ±åˆå¯æ¨çš„xibå’Œstoryboardå‡ºäº†é—®é¢˜ï¼ï¼æŸä¸ªconstraintæˆ–è€…viewçš„åµŒå¥—é€»è¾‘åˆæˆ–è€…å›¢é˜Ÿåä½œGitå†²çªç­‰ç­‰é—®é¢˜ï¼Œå¯¼è‡´io -vä»€ä¹ˆçš„é”™è¯¯ï¼Œè¿™ç§æƒ…å†µå»æ£€æŸ¥è§†å›¾æ–‡ä»¶ï¼Œå¯èƒ½xcodeå´©æºƒæ‰“ä¸å¼€é‚£ä¸ªxibæˆ–è€…storyboardï¼Œä½ ç›´æ¥ä½¿ç”¨æ–‡æœ¬å·¥å…·æ‰“å¼€è¿™ä¸ªxmlç±»å‹çš„æ ‡è®°æ–‡ä»¶ï¼Œä½ å·®ç‚¹åè¡€ï¼Œå‡ ä¸‡è¡Œçš„è®°å½•ç‹—çœ¼éƒ½çœ‹çäº†â€¦â€¦ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯è¿™ä¸ªå†å²è¦è¢«ç»ˆç»“ï¼ï¼å› ä¸ºæˆ‘ä»¬å¼ºå¤§çš„xcodeçš„è§†å›¾è°ƒè¯•åŠŸèƒ½ï¼ï¼&lt;/p&gt;

&lt;p&gt;ä»¥ä¸‹å†…å®¹ï¼Œå®Œå…¨copyï¼Œå¦‚æœ‰ä¸é€‚ï¼ŒåšæŒçœ‹å®Œï¼è¯·å«æˆ‘å¿«ä¹çš„æ¬è¿å·¥ï¼&lt;/p&gt;

&lt;p&gt;æŠ„è¢­è‡ª&lt;a href=&quot;http://code.tutsplus.com/tutorials/view-debugging-in-xcode-6--cms-22530&quot; target=&quot;_blank&quot;&gt;ã€ŠView Debugging in Xcode 6ã€‹&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;è‹¹æœåœ¨Xcode 6ä¸­åšäº†ä¸å°‘æ˜æ˜¾çš„æ”¹å–„å’Œä¼˜åŒ–ï¼Œè§†å›¾è°ƒè¯•å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚é€šå¸¸ï¼ŒAppç”¨æˆ·ç•Œé¢çš„è¡Œä¸ºä¸ä¼šç¬¦åˆå¼€å‘è€…æœŸæœ›çš„é‚£æ ·ï¼Œæ¯”å¦‚æˆ–è€…ä¸å±•ç¤ºè§†å›¾ï¼Œæˆ–è€…æ²¡æœ‰æ­£ç¡®åœ°å±•ç¤ºã€‚æœ¬æ–‡è®²è§£å¦‚ä½•ä½¿ç”¨Xcodeçš„æ–°çš„è§†å›¾è°ƒè¯•åŠŸèƒ½æ¥ç®€åŒ–å¼€å‘è€…å¯¹é—®é¢˜ç•Œé¢çš„ç¡®è®¤å’Œä¿®å¤ã€‚&lt;/p&gt;

&lt;p&gt;1.Demo å·¥ç¨‹&lt;/p&gt;

&lt;p&gt;å¼€å§‹ä¹‹åˆå…ˆä»githubï¼ˆhttps://github.com/tutsplus/ViewDebuggingï¼‰ä¸Šä¸‹è½½ç¤ºä¾‹å·¥ç¨‹å¹¶æ‰“å¼€ViewDebugging.xcodeprojã€‚è¯¥å·¥ç¨‹åŒ…å«ä¸€ä¸ªç®€å•çš„åŒ…å«å°‘æ•°è§†å›¾æ§åˆ¶å™¨çš„å¯ç‚¹å‡»çš„åº”ç”¨ç¨‹åºã€åº”ç”¨ç¨‹åºå§”æ‰˜ä»¥åŠä¸€ä¸ªstoryboardã€‚è¯¥appæ˜¯ä¸ºiPhoneè€Œè®¾è®¡ï¼Œä½†å—ç›ŠäºiOS 8çš„è‡ªé€‚åº”å¸ƒå±€,æ‰€ä»¥ç•Œé¢å±•ç¤ºåœ¨ä»»ä½•è®¾å¤‡ä¸Šéƒ½æ²¡æœ‰é—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;æ‚¨åˆšåˆšä¸‹è½½çš„åº”ç”¨ç¨‹åºç¤ºä¾‹å·¥ç¨‹æ˜¯ä¸€ä¸ªç®€å•çš„to-do liståº”ç”¨ç¨‹åºï¼ŒåŒ…å«å¯æŸ¥çœ‹å…¶ä»–ä¿¡æ¯çš„ç®€å•å±å¹•ï¼Œæ¯”å¦‚è¯¥ç¤ºä¾‹å·¥ç¨‹ä¸­çš„é¡¹ç›®æ•°ï¼Œç”¨æˆ·å¤´åƒä»¥åŠ@***çš„æ¨ç‰¹æ“ä½œã€‚ç‚¹å‡»Xcodeå·¦ä¸Šè§’çš„è¿è¡ŒæŒ‰é’®å°†å±•ç¤ºåœ¨iOSæ¨¡æ‹Ÿå™¨ä¸­è¿è¡Œçš„åº”ç”¨ç¨‹åºã€‚&lt;/p&gt;

&lt;p&gt;å›¾24&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic24.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¾ˆå¿«ä¼šæ³¨æ„åˆ°ç”¨æˆ·ç•Œé¢ä¸­å­˜åœ¨é—®é¢˜-è¡¨è§†å›¾ä¸­æ²¡æœ‰å±•ç¤ºä»»ä½•æ•°æ®ã€‚åœ¨å·¥ç¨‹å¯¼èˆªé¢æ¿ä¸­æ‰“å¼€&lt;code class=&quot;highlighter-rouge&quot;&gt;FirstViewController.swift&lt;/code&gt;å¹¶æ‰¾åˆ°ä»¥ä¸‹ä»£ç ï¼š&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;mockNotesDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Do some laundry&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Finish homework&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Walk the dog&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Learn about view debugging&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;didSet&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tableView&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;reloadData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°&lt;code class=&quot;highlighter-rouge&quot;&gt;mockNotesDataSource&lt;/code&gt;å˜é‡æ˜¯è¡¨è§†å›¾çš„æ•°æ®æºã€‚ä½¿ç”¨Swiftçš„å±æ€§è§‚å¯Ÿè€…åŠŸèƒ½ï¼Œåœ¨æ•°æ®æºå‘ç”Ÿæ”¹å˜æ—¶ï¼Œè¡¨è§†å›¾ä¼šè‡ªåŠ¨é‡æ–°åŠ è½½ã€‚é€šè¿‡æŸ¥çœ‹ä»¥ä¸Šä»£ç ç‰‡æ®µï¼Œä½ ä¼šå‘ç°åº”è¯¥åº”ç”¨ä¸­åº”è¯¥æœ‰4ä¸ªé¡¹ç›®éœ€è¦å±•ç¤ºï¼Œä½†ç°åœ¨ä¸å±•ç¤ºæ•°æ®å°±è¯´æ˜æŸäº›åœ°æ–¹å‡ºç°äº†å·®é”™ã€‚&lt;/p&gt;

&lt;p&gt;å¯ç”¨è§†å›¾è°ƒè¯•&lt;/p&gt;

&lt;p&gt;é—®é¢˜ä¼¼ä¹ä¸ç”¨æˆ·ç•Œé¢æœ‰å…³ã€‚è¿è¡Œappè¿‡ç¨‹ä¸­ï¼ŒæŒ‰ä¸‹åº•éƒ¨çš„Debug View Hierarchy æŒ‰é’®ï¼Œæˆ–è€…ä»èœå•ä¸­é€‰æ‹©Debug &amp;gt; View Debugging &amp;gt; Capture View Hierarchy æ¥å¯åŠ¨è§†å›¾è°ƒè¯•ã€‚&lt;/p&gt;

&lt;p&gt;å›¾25&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic25.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¯åŠ¨è§†å›¾è°ƒè¯•åï¼ŒXcodeä¼šå¯¹åº”ç”¨ç¨‹åºçš„è§†å›¾å±‚æ¬¡æ‹ä¸€ä¸ªå¿«ç…§å¹¶å±•ç¤ºä¸‰ç»´åŸå‹è§†å›¾æ¥æ¢ç©¶ç”¨æˆ·ç•Œé¢çš„å±‚çº§ã€‚è¯¥ä¸‰ç»´è§†å›¾é™¤äº†å±•ç¤ºappçš„è§†å›¾å±‚æ¬¡å¤–ï¼Œè¿˜å±•ç¤ºæ¯ä¸ªè§†å›¾çš„ä½ç½®ã€é¡ºåºå’Œè§†å›¾å°ºå¯¸ï¼Œä»¥åŠè§†å›¾é—´çš„äº¤äº’æ–¹å¼ã€‚&lt;/p&gt;

&lt;p&gt;ç¤ºä¾‹å·¥ç¨‹åœ¨Xcodeä¸­çš„ä¸‰ç»´è§†å›¾å±•ç¤ºæ­£å¸¸ï¼Œä½†è¡¨è§†å›¾å•å…ƒæ ¼ä¼¼ä¹æœ‰ç‚¹å¤ªå®½äº†ã€‚&lt;/p&gt;

&lt;p&gt;å›¾26&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic26.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æš‚åœåº”ç”¨ç¨‹åºè°ƒè¯•å¹¶åœ¨å·¦ä¾§é€‰ä¸­Main.Storyboardæ¥ä¿®å¤é—®é¢˜ã€‚ç‚¹å‡»è¡¨è§†å›¾å¹¶é€‰ä¸­Editor &amp;gt; Resolve Auto Layout Issues &amp;gt; Reset to Suggested Constraints.&lt;/p&gt;

&lt;p&gt;å›¾27&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic27.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ç¼–è¯‘å¹¶å†æ¬¡è¿è¡Œåº”ç”¨ç¨‹åºä»¥ç¡®å®šç”¨æˆ·ç•Œé¢å±•ç¤ºæ­£å¸¸ã€‚ç‚¹å‡»Debug View HierarchyæŒ‰é’®æ›´è¿›ä¸€æ­¥äº†è§£è§†å›¾è°ƒè¯•çš„åŠŸèƒ½ã€‚&lt;/p&gt;

&lt;p&gt;è§†å›¾è°ƒè¯•åŠŸèƒ½&lt;/p&gt;

&lt;p&gt;ç‚¹å‡»å¹¶æ‹–æ‹½ä¸‰ç»´æ¸²æŸ“å›¾çš„ä»»æ„ä¸€è¾¹ï¼Œå¯æ—‹è½¬æˆ–è€…å€¾æ–œç”¨æˆ·ç•Œé¢ï¼Œå‘å·¦æˆ–è€…å‘å³å€¾æ–œå¯é€‰ä¸­æŸä¸ªè¡¨è§†å›¾ã€‚&lt;/p&gt;

&lt;p&gt;é€‰ä¸­åï¼ŒXcodeä¼šé«˜äº®è¯¥è§†å›¾ï¼Œå¹¶åœ¨ä¼šåœ¨å³è¾¹å±•ç¤ºObject å’ŒSizeæ£€æŸ¥å™¨ã€‚æŸ¥çœ‹åœ¨è·³è½¬æ é¡¶éƒ¨å¹¶ç¡®è®¤UITableViewæ˜¯å³è¾¹æœ€åä¸€ä¸ªé¡¹ç›®ã€‚&lt;/p&gt;

&lt;p&gt;å›¾28&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic28.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Object å’Œ Sizeæ£€æŸ¥å™¨åŒ…æ‹¬å¤§é‡æœ‰ç”¨çš„ä¿¡æ¯ã€‚è¿‡å»å¼€å‘è€…éœ€è¦ä¾èµ–æ—¥å¿—è¯­å¥æˆ–è€…æ–­ç‚¹æ¥æ£€æŸ¥è§†å›¾çš„é…ç½®ã€‚&lt;/p&gt;

&lt;p&gt;æ‰“å¼€å³è¾¹çš„Size inspectorï¼ˆè§„æ ¼æ£€æŸ¥å™¨ï¼‰ï¼Œä¸‹æ–¹æ˜¯Auto Layoutï¼Œå¯ä»¥çœ‹åˆ°è§†å›¾ä¸Šå·²ç»åº”ç”¨äº†æ­£ç¡®çš„çº¦æŸã€‚åœ¨Object inspectorä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ£€æŸ¥æ‰€é€‰è§†å›¾çš„å±æ€§ã€‚&lt;/p&gt;

&lt;p&gt;å›¾29&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic29.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;åœ¨Xcodeçš„è°ƒè¯•åŒºæœ‰9ä¸ªè§†å›¾è°ƒè¯•è¿‡ç¨‹ä¸­è¦ç”¨åˆ°çš„æŒ‰é’®å’Œæ»‘å—å„¿ã€‚&lt;/p&gt;

&lt;p&gt;å›¾30&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic30.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ä»å·¦åˆ°å³æ§ä»¶æ’åºï¼š&lt;/p&gt;

&lt;p&gt;è°ƒæ•´è§†å›¾é—´è·ï¼šè°ƒæ•´ä¸åŒè§†å›¾é—´çš„é—´è·ã€‚&lt;/p&gt;

&lt;p&gt;å±•ç¤ºè¢«å‰ªåˆ‡çš„å†…å®¹ï¼šå½“å‰å±•ç¤ºè§†å›¾ä¸­è¢«å‰ªåˆ‡çš„éƒ¨åˆ†ã€‚&lt;/p&gt;

&lt;p&gt;å±•ç¤ºçº¦æŸï¼šå±•ç¤ºé€‰ä¸­è§†å›¾çš„çº¦æŸã€‚&lt;/p&gt;

&lt;p&gt;é‡ç½®æŸ¥çœ‹åŒºåŸŸï¼šå°†3Dæ¸²æŸ“é€è§†å›¾æ¢å¤è‡³é»˜è®¤çŠ¶æ€ã€‚&lt;/p&gt;

&lt;p&gt;è°ƒæ•´æŸ¥çœ‹æ¨¡å¼ï¼šé€‰æ‹©æ€§åœ°å±•ç¤º3Dæ¸²æŸ“é€è§†å›¾ï¼Œæ¯”å¦‚ä»…å±•ç¤ºå†…å®¹ï¼Œä»…å±•ç¤ºæ¡†æ¶ä»¥åŠåŒæ—¶å±•ç¤ºå†…å®¹å’Œæ¡†æ¶ã€‚&lt;/p&gt;

&lt;p&gt;ç¼©å°ï¼šç¼©å°3Dæ¸²æŸ“é€è§†å›¾&lt;/p&gt;

&lt;p&gt;æ¢å¤ï¼šå°†3Dæ¸²æŸ“é€è§†å›¾æ¢å¤è‡³é»˜è®¤å°ºå¯¸ã€‚&lt;/p&gt;

&lt;p&gt;æ”¾å¤§ï¼šæ”¾å¤§3Dæ¸²æŸ“é€è§†å›¾&lt;/p&gt;

&lt;p&gt;è°ƒæ•´å¯è§†è§†å›¾èŒƒå›´ï¼šéšè—è§†å›¾æˆ–å±•ç¤ºè§†å›¾ï¼Œä¸€æ­¥æ­¥è§£æ3Dæ¸²æŸ“è§†å›¾ï¼Œå‘å·¦æˆ–è€…å‘å³æ»‘åŠ¨æ»‘å—å„¿æœ‰ç›¸åçš„æ•ˆæœã€‚&lt;/p&gt;

&lt;p&gt;å»ºè®®èŠ±ä¸€ç‚¹æ—¶é—´ä¸Šæ‰‹æ“ä½œä¸‹è¿™äº›ç©ºé—´ï¼Œå¹¶ç†è§£å„è‡ªçš„ç”¨å¤„ã€‚&lt;/p&gt;

&lt;p&gt;è§†å›¾å±‚æ’åº&lt;/p&gt;

&lt;p&gt;å†æ¬¡ç¼–è¯‘å’Œè¿è¡Œåº”ç”¨ç¨‹åºï¼Œå¹¶ç‚¹å‡»ç”¨æˆ·ç•Œé¢åº•éƒ¨çš„â€Moreâ€æ ‡ç­¾ã€‚ç¬¬ä¸€çœ¼çœ‹å»ç•Œé¢çœ‹èµ·æ¥è¿˜OKï¼Œä½†æ˜¯å®ƒæ²¡æœ‰æŒ‰ç…§å¼€å‘è€…çš„å®šä¹‰å‡†ç¡®æ‰§è¡Œï¼Œå›¾ç‰‡ä¸Šçš„æ¨¡ç³Šæ•ˆæœæ²¡æœ‰å±•ç¤ºå‡ºæ¥ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒè¯•è§†å›¾å±‚æ¬¡æ¥æ›´å¥½åœ°ç¡®å®šé—®é¢˜æ‰€åœ¨ã€‚&lt;/p&gt;

&lt;p&gt;å‘å·¦æˆ–è€…å‘å³æ‹–æ‹½è§†å›¾æ¥æŸ¥çœ‹å…·ä½“æƒ…å†µï¼Œæ¥ç€å°†view spacing sliderå‘å³æ‹–åŠ¨ã€‚&lt;/p&gt;

&lt;p&gt;å›¾31&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic31.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è¿™æ ·ä¸€æ¥ï¼Œä¸åŒè§†å›¾é—´çš„é—´è·å˜å¤§äº†ï¼Œå±‚æ¬¡ä¹Ÿæ›´åŠ æ¸…æ™°ï¼Œæˆ‘ä»¬çœ‹åˆ°åœ¨å›¾ç‰‡â€ä¸‹æ–¹â€è¿˜éšè—ç€å¦ä¸€ä¸ªè§†å›¾ï¼Œé€‰ä¸­éšè—çš„è§†å›¾ï¼Œå®ƒå°±æ˜¯â€ä¸¢å¤±â€çš„è§†è§‰æ•ˆæœè§†å›¾ã€‚&lt;/p&gt;

&lt;p&gt;å›¾32&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic32.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æ‰“å¼€Main.storyboard å¹¶é€‰ä¸­Second View Controller Sceneã€‚åœ¨å·¦ä¾§çš„æ–‡æ¡£æ¦‚è§ˆé¢æ¿ä¸­ï¼Œå±•å¼€Second View Controllerçš„è§†å›¾å¯¹è±¡ä»¥æŸ¥çœ‹å­è§†å›¾çš„æ’åºã€‚&lt;/p&gt;

&lt;p&gt;Xcodeåœ¨æ–‡æ¡£æ¦‚è§ˆä¸­æŒ‰ç…§é€’å‡é¡ºåºå †å è§†å›¾ï¼Œæ¢å¥è¯è¯´ï¼Œåˆ—è¡¨é¡¶å±‚çš„è§†å›¾æ˜¯è§†å›¾å±‚æ¬¡çš„åŸºç¡€ã€‚&lt;/p&gt;

&lt;p&gt;ä¿®å¤é—®é¢˜å¾ˆç®€å•ã€‚è¿è¡Œæ—¶ï¼ŒBlur Effect Viewéšè—åœ¨Sky Imageä¹‹ä¸‹ï¼Œå› ä¸ºå®ƒæ˜¯è§†å›¾å±‚æ¬¡çš„ç¬¬ä¸€ä¸ªè§†å›¾ã€‚åœ¨æ–‡æ¡£æ¦‚è§ˆä¸­ç‚¹å‡»å¹¶æ‹–æ‹½ Blur Effect Viewï¼Œç»“æœä¼šå¦‚ä¸‹å›¾å±•ç¤ºä¸€æ ·ï¼š&lt;/p&gt;

&lt;p&gt;å›¾33&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic33.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å†æ¬¡è¿è¡Œåº”ç”¨ç¨‹åºå°±èƒ½çœ‹åˆ°æ¨¡ç³Šæ•ˆæœäº†ã€‚åº”ç”¨ç¨‹åºçš„ç”¨æˆ·ç•Œé¢çœ‹èµ·æ¥ç¬¦åˆè®¾è®¡çš„åˆè¡·ã€‚æˆ‘ä»¬è¿˜å¯ä»¥æŸ¥çœ‹iOSæ¨¡æ‹Ÿå™¨çš„å…¶ä»–è°ƒè¯•åŠŸèƒ½ï¼Œçœ‹çœ‹è¿˜å®Œå–„äº†å…¶ä»–ä»€ä¹ˆåœ°æ–¹æˆ–åŠŸèƒ½ã€‚&lt;/p&gt;

&lt;p&gt;5.iOSæ¨¡æ‹Ÿå™¨è°ƒè¯•åŠŸèƒ½&lt;/p&gt;

&lt;p&gt;ç¼–è¯‘å¹¶è¿è¡Œåº”ç”¨ç¨‹åºï¼Œé€‰ä¸­æ¨¡æ‹Ÿå™¨ï¼Œä» Debugèœå•ä¸­é€‰æ‹©Color Blended Layersé€‰é¡¹ã€‚&lt;/p&gt;

&lt;p&gt;å›¾34&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic34.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ç„¶åä¼šçœ‹åˆ°appçš„ç”¨æˆ·ç•Œé¢è¢«çº¢è‰²å’Œç»¿è‰²è¦†ç›–ï¼Œæ˜¾ç¤ºäº†å“ªäº›å›¾å±‚å¯ä»¥è¢«å åŠ è¦†ç›–ï¼Œä»¥åŠå“ªäº›å›¾å±‚æ˜¯é€æ˜çš„ã€‚æ··åˆå±‚å±äºè®¡ç®—å¯†é›†å‹è§†å›¾ï¼Œæ‰€ä»¥æ¨èå°½å¯èƒ½åœ°ä½¿ç”¨ä¸é€æ˜çš„å›¾å±‚ã€‚&lt;/p&gt;

&lt;p&gt;å›¾35&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic35.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è‹¹æœåœ¨å…¶æ–‡æ¡£ï¼ˆiOS Simulator User Guideï¼‰ä¸­å¯¹æ­¤è¿›è¡Œäº†æ³¨æ˜ï¼Œå¹¶åœ¨è¡¨è§†å›¾å¤„ç†ä¸Šä½¿ç”¨äº†ä¸é€æ˜å›¾å±‚ã€‚æ»šåŠ¨è§†å›¾æ—¶ä¼šæœ‰äº›è¡¨ç°ä¸å¤§å¥½çš„åœ°æ–¹ï¼Œä¸€ä¸ªé‡è¦çš„åŸå› å°±æ˜¯ä½¿ç”¨äº†æ··åˆå›¾å±‚ï¼Œè€Œå¦‚æœå†…å®¹èƒŒæ™¯æ˜¯ä¸é€æ˜å±‚ï¼Œé‚£ä¹ˆé¡µé¢æ»šåŠ¨æ•ˆæœå°±ä¼šéå¸¸æµç•…å’Œå¹³ç¨³ã€‚&lt;/p&gt;

&lt;p&gt;å¯¹äºè¿™æ¬¾åº”ç”¨ç¨‹åºæ¥è¯´ï¼Œå‡ä½¿ç”¨æˆ·æœ‰æ•°ç™¾ä¸ªé¡¹ç›®è¦å±•ç¤ºï¼Œå¯èƒ½ä¼šå‡ºç°æ»šåŠ¨æ€§èƒ½ä¸ä¸€è‡´çš„æƒ…å†µã€‚è¡¨è§†å›¾å•å…ƒæ ¼å½“å‰ä½¿ç”¨çš„æ˜¯æ··åˆå±‚ã€‚ç”±äºè§†å›¾æ§åˆ¶å™¨çš„è§†å›¾èƒŒæ™¯æ˜¯ç™½è‰²ï¼Œæ‰€ä»¥ä¸ç®¡è¡¨è§†å›¾å•å…ƒæ ¼ä½¿ç”¨çš„æ˜¯æ··åˆå±‚æˆ–è€…ä¸é€æ˜å±‚ï¼Œç»ˆç«¯ç”¨æˆ·ä¸ä¼šè§‰å¯Ÿåˆ°æœ‰ä»€ä¹ˆä¸ä¸€æ ·ã€‚&lt;/p&gt;

&lt;p&gt;æ‰“å¼€Main.storyboardå¹¶é€‰ä¸­To Do list Sceneä¸­çš„è¡¨è§†å›¾å•å…ƒæ ¼å±æ€§ã€‚åœ¨å±æ€§æ£€æŸ¥å™¨ï¼ˆAttributes Inspectorï¼‰ä¸­ï¼Œå‘ä¸‹æ»šåŠ¨Drawingåˆ†åŒºå¹¶å‹¾é€‰Opaqueã€‚&lt;/p&gt;

&lt;p&gt;å›¾36&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic36.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;åœ¨å¯ç”¨Color Blended Layersçš„çŠ¶æ€ä¸‹ç¼–è¯‘å¹¶è¿è¡Œåº”ç”¨ç¨‹åºã€‚ç”±äºè¡¨è§†å›¾å•å…ƒæ ¼ç°åœ¨ä½¿ç”¨äº†ä¸é€æ˜å±‚ï¼Œæ‰€ä»¥ä¼šç”¨ç»¿è‰²è¦†ç›–ï¼Œä»¥æŒ‡ç¤ºå®ƒä»¬æ˜¯ä¸é€æ˜çš„ã€‚&lt;/p&gt;

&lt;p&gt;é™¤äº†æ ‡è®°å›¾å±‚å¤–ï¼Œè¿˜æœ‰å…¶ä»–ä¸€äº›æœ‰ç”¨çš„åŠŸèƒ½å¯å¸®å¼€å‘è€…åœ¨iOSæ¨¡æ‹Ÿå™¨ä¸­è°ƒè¯•åº”ç”¨ã€‚ä»¥ä¸‹æ˜¯å…¶ä¸­ä¸€äº›æ¯”è¾ƒæœ‰ç”¨çš„ï¼š&lt;/p&gt;

&lt;p&gt;Toggle Slow Animations in Frontmost App: é€‰ä¸­æ¨¡æ‹Ÿå™¨ï¼Œæ‰“å¼€Debugèœå•é€‰ä¸­Toggle Slow Animations in Frontmost Appï¼Œè¯¥åŠŸèƒ½å¯ä»¥é™ä½appä¸­åŠ¨ç”»çš„è¿è¡Œé€Ÿåº¦ï¼Œé€‚åˆè°ƒè¯•åŒ…å«å¤æ‚åŠ¨ç”»çš„åº”ç”¨ç¨‹åºã€‚ä¹Ÿå¯æ˜¯ä½¿ç”¨å¿«æ·é”®Command-Tæ¥æ“ä½œã€‚&lt;/p&gt;

&lt;p&gt;Color Copied Images:è¯¥é€‰é¡¹å¯ä»¥ç»™ç»˜åˆ¶æ—¶è¢«Core Animationå¤åˆ¶çš„å›¾ç‰‡æ·»åŠ è“ç»¿è‰²å åŠ å±‚ã€‚&lt;/p&gt;

&lt;p&gt;Color Misaligned Images:å¦‚æœå›¾ç‰‡è¾¹ç•Œæ²¡æœ‰ä¸ç›®æ ‡åƒç´ å®Œç¾å¯¹é½ï¼Œè¯¥åŠŸèƒ½å¯ä¸ºå›¾ç‰‡å åŠ ä¸Šä¸€å±‚å“çº¢è‰²ã€‚å¦‚æœå›¾ç‰‡ä½¿ç”¨ç¡®å®šçš„æ¯”ä¾‹å¤§å°ç»˜åˆ¶ï¼Œé‚£ä¹ˆè¯¥åŠŸèƒ½ä¼šä¸ºå›¾ç‰‡æ·»åŠ ä¸€å±‚é»„è‰²å åŠ ã€‚&lt;/p&gt;

&lt;p&gt;Color Off Screen Rendered:.è¯¥é€‰é¡¹ä¸ºç¦»å±æ¸²æŸ“å†…å®¹æ·»åŠ ä¸€ä¸ªé»„è‰²çš„å åŠ å±‚ã€‚&lt;/p&gt;

&lt;p&gt;å¾ˆå¤šå¼€å‘è€…ä¼šå¿½ç•¥æ¥å…¥ç”µè¯æ—¶åº”ç”¨çŠ¶æ€æ çš„è®¾è®¡é—®é¢˜ï¼Œä½ å¯ä»¥é€šè¿‡è§¦å‘é€šè¯ä¸­çŠ¶æ€æ æ¥ç®€å•æµ‹è¯•ã€‚åœ¨iOSæ¨¡æ‹Ÿå™¨ä¸­ï¼Œä»Hardwareèœå•ä¸­é€‰ä¸­Toggle In-Call Status Barã€‚&lt;/p&gt;

&lt;p&gt;æƒ³æŸ¥çœ‹appå¦‚ä½•å“åº”äº‹ä»¶ï¼Œå¯æŒ‰ä¸‹Command-Tæ¥å¯ç”¨slow animationsï¼Œå¹¶æŒ‰ä¸‹Command-Yæ¥å±•ç¤ºç”µè¯æ¥å…¥æ—¶çš„çŠ¶æ€æ ã€‚å€˜è‹¥ä½ çš„åº”ç”¨ç¨‹åºä½¿ç”¨äº†å¯¼èˆªæ ï¼Œé‚£ä¹ˆæ“ä½œç³»ç»Ÿä¼šä¸ºä½ å…¼é¡¾åˆ°è¿™ä¸€å—å„¿ã€‚&lt;/p&gt;

&lt;p&gt;å›¾37&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-4-13-pic37.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;é™¤äº†ç»™è§†å›¾ç€è‰²å¤–ï¼Œè¿˜è¦è®°ä½iOSæ¨¡æ‹Ÿå™¨ä¹Ÿå¯ä»¥è°ƒè¯•Core Locationé—®é¢˜ã€‚ä½ å¯ä»¥åœ¨ç‰¹å®šç»çº¬åº¦æ¨¡æ‹Ÿè®¾å¤‡ï¼Œ&lt;/p&gt;

&lt;p&gt;å¦‚æœä½ çš„åº”ç”¨ç¨‹åºä½¿ç”¨iCloudæ¥ç®¡ç†æ•°æ®ï¼Œä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨è§¦å‘åŒæ­¥äº‹ä»¶ã€‚&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡ä¸­ä½¿ç”¨çš„demo appéå¸¸ç®€å•ï¼Œä½¿ç”¨æ–‡ä¸­æåˆ°çš„æŠ€æœ¯å¯ä»¥å¸®ä½ åœ¨æœªæ¥èŠ‚çœä¸å°‘æ—¶é—´ã€‚è§†å›¾è°ƒè¯•å¯ä»¥å¸®ä½ ä¿®æ­£å¾ˆå¤šç”¨æˆ·ç•Œé¢ä¸­å‡ºç°çš„é—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;é™¤äº†Xcodeå’ŒInterfaceBuilderä¹‹å¤–ï¼Œä½¿ç”¨iOSæ¨¡æ‹Ÿå™¨çš„è°ƒè¯•åŠŸèƒ½å¯ä»¥æå‡åº”ç”¨æ€§èƒ½å’Œè¯†åˆ«å¼€å‘è¿‡ç¨‹ä¸­çš„ç“¶é¢ˆã€‚è‹¹æœçš„äººæœºäº¤äº’æŒ‡å—ï¼ˆä¸­æ–‡ç‰ˆ è‹±æ–‡ç‰ˆï¼‰å¼ºè°ƒäº†ç§¯æå“åº”å¯¹appçš„é‡è¦æ€§ï¼Œèƒ½è®©ç”¨æˆ·è§‰å¾—åº”ç”¨æ˜“äºä½¿ç”¨å’Œæ“ä½œã€‚è‹¹æœå¯¹InterfaceBuilderçš„æå‡è®©è§†å›¾è°ƒè¯•å˜å¾—å‰æ‰€æœªæœ‰çš„ç®€å•ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ç»“è¯­&quot;&gt;ç»“è¯­&lt;/h2&gt;

&lt;p&gt;è¿™ç¯‡æ–‡ç« åšä¸»èŠ±äº†3ä¸ªç¤¼æ‹œï¼Œæ–­æ–­ç»­ç»­æ‰å†™å®Œçš„ï¼Œå½“ä¸­é”™æ¼åº”è¯¥éå¸¸å¤šï¼Œä½†æ˜¯æ— è®ºå¦‚ä½•é„™äººè§‰å¾—åº”è¯¥ç®—æ˜¯é…çš„ä¸Šè±ªåå¥—é¤çš„ç§°å·äº†ï¼Œå½“ä¸­iOSå¼€å‘çš„åŸºæœ¬ã€å¸¸ç”¨ä»¥åŠé«˜é˜¶çš„è°ƒè¯•æŠ€èƒ½éƒ½æ¶‰åŠäº†ï¼Œä½†æ˜¯ä»ç„¶æœ‰å¾ˆå¤šå…¶ä»–çš„å¥‡é—¨å·§æŠ€æ²¡æœ‰ä»‹ç»åˆ°ï¼Œä¸»è¦æ˜¯å¯æ¶çš„â€œç¯‡å¹…â€é™åˆ¶ä½äº†åšä¸»å¹¿åšçš„çˆ±ï¼Œä½†æ˜¯æ— è®ºå¦‚ä½•ï¼Œè¿™ç¯‡æ–‡ç« å¤§å®¶æš‚ä¸”å¯ä»¥å½“åšæ˜¯ä¸€ä¸ªè°ƒè¯•æŠ€æœ¯çš„ç›®å½•ï¼Œå› ä¸ºåšä¸»åœ¨è¿™é‡Œå†™çš„è®²çš„å¾ˆç²—æµ…ï¼Œä½ ä¸åº”è¯¥åªæ»¡è¶³äºè¿™ç¯‡æ–‡ç« ï¼Œä½ å¦‚æœæƒ³è¦æ”¹å˜ä¸–ç•Œçš„è¯ï¼Œä½ åº”è¯¥å€Ÿç€åšä¸»çš„è¿™ç¯‡ç›®å½•å¼æ–‡ç« æ·±å…¥åœ°å­¦ä¹ ä¸ç ”ç©¶ï¼&lt;/p&gt;

&lt;p&gt;å½“ç„¶è¿˜æœ‰Crashçš„æ—¥å¿—ã€æµ‹è¯•å·¥ç¨‹ã€ä»¥åŠå¼ºå¤§ç‰›é€¼å“„å“„çš„ç¬¬ä¸‰æ–¹è°ƒè¯•åº“ç­‰è¿™ç¯‡åšå®¢æ²¡æœ‰æ¶‰åŠåˆ°ï¼Œè¿™æ˜¯ä¸€ä¸ªé—æ†¾ï¼Œä½†æ˜¯æˆ‘ç›¸ä¿¡èªæ˜çš„ä½ ä¼šå»Googleä¸€ç•ªçš„ï¼&lt;/p&gt;

&lt;p&gt;è¿˜æœ‰æˆ‘ä»¬ä¸é€¼ä¼˜é¸¡çš„æ•…äº‹æ‰åˆšåˆšå¼€å§‹ã€‚&lt;/p&gt;

</description>
        <pubDate>Mon, 13 Apr 2015 20:00:00 +0800</pubDate>
        <link>http://localhost:4000/2015/04/13/iOS%E5%90%84%E7%A7%8D%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7/</link>
        <guid isPermaLink="true">http://localhost:4000/2015/04/13/iOS%E5%90%84%E7%A7%8D%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7/</guid>
        
        <category>åŸºç¡€æ•´ç†</category>
        
        <category>debug</category>
        
        <category>è°ƒè¯•</category>
        
        
      </item>
    
      <item>
        <title>å°è£…ä¸€ä¸ªç®€å•å®ç”¨çš„æœ‹å‹åœˆ</title>
        <description>&lt;h1 id=&quot;å°è£…ä¸€ä¸ªç®€å•å®ç”¨çš„æœ‹å‹åœˆ&quot;&gt;å°è£…ä¸€ä¸ªç®€å•å®ç”¨çš„æœ‹å‹åœˆ&lt;/h1&gt;

&lt;h2 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h2&gt;

&lt;p&gt;2014å¹´è¿‡çš„é‚£ä¹ˆå¿«ï¼Œè¿‡å¹´åˆé‚£ä¹ˆå—ï¼Œ2015å¹´åˆæ˜¯é£å¿«åœ°èŠ‚å¥ï¼ŒçœŸå°¼ç›æ„Ÿè§‰ä¸Šå¸æ˜¯ä¸æ˜¯æ— èŠä½¿ç”¨äº†å˜é€Ÿå¤–æŒ‚å¼€å¯äº†åŠ é€Ÿæ¨¡å¼~åˆ°ç°åœ¨åšä¸»éƒ½æ— æ³•æ¥å—å·²ç»ä¸Šç­çš„äº‹å®â€¦â€¦åœ¨åœ°é“è„¸è¢«æŒ¤åœ¨ç»ç’ƒä¸Šçš„æ—¶å€™åªèƒ½ç”¨çœ¼ç¥å†™æ»¡å‚»Xå°„è¿™ä¸ªä¸–ç•Œä¸€è„¸ï¼ï¼åŸè°…åšä¸»é‚£ä¹ˆé¸¡ç²ª~å› ä¸ºå“¥æœ€è¿‘ç”Ÿç—…äº†ï¼Œä¸å—¨å¿ƒ~ï¼Œæˆ‘æƒ³æ¥å»æƒ³ä¸æ˜ç™½ï¼Œåšä¸»æ¯å‘¨å¥èº«4å¤©ï¼Œèƒ¸è‚Œå‹å¥³å‹ã€æ‹³å¤´æ¯”æ²™ç…²ã€åƒå–å¥åˆåº·ã€ä½“ç¡¬ä¼¼é‡é©¬ï¼Œæ€ä¹ˆä¼šç”Ÿç—…å‘¢ï¼Ÿæˆ‘è‹¦æ€å¤šæ—¥ï¼Œç»ˆäºæœ‰ä¸€å¤©æ—©ä¸Šèµ·åºŠçœ‹äº†é•œå­åŠä¸ªå°æ—¶åæˆ‘æ‰é¡¿æ‚Ÿï¼Œæˆ‘é ~åŸæ¥é•¿å¾—å¸…çœŸçš„æ˜¯é”™ï¼ä¸Šå¸åœ¨å«‰å¦’æˆ‘æ‰è®©æˆ‘ç”Ÿç—…çš„~å“ˆå“ˆå“ˆ å’³å’³~è¿™æ˜¯ä¸€ä¸ªä¸¥è‚ƒçš„æŠ€æœ¯åšå®¢~æ˜¯ç»å¯¹æ‹’ç»æ¶ä¿—ä½ä¸‹çš„å†…å®¹çš„ï¼Œå¤§ä¸ˆå¤«åº”è¯¥å¿ƒç³»å¤©ä¸‹æ‰å¯¹ï¼Œæœ€è¿‘æŸ´é™å’Œé›¾éœ¾çœŸçš„è§¦åŠ¨äº†æˆ‘ä»¬æ¯ä¸ªäººçš„å¿ƒï¼›æŸæç«¯ç»„ç»‡åƒå—¨å¤§äº†ä¸€æ ·ï¼ŒçœŸçš„æ˜¯å± é¾™å®åˆ€åœ¨æ‰‹ï¼Œè£…å¤‡ä»»çˆ†çš„èŠ‚å¥ï¼›è¿‘ä¸‹çš„æ¸¯å²›æ’‘å®Œé›¨ä¼åˆè¦èµ¶äººäº†â€¦â€¦æˆ‘çœŸçš„æ˜¯éå¸¸ç—›å¿ƒç–¾é¦–ï¼Œç»´æŠ¤ä¸–ç•Œå’Œå¹³ä¸€ç›´æ˜¯é„™äººçš„æ„¿æœ›ï¼Œç°åœ¨çš„ä¸–ç•Œè¿™ä¹ˆæ··ä¹±ï¼Œæœ¬äººçœŸçš„å¾ˆæƒ­æ„§ï¼Œéƒ½æ€ªæˆ‘å’¯~~æ²¡æœ‰å› ä¸ºä»€ä¹ˆï¼Œæ‰€ä»¥ä»Šå¤©åšä¸»è¦æ•™å¤§å®¶æ€ä¹ˆå†™ä¸€ä¸ªè‡ªå·±ç”¨ç€å®‰é€¸ï¼Œä¿®æ”¹å·´é€‚ï¼Œä»–äººç”¨èµ·æ¥åˆæ— æ¯”èˆ’æœçš„iOSåº“ï¼ï¼&lt;/p&gt;

&lt;h2 id=&quot;è„‘æ´å¼€ä¸€å¼€&quot;&gt;è„‘æ´å¼€ä¸€å¼€&lt;/h2&gt;

&lt;p&gt;æœ¬äººä¸æ‰ï¼Œæ¥è§¦ä»£ç çš„ä¸–ç•Œæ—¶é—´çœŸå¿ƒä¸æ˜¯å¾ˆä¹…ï¼Œå¯¹äºç³»ç»Ÿåº•å±‚ä¼˜åŒ–ã€æ¡†æ¶çº§åˆ«è®¾è®¡ã€è®¾è®¡æ¨¡å¼çš„æ•ˆç‡ä¼˜åŠ£ç­‰æ–¹é¢çš„å­¦ä¹ å’Œç ”ç©¶æ¯”ä¸æ·±åˆ»ï¼Œæ‰€ä»¥å¦‚æœä½ æ˜¯å¤§ç¥ï¼Œä½ ç‹ æºœçš„è¯ï¼Œæˆ‘è¿˜æ˜¯å»ºè®®æ‚¨è·¯è¿‡å‘µå‘µä¸€ä¸‹ç„¶åå°±å…³äº†è¿™ä¸ªç½‘é¡µå§ï¼Œé›•è™«å°æŠ€æ— æ³•å…¥å°”æ³•çœ¼å•Š~æˆ‘ä¸æ˜¯æ€•è¢«å–·å¾ˆèœï¼ˆåæ­£éƒ½è¢«è€å¸ˆå–·äº†äºŒåå¹´äº†â€¦â€¦^_^ï¼‰è€Œæ˜¯æˆ‘å¯¹å¤§ç¥éƒ½æ˜¯æœ‰æ•¬ç•ä¹‹å¿ƒçš„ï¼Œä¸èƒ½è¯´è®©ä½ çœ‹ä½ å°±çœ‹ï¼Œä½ å¯ä»¥è¯•ä¸€ä¸‹æ˜¯å§ï¼Œä½ ä¹Ÿä¸å–œæ¬¢çœ‹å®Œåæ˜¯Duang é‚£ä¹ˆå¤šç‰¹æ•ˆ ç‰¹æŠ€â€¦â€¦å’³å’³ åæ­£è¿™ç¯‡æ–‡ç« çœŸçš„å¾ˆèœ~~~é€‚åˆæ¯”æˆ‘èœçš„èœé¸Ÿï¼Œæ…è¯»ã€‚&lt;/p&gt;

&lt;p&gt;ä¸è¿‡å˜›æˆ‘ä»¬è¦å†™ä¸€ä¸ªåº“ï¼Œèƒ½å¤Ÿè®©åˆ«äººç”¨ï¼Œç”¨èµ·æ¥è¦å¾ˆèˆ’æœçš„ï¼Œé‚£è‚¯å®šå¾—è¦è®¾è®¡å¾—å½“ï¼Œè‚¯å®šè¦ç†Ÿæ‚‰å¹³å°ï¼Œè®¾è®¡æ¨¡å¼éå¸¸æºœæ‰è¡Œï¼Œè¿™ä¸ªæ²¡é”™~ä½†æ˜¯å¹³å°ã€æ¶æ„ã€è®¾è®¡è¿™ä¸ªä¸œè¥¿è¿™ä¹ˆå¤æ‚ï¼Œæˆ‘è§£é‡Šå¤§å®¶ä¹Ÿä¸æ‡‚ï¼Œé‚£æˆ‘å°±ä¸è§£é‡Šäº†ï¼ˆä½ å¼ºè¿«ç—‡å‘ä½œæ­»éƒ½è¦æ‡‚å¯è‡ªè¡Œæ‰¾ä¸€ä¸ªå¤§å­¦ï¼Œé‡Œé¢æœ‰è€å¸ˆ~ï¼‰&lt;/p&gt;

&lt;p&gt;æˆ‘å‘èª“ä¸æ‰¯BBäº† æˆ‘ä»¬ä¸€èµ·æ¥å†™ä¸€ä¸ªèƒ½è¢«èˆ’æœèˆ’æœåˆèˆ’æœåœ°è°ƒç”¨çš„iOSåº“ï¼Œæœ€è¿‘å«ç”Ÿçº¸æ¶¨ä»·äº†ï¼Œå¥½çƒ¦ï¼Œå…¶å®ä¹Ÿæ˜¯æœ‰åŸå› çš„ï¼Œå› ä¸ºæ¯•ç«Ÿç”Ÿäº§è´¹ç”¨ä»€ä¹ˆçš„ä¹Ÿéƒ½â€¦æˆ‘å¤´ä¸Šçš„ç –å¤´è°æ‰”çš„ï¼ï¼ï¼Ÿï¼Ÿä¿¡ä¸ä¿¡æˆ‘ä¸æ‰“æ­»ä½ ä¸«çš„â€¦â€¦&lt;/p&gt;

&lt;p&gt;å‡è®¾æˆ‘ä»¬è¦å¼€å‘ä¸€ä¸ªåƒå¾®ä¿¡æœ‹å‹åœˆæˆ–è€…å¾®åšè¿™ç©æ„å„¿çš„ä¸œè¥¿ï¼Œå¹¶ä¸”è¦æœ‰èƒ½éšè—å’Œå±•å¼€æ­£æ–‡ã€æ­£æ–‡ä¸­èƒ½å¤Ÿè¯†åˆ«å¯Œæ–‡æœ¬ï¼ˆç½‘å€ã€ç”µè¯ã€@å§“åâ€¦â€¦ï¼‰ã€è¿˜è¦æœ‰å›¾ç‰‡ç¼©ç•¥å›¾è€Œä¸”ç‚¹å‡»æŸ¥çœ‹ã€èƒ½å¤Ÿæœ‰å›å¤ã€å›å¤æ–‡ä¸­ä¹Ÿè¦æ”¯æŒå¯Œæ–‡æœ¬â€¦â€¦è¿™äº›åŠŸèƒ½ã€‚åƒè¿™æ ·&lt;/p&gt;

&lt;p&gt;å›¾1&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-3-15-pic1.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æ‰€è°“å›å­ç”Ÿéå¼‚ä¹Ÿ å–„å‡äºç‰©ä¹Ÿã€‚ä¸Šé¢çš„åŠŸèƒ½è¿™ä¹ˆå¤šè¿™ä¹ˆå¤æ‚è‡ªå·±å†™ï¼Œä½ ç¡®å®šä½ ä¸æ˜¯åƒé¥±äº†æ’‘ç€ï¼Ÿç»ç†ä¹Ÿè¯´è¦æ•æ·å¼€å‘ï¼Œæ‰€ä»¥äºŒè¯ä¸è¯´é—ªç°åˆ°code4appï¼Œcode.cocoachinaç¥­å‡ºæœ€å¼ºæ€å™¨â€”â€”æœç´¢å¼•æ“ï¼Œæ‰¾åˆ°äº†è¿™ä¸ªåº“&lt;a href=&quot;https://github.com/TigerWf/WFCoretext&quot; target=&quot;_blank&quot;&gt;WFCoretext&lt;/a&gt;  å‘ç°å®ƒå®Œç¾ç¬¦åˆæˆ‘ä»¬çš„éœ€æ±‚å‘€ï¼Œæ£’æ£’å“’&lt;/p&gt;

&lt;h2 id=&quot;åˆ†æ&quot;&gt;åˆ†æ&lt;/h2&gt;

&lt;p&gt;é¦–å…ˆæˆ‘ä»¬æ„Ÿè°¢WFCoretext çš„ä½œè€…çš„å¼€æºè´¡çŒ®ï¼Œè¯·æ”¶ä¸‹æˆ‘çš„è†ç›–ï¼Œæˆ‘ä»¬é©¬ä¸Šæ¥ç”¨ä¸€ç”¨~&lt;/p&gt;

&lt;p&gt;å›¾2&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-3-15-pic2.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æ§½ç‚¹ä¸å¤š&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬æ¥åˆ†æåˆ†æå®ƒæ€ä¹ˆæå¾—æŠŠ&lt;/p&gt;

&lt;p&gt;å·¥ç¨‹ç»“æ„ å›¾3&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-3-15-pic3.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å—¯é¢ è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ Viewæ–‡ä»¶å¤¹é‡Œé¢çš„æ˜¯æ§ä»¶å•¦&lt;/p&gt;

&lt;p&gt;å›¾4&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-3-15-pic4.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å…·ä½“å®ç° å¤§å®¶å¯ä»¥è‡ªå·±çœ‹å•¦ï¼Œè¿™ä½å“¥å“¥ä»£ç é£æ ¼è¿˜æ˜¯æ¯”è¾ƒè§„èŒƒçš„ï¼Œçœ‹èµ·æ¥ä¸è´¹åŠ²&lt;/p&gt;

&lt;p&gt;Manageræ–‡ä»¶å¤¹ä¸­æ˜¯ä¸€äº›å¯Œæ–‡æœ¬åŒ¹é…è§„åˆ™ï¼Œå…¶ä¸­YMTextDataå¾ˆé‡è¦ ä¸‹é¢è¯´&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬ç›´æ¥æ¥çœ‹çœ‹æ€ä¹ˆä½¿ç”¨çš„æŠŠ&lt;/p&gt;

&lt;p&gt;ç‚¹å¼€&lt;code class=&quot;highlighter-rouge&quot;&gt;WXViewController&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;å¯¼åŒ…å¹¶ä¸”å£°æ˜å˜é‡ï¼Œå˜é‡åœ¨å®ç°æ¥ä¸‹æ¥çš„å®ç°ä¸­ä¼šè¿›è¡Œåˆå§‹åŒ–&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;#import &quot;WXViewController.h&quot;
#import &quot;YMTableViewCell.h&quot;
#import &quot;ContantHead.h&quot;
#import &quot;YMShowImageView.h&quot;
#import &quot;YMTextData.h&quot;
#import &quot;YMReplyInputView.h&quot;

#define dataCount 10
#define kLocationToBottom 20
#define kAdmin @&quot;å°è™-tiger&quot;


@interface WXViewController ()&amp;lt;UITableViewDataSource,UITableViewDelegate,cellDelegate,InputDelegate&amp;gt;
{
NSMutableArray *_imageDataSource;

NSMutableArray *_contentDataSource;//æ¨¡æ‹Ÿæ¥å£ç»™çš„æ•°æ®

NSMutableArray *_tableDataSource;//tableviewæ•°æ®æº

NSMutableArray *_shuoshuoDatasSource;//è¯´è¯´æ•°æ®æº

UITableView *mainTable;

UIButton *replyBtn;

YMReplyInputView *replyView ;
}
@end  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™ä¸‰ä¸ªæ–¹æ³•åˆ†åˆ«æ„å»ºåˆå§‹åŒ–äº†ä¸€ä¸ªtableviewï¼Œåˆå§‹åŒ–å¹¶èµ‹å€¼å›¾ç‰‡æ•°æ®ï¼Œåˆå§‹åŒ–å¹¶èµ‹å€¼å…¶ä»–æ•°æ®&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;- (void) initTableview;
- (void)configImageData;
- (void)loadTextData;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;loadTextDataä¸­&lt;/code&gt;ä¼šå°†æ•°æ®åŒ…è£…æˆYMTextDataçš„æ•°ç»„ï¼Œè¿™æ ·ä¸€ä¸ªtableCellé‡Œé¢çš„æ•°æ®å°±ä½¿ç”¨ä¸€ä¸ªYMTextDataçš„æ•°æ®&lt;/p&gt;

&lt;p&gt;ç„¶ååœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;- (void)calculateHeight:(NSMutableArray *)dataArray&lt;/code&gt;ä¸­ä¼šè®¡ç®—å‡ºæ•°æ®æ‰€å ç”¨viewçš„é«˜åº¦ è¿™é‡Œé¢ä¹Ÿå°±å®ç°äº† æˆ‘ä»¬éœ€æ±‚é‡Œé¢å¯ä»¥æ‰©å±•å¯ä»¥æ”¶ç¼©çš„åŠŸèƒ½&lt;/p&gt;

&lt;p&gt;è®¡ç®—å®Œé«˜åº¦ç„¶åå°±é‡æ–°åŠ è½½tableviewäº† ç„¶åtableviewçš„å„ç§delegateæ–¹æ³• å„ç§datasourceæ–¹æ³•å°±å‘¼å‘¼çš„è¿è¡Œäº†&lt;/p&gt;

&lt;p&gt;å…¶ä¸­ ä»¥ä¸‹æ–¹æ³•ä¸­åˆå†æ¬¡ä½¿ç”¨äº†æˆ‘ä»¬åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;- (void)calculateHeight:(NSMutableArray *)dataArray&lt;/code&gt;æ–¹æ³•ä¸­è®¡ç®—å‡ºæ¥çš„é«˜åº¦æ¥è®¾ç½®tablecellçš„é«˜åº¦&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath {
YMTextData *ym = [_tableDataSource objectAtIndex:indexPath.row];
BOOL unfold = ym.foldOrNot;
return TableHeader + kLocationToBottom + ym.replyHeight + ym.showImageHeight + kDistance + (ym.islessLimit?0:30) + (unfold?ym.shuoshuoHeight:ym.unFoldShuoHeight) + kReplyBtnDistance;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä»¥ä¸‹è¿™ä¸ªæ–¹æ³•åˆæŠŠYMTextData èµ‹å€¼ç»™äº†YMTableViewCell&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{
static NSString *CellIdentifier = @&quot;ILTableViewCell&quot;;
YMTableViewCell *cell = (YMTableViewCell *)[tableView dequeueReusableCellWithIdentifier:CellIdentifier];
if (cell == nil) {
cell = [[YMTableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
}
cell.stamp = indexPath.row;
cell.replyBtn.tag = indexPath.row;
cell.replyBtn.appendIndexPath = indexPath;
[cell.replyBtn addTarget:self action:@selector(replyAction:) forControlEvents:UIControlEventTouchUpInside];
cell.delegate = self;
[cell setYMViewWith:[_tableDataSource objectAtIndex:indexPath.row]];
return cell;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é˜¿æ‹‰å·´æ‹‰â€¦â€¦ å‘¼å‘¼&lt;/p&gt;

&lt;p&gt;æˆ‘å°±æƒ³é—®ä½ ä¸€å¥ ç´¯ä¸ç´¯ï¼Ÿ&lt;/p&gt;

&lt;p&gt;ç°åœ¨æˆ‘åˆ†æäº†ä¸€éè¿™ä¸ªåº“ï¼Œä½ çŸ¥é“è¯¥æ€ä¹ˆç”¨äº†ä¹ˆï¼Œä¸è¦æ€€ç–‘è‡ªå·±çš„æ™ºå•†ï¼Œæˆ‘ä¹Ÿè¦å†çœ‹ä¸€éæ‰çŸ¥é“æ€ä¹ˆç”¨ã€‚&lt;/p&gt;

&lt;p&gt;å½“ç„¶æˆ‘ä»¬ä¸èƒ½æ€€ç–‘ä½œè€…å¯¹äºå¼€æºæŠ€æœ¯åšå‡ºçš„è´¡çŒ®ï¼æˆ‘ä»¬ä¹Ÿä¸èƒ½æ€€ç–‘ä½œè€…çš„å¼€å‘æŠ€æœ¯ï¼Œæ¯•ç«Ÿè¿™ä¸ªåº“çš„bugè¿˜æ˜¯æ¯”è¾ƒå°‘çš„ï¼Œä½œè€…æ˜¯ä¼Ÿå¤§å´‡é«˜çš„ï¼å‡å°‘äº†ä¸–ç•Œçš„ç¢³æ’é‡æ–¹ä¾¿äº†ä½ æˆ‘ä»–ï¼Œä¸ºå¾ˆå¤šä»£ç å·¥ä½œè€…æä¾›äº†æ–¹ä¾¿ï¼Œè®©ä»–ä»¬å¯ä»¥ä¸åŠ ç­ï¼Œæ—©æ—©çš„å›å®¶é™ªè€å©†é™ªåŸºå‹é™ªå­©å­é™ªå® ç‰©â€¦â€¦æ‰€ä»¥æˆ‘è¦å†æ¬¡æ„Ÿè°¢ä½œè€…&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯ä½œä¸ºä¸€ä¸ªæœ‰å®Œç¾å¼ºè¿«ç—‡çš„åšä¸»ï¼Œé—®è‡ªå·±ä¸€å¥ ä¸ºä»€ä¹ˆè¿™ä¸ªåº“é‚£ä¹ˆéš¾ç”¨ï¼Ÿå› ä¸ºå®ƒéš¾ç”¨&lt;/p&gt;

&lt;p&gt;æ€ä¹ˆæ‰ç®—æ˜¯å¥½ç”¨ï¼Ÿç³»ç»Ÿè‡ªå¸¦çš„ç»„ä»¶ï¼Œä½¿ç”¨å’Œå­¦ä¹ èµ·æ¥é‚£ä¹ˆå®¹æ˜“ï¼Ÿè¿™åº”è¯¥ç®—æ˜¯å¥½ç”¨å§ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¦å¼€åˆ€WXViewController è®©ä»–DUANGçš„ä¸€ä¸‹ï¼Œå˜å¾—ä½¿ç”¨èµ·æ¥ èˆ’æœèˆ’æœåˆèˆ’æœï¼ï¼&lt;/p&gt;

&lt;h2 id=&quot;æ•´å®¹&quot;&gt;æ•´å®¹&lt;/h2&gt;

&lt;p&gt;æˆ‘ä»¬ä¸å¦¨WXViewControllerçš„å®ç°ç»†èŠ‚éƒ½å°è£…èµ·æ¥ï¼å®ƒæ˜¯ä¸€ä¸ªtableviewã€å®ƒæ€ä¹ˆè®¡ç®—é«˜åº¦ï¼Œå®ƒçš„å›å¤æŒ‰é’®æ€ä¹ˆç”Ÿæˆâ€¦â€¦å·´æ‹‰å·´æ‹‰æˆ‘éƒ½ä¸æƒ³ç®¡ï¼ï¼æˆ‘çš„æ„¿æœ›æ˜¯ï¼Œæˆ‘åªè¦æ‰”è¿›å»æ•°æ®ï¼Œå°±è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªæœ‹å‹åœˆå‡ºæ¥ï¼ï¼ï¼ï¼&lt;/p&gt;

&lt;p&gt;æœ‰äº†æ„¿æœ›ï¼Œæ€¥ç€å¬å”¤ç¥é¾™ä¹Ÿæ²¡ç”¨ï¼è§„åˆ™æ˜¯è¦é›†é½é¾™ç å‘€ï¼ï¼ï¼å¥½æˆ‘ä»¬å…ˆå¹²èµ·æ¥ï¼æ•´å®¹WXViewControllerï¼ï¼ï¼&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬è¦å¼€å‘ä¸€ä¸ªä¸œè¥¿å°±å«åš â€œæœ‹å‹åœˆæ¨¡æ¿â€å§ åœ¨â€œæœ‹å‹åœˆæ¨¡æ¿.hâ€ä¸­è¦æœ‰ä¸€ä¸ªâ€œæœ‹å‹åœˆæ¨¡æ¿Delegateâ€ ç„¶åé‡Œé¢è¦æœ‰ä¸€ä¸ªæ–¹æ³•&lt;code class=&quot;highlighter-rouge&quot;&gt;-(è¿”å›çš„æ•°æ®*)æ¯è¡Œæœ‹å‹åœˆçš„æ•°æ®:index;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬ä½¿ç”¨çš„æ—¶å€™å°±è¿™æ ·ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;//çœŸæœ‹å‹åœˆ.h

@interface çœŸæœ‹å‹åœˆ : æœ‹å‹åœˆæ¨¡æ¿&amp;lt;æœ‹å‹åœˆæ¨¡æ¿Delegate&amp;gt; 
@end
çœŸæœ‹å‹åœˆ.m

@implementation çœŸæœ‹å‹åœˆ
- (void)viewDidLoad {
self.delegate = self;
}

-(è¿”å›çš„æ•°æ®*)æ¯è¡Œæœ‹å‹åœˆçš„æ•°æ®:index{
return [æœ‹å‹åœˆæ•°æ®æ•°ç»„ objectAtIndex:index];
}
@end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™æ ·å°±å¥½äº†ï¼ä½ å°±å†ä¹Ÿä¸ç”¨å…³å¿ƒæœ‹å‹åœˆæ€ä¹ˆå®ç°äº† ä½ åªè¦å…³ç³»ä½ çš„æ•°æ®éƒ¨åˆ†ï¼ï¼å°±é—®ä½ Niceä¸Niceï¼Ÿï¼Ÿï¼Ÿ&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥è¿™é‡Œåªè¦ä½ å¼€å‘å¥½äº†â€œæœ‹å‹åœˆæ¨¡æ¿.mâ€é‚£ä¹ˆä»¥åâ€œæœ‹å‹åœˆæ¨¡æ¿.hâ€å’Œâ€œæœ‹å‹åœˆæ¨¡æ¿.mâ€å°±æ˜¯ä½ å†™å¥½çš„èƒ½è¢«äººèˆ’æœèˆ’æœåˆèˆ’æœè°ƒç”¨çš„åº“äº†ï¼é…·ä¸é…·ï¼Ÿï¼Ÿ&lt;/p&gt;

&lt;p&gt;åšä¸»å°±æ‰‹æŠŠæ‰‹æ•™ä½ æ€ä¹ˆå†™è¿™ä¸ªâ€œæœ‹å‹åœˆæ¨¡æ¿.mâ€å§ å˜»å˜»å˜» æ‰‹æŠŠæ‰‹å“¦ å‘µå‘µå‘µ æ‰‹ æŠŠ æ‰‹å“Ÿ åšä¸»æ˜¯å¾ˆæœ‰çˆ±çš„å“¦~~~~&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬è¦å¼€å‘ä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;DDRichTextViewController&lt;/code&gt;æ¥ä»£æ›¿&lt;code class=&quot;highlighter-rouge&quot;&gt;WXViewController&lt;/code&gt; &amp;lt;â€”â€”è¿™ä¸ªå¤ªéš¾ç”¨äº†&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å…ˆæ¥å†™å†™&lt;code class=&quot;highlighter-rouge&quot;&gt;DDRichTextViewController.h&lt;/code&gt;å˜›&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;//å­¦å­¦ç³»ç»Ÿç»„ä»¶ æˆ‘ä»¬ä¹Ÿæ¥å¼„ä¸€ä¸ªdelegateå’Œdatasource~ å…¶å®éƒ½æ˜¯delegateä¸ºäº†æ›´å¥½åœ°åŒºåˆ†åŠŸèƒ½ï¼Œdatasourceä¸»è¦ç”¨æ¥è®¾ç½®æ•°æ®æœ‰å…³

@protocol DDRichTextViewDelegate 
@required
-(NSString*)senderName;//å¿…é¡»è¦å®ç°ï¼ä¸ç„¶è¯„è®ºåˆ«äººçš„æ—¶å€™æ²¡åå­— æœ€æ¨åŒ¿åæ¸£æ¸£ï¼Œè‡ªå·±å«çš„åå­—éƒ½ä¸æ•¢ç›´æ¥è¯´ï¼ï¼â€œæœ‰è°çŸ¥é“æˆ‘ä¹°å……æ°”å¨ƒå¨ƒéƒ½åŒ¿åå‘¢ å‘µå‘µï¼Œå•Šï¼Ÿä¸ºä»€ä¹ˆæˆ‘å¿ƒé‡Œæƒ³çš„ä¼šå˜æˆæ–‡å­—æ˜¾ç¤ºå‡ºæ¥ï¼ï¼ï¼çº³å°¼ï¼ï¼â€
@optional
-(BOOL)hideReplyButtonForIndex:(NSInteger)index;//æ˜¯å¦éšè—å›å¤æŒ‰é’®ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬ä¸è®©äººå›å¤ å°±æŠŠå›å¤æŒ‰é’®éšè—èµ·æ¥äº†
-(void)didPromulgatorPressForIndex:(NSInteger)index name:(NSString*)name;//å‘å¸ƒè€…çš„å¤´åƒæˆ–è€…åå­—è¢«ç‚¹å‡»
-(void)didRichTextPressedFromText:(NSString*)text index:(NSInteger)index;//æ­£æ–‡çš„å¯Œæ–‡æœ¬è¢«ç‚¹å‡»çš„å›è°ƒ
-(void)didRichTextPressedFromText:(NSString*)text index:(NSInteger)index replyIndex:(NSInteger)replyIndex;//è¯„è®ºçš„å¯Œæ–‡æœ¬è¢«ç‚¹å‡»çš„å›è°ƒ
-(void)replyForIndex:(NSInteger)index replyText:(NSString*)text;//å›å¤æ–‡å­—çš„å†…å®¹çš„å›è°ƒ
@end


@protocol DDRichTextViewDataSource 
@required
-(YMTextData*)dataForRowAtIndex:(NSInteger)index;//è¿™ä¸ªå°±æ˜¯æ¯è¡Œéœ€è¦çš„æ•°æ®äº†ï¼
-(NSInteger)numberOfRowsInDDRichText;//éœ€è¦è¿”å›å¤šå°‘è¡Œ
@end

@interface DDRichTextViewController : UIViewController&amp;lt;UITableViewDataSource,UITableViewDelegate,cellDelegate,InputDelegate&amp;gt;
@property (weak, nonatomic) id delegate;
@property (weak, nonatomic) id dataSource;

@end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç„¶åå°±æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;DDRichTextViewController.m&lt;/code&gt;äº†&lt;/p&gt;

&lt;p&gt;åŸºæœ¬ä¸Šå°±æ˜¯å¯¹&lt;code class=&quot;highlighter-rouge&quot;&gt;WXViewController.m&lt;/code&gt;çš„å°è£…äº†ï¼ è®©å…¶å†…éƒ¨å®ç°çš„ç»†èŠ‚éƒ½å¯¹ä½¿ç”¨è€…é€æ˜åŒ–&lt;/p&gt;

&lt;p&gt;æ¯”å¦‚åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;DDRichTextViewController&lt;/code&gt;ä¸­å®ç°äº†uitableViewçš„datasourceå’Œdelegate&lt;/p&gt;

&lt;p&gt;åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ tableviewéœ€è¦æ˜¾ç¤ºçš„è¡Œæ•°å°±ç”±ç»§æ‰¿&lt;code class=&quot;highlighter-rouge&quot;&gt;DDRichTextViewController&lt;/code&gt;çš„å­ç±»çš„datasourceä¸­çš„&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;-(NSInteger)numberOfRowsInDDRichText;&lt;/code&gt;è¿™ä¸ªæ–¹æ³•è¿”å›çš„æ•°æ®ä½œä¸ºå‚æ•°ï¼&lt;/p&gt;

&lt;p&gt;æ¯”å¦‚è¿™æ ·ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;-(NSInteger)numberOfSectionsInTableView:(UITableView *)tableView{
return [[self dataSource] numberOfRowsInDDRichText];
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ‰€ä»¥å½“æˆ‘ä»¬ä½¿ç”¨æˆ‘ä»¬è‡ªå·±å†™çš„åº“çš„æ—¶å€™æ ¹æœ¬ä¸åœ¨ä¹è¿™ä¸ªæ–¹æ³•&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;-(NSInteger)numberOfSectionsInTableView:(UITableView *)tableViewï¼›&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;å› ä¸ºæˆ‘ä»¬å°è£…åˆ°äº†&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;-(NSInteger)numberOfRowsInDDRichText;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;ç±»ä¼¼å…¶ä»–å®ç°ä»¥åŠæ–¹æ³•éƒ½è¿›è¡Œäº†å°è£…&lt;/p&gt;

&lt;p&gt;è¿™å½“ä¸­å¤„ç†@requiredå¾ˆç®€å•ï¼Œç”¨æˆ·å¿…é¡»å·²ç»å®ç°äº† æ‰€ä»¥ç›´æ¥è°ƒç”¨å°±å¥½ ã€‚ ä½†æ˜¯ @optionalçš„æ–¹æ³•ç”¨æˆ·ä¸ä¸€å®šä¼šå»å®ç°ï¼Œæ‰€ä»¥å½“ä¸­æœ€é‡è¦çš„å°±æ˜¯è¦å»åˆ¤æ–­è¿™ä¸ªæ–¹æ³•å­˜ä¸å­˜åœ¨ï¼šæ–¹æ³•å¦‚ä¸‹&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt; respondsToSelector:NSSelectorFromString(@â€œæ–¹æ³•å:â€) //è¿™ä¸ªå‡¡æ˜¯ç»§æ‰¿NSObjectçš„ç±»éƒ½æ‹¥æœ‰è¿™ä¸ªæ–¹æ³• è¿™ä¸ªæ˜¯åŸºç¡€äº†ï¼Œæ˜¯è¿è¡Œæ—¶åˆ¤æ–­æ–¹æ³•å­˜ä¸å­˜åœ¨çš„
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¯¦ç»†å¦‚ä¸‹&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;if ([self.delegate respondsToSelector:NSSelectorFromString(@&quot;hideReplyButtonForIndex:&quot;)]) { //åˆ¤æ–­hideReplyButtonForIndexæ–¹æ³•å­˜ä¸å­˜åœ¨ å­˜åœ¨æ‰ä¼šæ‰§è¡Œå¦‚ä¸‹çš„ä»£ç 
if ([[self delegate] hideReplyButtonForIndex:indexPath.section]) {
cell.hideReply = YES;
}
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸‹é¢æ˜¯è¯¦ç»†çš„ä»£ç &lt;/p&gt;

&lt;p&gt;ï¼ˆæœ¬æ¥æƒ³è´´è¯¦ç»†ä»£ç çš„ï¼Œåšä¸»ä¸€æ€å¿–ï¼æœ€å¥½ä¸‹è½½æˆ‘çš„Demoè¿›è¡Œç ”ç©¶ è¿™æ ·å¯ä»¥åœ¨æ–¹æ³•ä¹‹é—´è·³è½¬ æ›´èƒ½çœ‹å¾—æ‡‚ï¼ï¼åœ°å€åœ¨æ–‡åï¼è€Œä¸”ä½ ä»¬åœ¨åšä¸»çš„Demoé¡¹ç›®ä¸­starä¸€ä¸‹ æˆ‘å°±çˆ±æ­»ä½ Yçš„äº†ï¼‰&lt;/p&gt;

&lt;p&gt;æœ€åæˆ‘ä»¬æ¥çœ‹çœ‹æ€ä¹ˆä½¿ç”¨å†™å¥½çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;DDRichTextViewController&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬æ–°å»ºä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;TestViewController&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;//TestViewController.h

#import &quot;DDRichTextViewController.h&quot;
@interface TestViewController : DDRichTextViewController&amp;lt;DDRichTextViewDataSource,DDRichTextViewDelegate&amp;gt;
@end
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;
//
// TestViewController.m
//

#import &quot;TestViewController.h&quot;

@implementation TestViewController
NSMutableArray * ymDataArray;

- (void)viewDidLoad {
[super viewDidLoad];
NSMutableArray MyDataArr = [[NSMutableArray alloc]init];//!!!!è¿™é‡Œåº”è¯¥è‡ªå·±åˆå§‹åŒ–æ•°æ®
self.delegate = self;
self.dataSource = self;
}

//ä¸‹é¢ä¸¤ä¸ªæ˜¯datasourceæ–¹æ³•
-(NSInteger)numberOfRowsInDDRichText{
return 5;
}

-(YMTextData *)dataForRowAtIndex:(NSInteger)index{
return [MyDataArr objectAtIndex:0];//!!!!!!!! MyDataArr æ˜¯ä¸€ä¸ªYMTextDataçš„æ•°ç»„ï¼ï¼æ‰€ä»¥ä½ çš„æœ‹å‹åœˆæ•°æ®çš„æ¯ä¸€é¡¹éƒ½å¿…é¡»æ˜¯YMTextDataæˆ–è€…ç»§æ‰¿YMTextDataçš„å­ç±»ï¼ï¼
}

//ä¸‹é¢æ‰€æœ‰éƒ½æ˜¯delegateçš„æ–¹æ³• æœ‹å‹åœˆæ‰€æœ‰çš„ç‰¹æ€§éƒ½ä½¿ç”¨ä»¥ä¸‹çš„delegateæ–¹æ³•è¿›è¡Œæ§åˆ¶ æ–¹æ³•æœ‰å¯é€‰å’Œå¿…é€‰çš„ å¯è‡ªè¡Œå®ç° æ¥å£è°ƒç”¨ç®€å•
-(NSString *)senderName{
return @&quot;David&quot;;
}

-(BOOL)hideReplyButtonForIndex:(NSInteger)index{
return NO;
}

-(void)didPromulgatorNameOrHeadPicPressedForIndex:(NSInteger)index name:(NSString *)name{
UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@&quot;å‘å¸ƒè€…å›è°ƒ&quot; message:[NSString stringWithFormat:@&quot;å§“åï¼š%@\n indexï¼š%d&quot;,name,index] delegate:nil cancelButtonTitle:@&quot;OK&quot; otherButtonTitles:nil, nil];
[alert show];
}


-(void)didRichTextPressedFromText:(NSString*)text index:(NSInteger)index{
UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@&quot;æ­£æ–‡å¯Œæ–‡æœ¬ç‚¹å‡»å›è°ƒ&quot; message:[NSString stringWithFormat:@&quot;ç‚¹å‡»çš„å†…å®¹ï¼š%@\n indexï¼š%d&quot;,text,index] delegate:nil cancelButtonTitle:@&quot;OK&quot; otherButtonTitles:nil, nil];
[alert show];
}

-(void)didRichTextPressedFromText:(NSString *)text index:(NSInteger)index replyIndex:(NSInteger)replyIndex{
UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@&quot;è¯„è®ºçš„å¯Œæ–‡æœ¬ç‚¹å‡»å›è°ƒ&quot; message:[NSString stringWithFormat:@&quot;ç‚¹å‡»çš„å†…å®¹ï¼š%@\n indexï¼š%d \n replyIndex:%d&quot;,text,index,replyIndex] delegate:nil cancelButtonTitle:@&quot;OK&quot; otherButtonTitles:nil, nil];
[alert show];
}

-(void)replyForIndex:(NSInteger)index replyText:(NSString*)text{
UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@&quot;å›å¤çš„å›è°ƒ&quot; message:[NSString stringWithFormat:@&quot;å›å¤çš„å†…å®¹ï¼š%@\n indexï¼š%d&quot;,text,index] delegate:nil cancelButtonTitle:@&quot;OK&quot; otherButtonTitles:nil, nil];
[alert show];
}

@end

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ•ˆæœå¦‚ä¸‹&lt;/p&gt;

&lt;p&gt;å›¾5&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-3-15-pic5.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/daiweilai/DDRichText&quot; target=&quot;_blank&quot;&gt; é¡¹ç›®åŠDemoåœ°å€&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;ç»“è¯­&quot;&gt;ç»“è¯­&lt;/h2&gt;

&lt;p&gt;åšä¸»å¯¹WXViewControllerçš„æ”¹åŠ¨è¿˜æ˜¯é¢‡å¤šçš„ï¼Œä¸å•å•æ˜¯ç®€å•åœ°å°è£…ï¼Œæˆ‘è¿˜åšäº†è¡¨æƒ…å’Œå§“åçš„æ­£åˆ™åˆ¤æ–­ï¼Œè¿˜å¯¹YMTableViewCellåšäº†å¤§é‡çš„é€»è¾‘ä¿®æ”¹ï¼Œå›è°ƒçš„æ¥å£åšæ›´æ”¹å’Œå¢æ·»ä¹Ÿç”šå¤šï¼éœ€è¦ä½ äº²è‡ªå»å‘ç°åšä¸»éšè—çš„çˆ±ï¼Œä½†æ— è®ºå¦‚ä½•è¿™éƒ½æ˜¯æ½¦è‰çš„é¡¹ç›®ï¼Œæƒ³è¦æ­£å¼çš„ä½¿ç”¨åœ¨ä¼ä¸šå¼€å‘ä¸­è¿™è¿˜è¿œè¿œä¸å¤Ÿçš„ï¼æ²¡æœ‰è¿›è¡Œæ¨¡å—å’Œå•å…ƒçš„æµ‹è¯•ï¼Œå…¶ä¸­å›¾ç‰‡çš„å¤„ç†æ–¹å¼ä¹Ÿä¸å¥½ï¼Œè¿™é‡Œæˆ‘æ˜¯ç›´æ¥è¦æ±‚ç”¨æˆ·æ·»åŠ Imageæ–‡ä»¶çš„ è¿™ä¸ªåº”è¯¥æ”¹æˆ æ·»åŠ å›¾ç‰‡åœ°å€ï¼Œç„¶åè®©è¿™ä¸ªåº“å¼‚æ­¥å»è¯·æ±‚æ˜¾ç¤ºçš„â€¦â€¦æ‰€ä»¥è¿˜æ˜¯éœ€è¦å¤§å®¶çš„å¼€æºç²¾ç¥å’ŒåŠ›é‡å»è´¡çŒ®è‡ªå·±çš„ï¼Œç‡ƒçƒ§è‡ªå·±çš„ï¼Œéªšå¹´æ–‡ç« ç»“æŸäº†&lt;/p&gt;
</description>
        <pubDate>Sun, 15 Mar 2015 20:00:00 +0800</pubDate>
        <link>http://localhost:4000/2015/03/15/%E5%B0%81%E8%A3%85%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E5%AE%9E%E7%94%A8%E7%9A%84%E6%9C%8B%E5%8F%8B%E5%9C%88/</link>
        <guid isPermaLink="true">http://localhost:4000/2015/03/15/%E5%B0%81%E8%A3%85%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E5%AE%9E%E7%94%A8%E7%9A%84%E6%9C%8B%E5%8F%8B%E5%9C%88/</guid>
        
        <category>åŸºç¡€æ•´ç†</category>
        
        <category>å¯Œæ–‡æœ¬</category>
        
        
      </item>
    
      <item>
        <title>æ— æ¯”è¿…é€Ÿæ•æ·åœ°å¼€å‘iOSè¶…ç²¾ç¾æ§ä»¶</title>
        <description>&lt;h1 id=&quot;æ— æ¯”è¿…é€Ÿæ•æ·åœ°å¼€å‘iosè¶…ç²¾ç¾æ§ä»¶&quot;&gt;æ— æ¯”è¿…é€Ÿæ•æ·åœ°å¼€å‘iOSè¶…ç²¾ç¾æ§ä»¶&lt;/h1&gt;

&lt;h2 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h2&gt;

&lt;p&gt;è‡ªä»äººç”Ÿç¬¬ä¸€ç¯‡åšå®¢ã€ŠiOSä¸­çš„é¢„ç¼–è¯‘æŒ‡ä»¤çš„åˆæ­¥æ¢ç©¶ã€‹é—®ä¸–ä»¥æ¥ æµè§ˆé‡ç«Ÿç„¶è¾¾åˆ°äº†360å¤šï¼Œï¼ˆè·¯è¿‡çš„å¤§ç¥å‹¿ç¬‘ï¼ï¼‰è¿™äº›æµè§ˆé‡ä½¿æˆ‘å…´å¥‹å¼‚å¸¸ä½†åˆä»¤æˆ‘é»¯ç„¶ç¥ä¼¤ï¼Œä¸ºä½•æˆ‘ä¼šçœ¼é‡Œå¸¸å«æ³ªæ°´ï¼Ÿå› ä¸ºå›½äººä¼¸æ‰‹å…šè¾¾90%ï¼ï¼ï¼åŒºåŒºåªæœ‰å¯æ€œçš„ä¸‰ä¸ªè¯„è®ºï¼Œå¯æ€œçš„ä¸‰ä¸ªè¯„è®º~ æ²¡æœ‰é¼“åŠ±~ æ²¡æœ‰é²œèŠ±~ ä¹Ÿæ²¡æœ‰è°©éª‚~ ä½†æ˜¯æˆ‘ä¸å“­ å› ä¸ºè´±äººä¼šç¬‘ï¼æˆ‘æ·±ä¿¡ï¼š&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä¸€æ—¥ä¼¸æ‰‹å…šï¼Œbugç»ˆèº«éšï¼&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;è¿™æ¬¡çš„ä¸œè¥¿æ ‡é¢˜ä¸ºã€Šæ— æ¯”è¿…é€Ÿæ•æ·åœ°å¼€å‘iOSè¶…ç²¾ç¾æ§ä»¶ã€‹ï¼å°±é—®ä½ æ€•ä¸æ€•ï¼ï¼æœ¬äººæ·±æ¶ç—›ç»æ ‡é¢˜å…šä¸«çš„ï¼Œæ‰€ä»¥ä»Šå¤©æˆ‘å°±ç»å¯¹ä¼šå±•ç¤ºä¸€äº›å¥‡æ·«å·§æŠ€ï¼å¸…æ°”å¹¶ä¸”è¶…å¿«çš„æ’¸å‡ºä¸€ä¸ªiOSç²¾ç¾æ§ä»¶ï¼åˆ«è¯´æˆ‘å‘ä½ ï¼Ÿ&lt;/p&gt;

&lt;p&gt;ä¸Šå›¾1&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-29-pic1.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªæˆ‘å«å®ƒDDClockï¼Œæ‰€æœ‰viewéƒ½ä½¿ç”¨Quartz 2Dç»˜åˆ¶ï¼Œåˆ›å»ºåè‡ªåŠ¨ä¸å½“å‰ç³»ç»Ÿå¯¹æ—¶åŒæ­¥ï¼Œæ¼‚äº®ã€ç²¾è‡´ã€ä¼˜é›…â€¦â€¦ ï¼ˆå¦‚æœä½ çœ‹åˆ°è¿™é‡Œï¼Œä½ è¯´ä¸æ¼‚äº®ã€ä¸ç²¾è‡´ã€ä¸ä¼˜é›…ï¼Œé‚£ä¹ˆè¯·ä½ å‡ºå»ï¼Œæˆ‘æ‹…å¿ƒæˆ‘ä¼šä¸‹æ‰‹è¿‡é‡ï¼Œå‘µå‘µï¼‰ï¼Œæƒ³çŸ¥é“æ€ä¹ˆå¼„å¾—ï¼Ÿåˆ«æ€¥ï¼è®©åšä¸»å¸¦ä½ æ‰‹æ‹¿èœåˆ€ç ç”µçº¿ï¼Œä¸€è·¯ç«å…‰åŠ é—ªç”µï¼ï¼ï¼&lt;/p&gt;

&lt;h2 id=&quot;è®¾è®¡&quot;&gt;è®¾è®¡&lt;/h2&gt;

&lt;p&gt;åœ¨å·¥ç¨‹ç•Œæœ‰ä¸€ä¸ªè¯´æ³•ï¼š&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;è®¾è®¡çš„ä¼˜ç§€ä¸å¦ï¼Œæ˜¯å¯¼è‡´è¿™ä¸ªäº§å“æˆè´¥çš„å…³é”®ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å¥½å§è®¾è®¡å…ˆè¡Œï¼æƒ³å¥½äº†å†åŠ¨æ‰‹ï¼æƒ³å¥½äº†å†åŠ¨æ‰‹åœ¨ç”Ÿæ´»ä¸­æ˜¯å¾ˆé‡è¦ï¼Œæ¯”å¦‚å°å­¦ç”Ÿå’Œåˆä¸­ç”Ÿæ˜¯æ€ä¹ˆåŒºåˆ†çš„ï¼ŸåŒºåˆ«å°±æ˜¯åœ¨LOLä¸­ä»–ä»¬å¯¹æŠ€èƒ½çš„æ–½æ”¾æ˜¯å¦è¿›è¡Œå‘¨å¯†çš„æ€è€ƒï¼Œæ‰€ä»¥ä¸€äº›é€‰æ‰‹ä¸€ä¸ªäººç›´æ¥å†²è¿›äººå †é‡Œï¼ŒæŠ€èƒ½å•ªå•ªä¸€ç”©ï¼Œç„¶åå°±æŒ‚äº†â€”â€”å°å­¦ç”Ÿï¼æ‰€ä»¥å˜›ï¼Œåšäº‹æƒ…å‰å…»æˆæ€è€ƒçš„ä¹ æƒ¯ï¼Œæ˜¯è„±ç¦»å°å­¦ç”Ÿç¾¤ä½“çš„é‡è¦æ‰‹æ®µå“¦~&lt;/p&gt;

&lt;p&gt;å‰é¢è¯´åˆ°ä¸€ç‚¹ï¼ŒDDClockåˆ›å»ºåéœ€è¦è‡ªåŠ¨ä¸å½“å‰ç³»ç»Ÿå¯¹æ—¶åŒæ­¥ï¼›æ‰€ä»¥&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;æˆ‘ä»¬ä¸å¦¨è®©DDClockç»§æ‰¿UIViewï¼Œç„¶åé‡è½½&lt;code class=&quot;highlighter-rouge&quot;&gt;-(void)drawRect:(CGRect)rect&lt;/code&gt;æ–¹æ³•ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­å¸…æ°”çš„ç”»å‡ºé‚£ä¸ªæ—¶é’Ÿæ‰€æœ‰ç»†èŠ‚ï¼æˆ‘ä»¬çš„å†³å¿ƒæ˜¯åšå†³ä¸ä½¿ç”¨äººæ°‘çš„ä¸€å¼ å›¾ç‰‡ï¼ï¼›&lt;/li&gt;
  &lt;li&gt;ç„¶ååˆ†ææ•´ä¸ªDDClockåªæœ‰æŒ‡é’ˆï¼ˆæ—¶åˆ†ç§’é’ˆï¼‰å’ŒæŒ‡ç¤ºä¸Šä¸‹åˆçš„AMã€PMä¼šåŠ¨ï¼æ‰€ä»¥æˆ‘ä»¬è¦æŠŠè¿™äº›ä¸ªä¸œè¥¿å°„æˆå˜é‡ï¼å…³äºæŒ‡é’ˆçš„è¿åŠ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®šæ—¶å™¨ï¼Œæ¯ç§’éƒ½å’Œç³»ç»Ÿå¯¹æ—¶ï¼›&lt;/li&gt;
  &lt;li&gt;æˆ‘ä»¬è¿˜è¦æ”¯æŒä¸»é¢˜çš„åˆ‡æ¢ï¼Œé‚£å°±ç»™DDClockå®šä¹‰ä¸€ä¸ªæšä¸¾å’¯ï¼›&lt;/li&gt;
  &lt;li&gt;ç„¶åå°±è¿™æ ·â€¦&lt;/li&gt;
  &lt;li&gt;ç„¶åå°±è¿™æ ·è¿™æ ·â€¦â€¦&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;å“ˆ~ åœ¨æˆ‘ä»¬ç²¾ç»†çš„è®¾è®¡ä¸­ï¼Œè¿™ä¸ªDDClockçš„äº§å“å½¢æ€ç«Ÿç„¶å‡ºä¹çš„é¥±æ»¡ï¼Œä¿—è¯è¯´çš„å¥½ï¼Œæ‰“é“è¦è¶çƒ­ï¼Œè±†è…è¶çƒ­åƒã€‚æˆ‘ä»¬é©¬ä¸Šç¥­å‡ºæ€å™¨XCodeï¼ï¼æˆ‘çŸ¥é“ä½ ç°åœ¨å·²ç»å…´å¥‹äº†&lt;/p&gt;

&lt;h2 id=&quot;ç¼–ç &quot;&gt;ç¼–ç &lt;/h2&gt;

&lt;p&gt;æˆ‘ä»¬å°±æ–°å»ºä¸€ä¸ªé¡¹ç›® å«åšDDClockDemoå§ï¼Œç”¨æ¥æµ‹è¯•å¾…ä¼šæˆ‘ä»¬è®¾è®¡çš„DDClockã€‚&lt;/p&gt;

&lt;p&gt;ç„¶åæˆ‘ä»¬å°±åœ¨é¡¹ç›®ä¸­æ–°å»ºä¸€ä¸ªGroupï¼ˆæ–‡ä»¶å¤¹ï¼‰å§ ï¼Œå°±å‘½åæˆDDClockå˜›~&lt;/p&gt;

&lt;p&gt;å†ç„¶åå˜›ï¼Œæˆ‘ä»¬å°±åœ¨DDClockçš„æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªOCå¯¹è±¡å§ï¼ˆCocoa Touch Classï¼‰å–åå­—DDClockï¼Œè®©å®ƒç»§æ‰¿UIView&lt;/p&gt;

&lt;p&gt;Niceï¼ï¼æ¥çœ‹çœ‹æˆ‘ä»¬çš„å·¥ç¨‹ç›®å½•ç»“æ„ å›¾2&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-29-pic2.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¥½ï¼æˆ‘ä»¬è¦å¼€å§‹å†™ä»£ç å’¯&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;//
//  DDClock.h
//  Created by David on 15/1/26.
//  åšå®¢ï¼šhttps://daiweilai.github.io
//  githubï¼šhttps://github.com/daiweilai/
//  Copyright (c) 2015å¹´ DavidDay. All rights reserved.
// 

#import &amp;lt;UIKit/UIKit.h&amp;gt;
#define DDClockSize 200 //é»˜è®¤æ—¶é’Ÿçš„é•¿å®½éƒ½ä¸º200
#if ! __has_feature(objc_arc)
#error &quot;éœ€è¦å¼€å¯ARC&quot;
#endif

@protocol DDLockDelegate 
@optional
-(UIColor*)rimColor;
-(UIColor*)markColor;
-(UIColor*)faceColor;
-(UIColor*)fontColor;
-(UIColor*)secondHandColor;
-(UIColor*)hourAndMinuteHandColor;
@end


@interface DDClock : UIView
@property (weak, nonatomic) id delegate;
typedef NS_ENUM(NSUInteger, DDClockTheme) { //å¼„ä¸€ä¸ªæšä¸¾ç±»å‹ç”¨æ¥æ›´æ”¹ä¸»é¢˜
    DDClockThemeDefault = 0,
    DDClockThemeDark,
    DDClockThemeModerm
};
//DDClockçš„æ„é€ æ–¹æ³• delegate:ä»£ç†
-(instancetype)initWithDelegate:(id)delegate frame:(CGRect)frame;
///DDClockçš„æ„é€ æ–¹æ³• theme:ä¸»é¢˜ 
-(instancetype)initWithTheme:(DDClockTheme)theme frame:(CGRect)frame;
@end

&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;//
//  DDClock.m
//  Created by David on 15/1/26.
//  åšå®¢ï¼šhttps://daiweilai.github.io
//  githubï¼šhttps://github.com/daiweilai/
//  Copyright (c) 2015å¹´ DavidDay. All rights reserved.
//

#import &quot;DDClock.h&quot;

@interface DDClock(){
    //// å£°æ˜é¢œè‰²
    UIColor* rimColor;
    UIColor* faceColor;
    UIColor* markColor;
    UIColor* secondHandColor;
    UIColor* fontColor;
    UIColor* hourAndMinuteHandColor;
    DDClockTheme _theme;
    float _scale;
    CGPoint _centerPoint;
}
@end


@implementation DDClock


-(instancetype)initWithDelegate:(id)delegate frame:(CGRect)frame{
    //é˜²æ­¢ç”¨æˆ·åœ¨æ„å»ºçš„æ—¶å€™ä¼ å…¥çš„heightå’Œwidtä¸ä¸€æ · å› ä¸ºæ—¶é’Ÿæ˜¯åœ†çš„æ‰€ä»¥å¼ºåˆ¶æŠŠä»–ä»¬å˜æˆé•¿å®½ä¸€æ ·
    CGFloat size = frame.size.height&amp;gt;frame.size.width?frame.size.height:frame.size.width;
    CGRect realRect = CGRectMake(frame.origin.x, frame.origin.y, size, size);
    self = [self initWithFrame:realRect];
    if (self) {
        _scale = realRect.size.height / DDClockSize; //æ”¾å¤§ç¼©å°çš„æ¯”ä¾‹ç³»æ•°
        _centerPoint = CGPointMake(size/2, size/2); //ä¸­å¿ƒç‚¹
        //å…ˆä½¿ç”¨é»˜è®¤çš„é¢œè‰²åˆå§‹åŒ– é˜²æ­¢ç”¨æˆ·æ²¡æœ‰è°ƒç”¨delegateæ–¹æ³•
        rimColor = [UIColor colorWithRed: 0 green: 0 blue: 0 alpha: 1];
        faceColor = [UIColor colorWithRed: 1 green: 1 blue: 1 alpha: 1];
        markColor = [UIColor colorWithRed:  160.0/255.0 green: 160.0/255.0 blue: 160.0/255.0 alpha: 1];
        secondHandColor = [UIColor colorWithRed: 86.0/255.0 green: 232.0/255.0 blue: 157.0/255.0 alpha: 1];
        fontColor = [UIColor colorWithRed: 0 green: 0 blue: 0 alpha: 1];
        hourAndMinuteHandColor = [UIColor colorWithRed: 0 green: 0 blue: 0 alpha: 1];

		//åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ä½¿ç”¨äº†delegateçš„æ–¹æ³•
        if ([delegate respondsToSelector:NSSelectorFromString(@&quot;rimColor&quot;)]) {
            rimColor = [delegate rimColor];
        }
        if ([delegate respondsToSelector:NSSelectorFromString(@&quot;faceColor&quot;)]) {
            faceColor = [delegate faceColor];
        }
        if ([delegate respondsToSelector:NSSelectorFromString(@&quot;markColor&quot;)]) {
            markColor = [delegate markColor];
        }
        if ([delegate respondsToSelector:NSSelectorFromString(@&quot;fontColor&quot;)]) {
            fontColor = [delegate fontColor];
        }
        if ([delegate respondsToSelector:NSSelectorFromString(@&quot;hourAndMinuteHandColor&quot;)]) {
            hourAndMinuteHandColor = [delegate hourAndMinuteHandColor];
        }
        if ([delegate respondsToSelector:NSSelectorFromString(@&quot;secondHandColor&quot;)]) {
            secondHandColor = [delegate secondHandColor];
        }
		
		//ç§’é’ˆä½¿ç”¨å›¾ç‰‡ç”»å‡ºæ¥
        UIImage *img = [self drawSecondHandWithColor:secondHandColor scale:_scale frameSize:CGSizeMake(size, size) currentAngle:[self secondAngleFromDate:[NSDate new]]];
        UIImageView *imgV = [[UIImageView alloc] initWithImage:img];
        imgV.frame = CGRectMake(0 , 0, size, size);
        [self addSubview:imgV];

        //1.åˆ›å»ºåŠ¨ç”»å¹¶æŒ‡å®šåŠ¨ç”»å±æ€§
        CABasicAnimation *basicAnimation=[CABasicAnimation animationWithKeyPath:@&quot;transform.rotation.z&quot;];

        //2.è®¾ç½®åŠ¨ç”»å±æ€§åˆå§‹å€¼ã€ç»“æŸå€¼
        //    basicAnimation.fromValue=[NSNumber numberWithInt:M_PI_2];//
        basicAnimation.toValue=[NSNumber numberWithFloat:2*M_PI];

        //è®¾ç½®å…¶ä»–åŠ¨ç”»å±æ€§
        basicAnimation.duration=60.0;//60ç§’è½¬ä¸€åœˆ
        basicAnimation.autoreverses=false;//æ—‹è½¬åå†æ—‹è½¬åˆ°åŸæ¥çš„ä½ç½®
        basicAnimation.repeatCount = CGFLOAT_MAX;//æ— é™å¾ªç¯çš„æ‰§è¡ŒåŠ¨ç”»

        imgV.layer.anchorPoint = CGPointMake(0.5, 0.5);//è®¾ç½®ç§’é’ˆçš„æ—‹è½¬ä¸­å¿ƒ å°±æ˜¯è¿™ä¸ªviewçš„ä¸­å¿ƒï¼


        //4.æ·»åŠ åŠ¨ç”»åˆ°å›¾å±‚ï¼Œæ³¨æ„keyç›¸å½“äºç»™åŠ¨ç”»è¿›è¡Œå‘½åï¼Œä»¥åè·å¾—è¯¥åŠ¨ç”»æ—¶å¯ä»¥ä½¿ç”¨æ­¤åç§°è·å–
        [imgV.layer addAnimation:basicAnimation forKey:@&quot;Rotation&quot;];



        //å½“è¿™ä¸ªDDClockè¢«åˆ›å»ºå‡ºæ¥çš„æ—¶å€™ï¼Œå°±æ–°å»ºä¸€ä¸ªå®šæ—¶å™¨ï¼Œ1åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡â€œonTimerâ€æ–¹æ³• å…¶å®è¿™é‡Œåšæ˜¯ä¸å¤Ÿå¥½çš„ å› ä¸ºè¿™æ ·ä¸èƒ½ç¡®ä¿ç§’é’ˆèµ°åˆ°12çš„æ—¶å€™æ›´æ–° æ—¶é’ˆå’Œåˆ†é’ˆ è¦æƒ³è§£å†³ä¹Ÿå¾ˆå®¹æ˜“ æœ€è¿‘ç”Ÿç—… éš¾å— ä¸æƒ³è§£å†³äº†~~
        [NSTimer scheduledTimerWithTimeInterval:60.0 target:self selector:@selector(onTimer) userInfo:nil repeats:YES];
    }
    self.backgroundColor = [UIColor clearColor];
    return self;

}


///æ„é€ æ–¹æ³• ä½¿ç”¨é»˜è®¤ä¸»é¢˜
-(instancetype)initWithTheme:(DDClockTheme)theme frame:(CGRect)frame{
    //é˜²æ­¢ç”¨æˆ·åœ¨æ„å»ºçš„æ—¶å€™ä¼ å…¥çš„heightå’Œwidtä¸ä¸€æ · å› ä¸ºæ—¶é’Ÿæ˜¯åœ†çš„æ‰€ä»¥å¼ºåˆ¶æŠŠä»–ä»¬å˜æˆä¸€æ ·
    CGFloat size = frame.size.height&amp;gt;frame.size.width?frame.size.height:frame.size.width;
    CGRect realRect = CGRectMake(frame.origin.x, frame.origin.y, size, size);
    self = [self initWithFrame:realRect];
    if (self) {
        _theme = theme;
        _scale = realRect.size.height / DDClockSize;
        _centerPoint = CGPointMake(size/2, size/2);

        switch (theme) { //æ ¹æ®ä¸»é¢˜ç»˜åˆ¶ä¸åŒçš„é¢œè‰²
            case DDClockThemeDefault:
                rimColor = [UIColor colorWithRed: 0 green: 0 blue: 0 alpha: 1];
                faceColor = [UIColor colorWithRed: 1 green: 1 blue: 1 alpha: 1];
                markColor = [UIColor colorWithRed:  160.0/255.0 green: 160.0/255.0 blue: 160.0/255.0 alpha: 1];
                secondHandColor = [UIColor colorWithRed: 86.0/255.0 green: 232.0/255.0 blue: 157.0/255.0 alpha: 1];
                fontColor = [UIColor colorWithRed: 0 green: 0 blue: 0 alpha: 1];
                hourAndMinuteHandColor = [UIColor colorWithRed: 0 green: 0 blue: 0 alpha: 1];
                break;

            case DDClockThemeDark:
                rimColor = [UIColor colorWithRed: 66.0/255 green: 66.0/255 blue: 66.0/255 alpha: 1];
                faceColor = [UIColor colorWithRed: 66.0/255 green: 66.0/255 blue: 66.0/255 alpha: 1];
                markColor = [UIColor colorWithRed:  1 green: 1 blue: 1 alpha: 1];
                secondHandColor = [UIColor colorWithRed: 32.0/255.0 green: 250.0/255.0 blue: 200.0/255.0 alpha: 1];
                fontColor = [UIColor colorWithRed: 1 green: 1 blue: 1 alpha: 1];
                hourAndMinuteHandColor = [UIColor colorWithRed: 1 green: 1 blue: 1 alpha: 1];
                break;

            case DDClockThemeModerm:
                rimColor = [UIColor colorWithRed: 60.0/255 green: 90.0/255 blue: 110.0/255 alpha: 1];
                faceColor = [UIColor colorWithRed: 1 green: 1 blue: 1 alpha: 1];
                markColor = [UIColor colorWithRed:  160.0/255.0 green: 160.0/255.0 blue: 160.0/255.0 alpha: 1];
                secondHandColor = [UIColor colorWithRed: 210.0/255.0 green: 0 blue: 10.0/255.0 alpha: 1];
                fontColor = [UIColor colorWithRed: 210.0/255.0 green: 0 blue: 10.0/255.0 alpha: 1];
                hourAndMinuteHandColor = [UIColor colorWithRed: 60.0/255 green: 90.0/255 blue: 110.0/255 alpha: 1];
                break;
            default:
                rimColor = [UIColor colorWithRed: 0 green: 0 blue: 0 alpha: 1];
                faceColor = [UIColor colorWithRed: 1 green: 1 blue: 1 alpha: 1];
                markColor = [UIColor colorWithRed:  160.0/255.0 green: 160.0/255.0 blue: 160.0/255.0 alpha: 1];
                secondHandColor = [UIColor colorWithRed: 86.0/255.0 green: 232.0/255.0 blue: 157.0/255.0 alpha: 1];
                fontColor = [UIColor colorWithRed: 0 green: 0 blue: 0 alpha: 1];
                hourAndMinuteHandColor = [UIColor colorWithRed: 0 green: 0 blue: 0 alpha: 1];
                break;
        }

        if ([_delegate rimColor]) {
            rimColor = [_delegate rimColor];
        }
        if ([_delegate faceColor]) {
           faceColor = [_delegate faceColor];
        }
        if ([_delegate markColor]) {
            markColor = [_delegate markColor];
        }
        if ([_delegate fontColor]) {
            fontColor = [_delegate fontColor];
        }
        if ([_delegate faceColor]) {
            faceColor = [_delegate faceColor];
        }
        if ([_delegate hourAndMinuteHandColor]) {
            hourAndMinuteHandColor = [_delegate hourAndMinuteHandColor];
        }
        if ([_delegate secondHandColor]) {
            secondHandColor = [_delegate secondHandColor];
        }



        UIImage *img = [self drawSecondHandWithColor:secondHandColor scale:_scale frameSize:CGSizeMake(size, size) currentAngle:[self secondAngleFromDate:[NSDate new]]];
        UIImageView *imgV = [[UIImageView alloc] initWithImage:img];
        imgV.frame = CGRectMake(0 , 0, size, size);
        [self addSubview:imgV];

        //1.åˆ›å»ºåŠ¨ç”»å¹¶æŒ‡å®šåŠ¨ç”»å±æ€§
        CABasicAnimation *basicAnimation=[CABasicAnimation animationWithKeyPath:@&quot;transform.rotation.z&quot;];

        //2.è®¾ç½®åŠ¨ç”»å±æ€§åˆå§‹å€¼ã€ç»“æŸå€¼
        //    basicAnimation.fromValue=[NSNumber numberWithInt:M_PI_2];
        basicAnimation.toValue=[NSNumber numberWithFloat:2*M_PI];

        //è®¾ç½®å…¶ä»–åŠ¨ç”»å±æ€§
        basicAnimation.duration=60.0;
        basicAnimation.autoreverses=false;//æ—‹è½¬åå†æ—‹è½¬åˆ°åŸæ¥çš„ä½ç½®
        basicAnimation.repeatCount = CGFLOAT_MAX;

        imgV.layer.anchorPoint = CGPointMake(0.5, 0.5);


        //4.æ·»åŠ åŠ¨ç”»åˆ°å›¾å±‚ï¼Œæ³¨æ„keyç›¸å½“äºç»™åŠ¨ç”»è¿›è¡Œå‘½åï¼Œä»¥åè·å¾—è¯¥åŠ¨ç”»æ—¶å¯ä»¥ä½¿ç”¨æ­¤åç§°è·å–
        [imgV.layer addAnimation:basicAnimation forKey:@&quot;Rotation&quot;];



        //å½“è¿™ä¸ªViewè¢«åˆ›å»ºå‡ºæ¥çš„æ—¶å€™ï¼Œå°±æ–°å»ºä¸€ä¸ªå®šæ—¶å™¨ï¼Œ1åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡â€œonTimerâ€æ–¹æ³•
        [NSTimer scheduledTimerWithTimeInterval:60.0 target:self selector:@selector(onTimer) userInfo:nil repeats:YES];
    }
    self.backgroundColor = [UIColor clearColor];
    return self;
}

//æ¯ç§’é’Ÿåˆ·æ–°è§†å›¾ä¸€æ¬¡
-(void)onTimer{
    dispatch_async(dispatch_get_main_queue(), ^{
        [self setNeedsDisplay];//è¿™ä¸ªæ–¹æ³•è°ƒç”¨åå°±ä¼šåˆ·æ–°è¿™ä¸ªView
    });
}

//Viewåˆ·æ–°è¿™ä¸ªæ–¹æ³•å°±è¢«è°ƒç”¨ï¼Œå°±ä¼šé‡æ–°ç”»å‡ºè¿™ä¸ªView
-(void)drawRect:(CGRect)rect{
    [super drawRect:rect];
    //è·å–å½“å‰çš„æ—¶é—´è¿›è¡ŒViewçš„ç»˜åˆ¶
    [self drawDDClockWithScale:_scale centerPoint:_centerPoint currentDate:[NSDate new]];


}

////ç”»å‡ºç§’é’ˆ
-(UIImage*)drawSecondHandWithColor:(UIColor*)color scale:(CGFloat)scale frameSize:(CGSize)size currentAngle:(float)currentAngle{
    UIGraphicsBeginImageContext(size);
    CGContextRef context = UIGraphicsGetCurrentContext();
    //// secondHand Drawing
    CGContextSaveGState(context);
    CGContextTranslateCTM(context, size.height/2, size.height/2);
    CGContextRotateCTM(context, (currentAngle - 90) * M_PI / 180);
    CGContextScaleCTM(context, scale, scale);

    UIBezierPath* secondHandPath = UIBezierPath.bezierPath;
    [secondHandPath moveToPoint: CGPointMake(4.96, -4.87)];
    [secondHandPath addCurveToPoint: CGPointMake(6.93, -0.92) controlPoint1: CGPointMake(6.07, -3.76) controlPoint2: CGPointMake(6.73, -2.37)];
    [secondHandPath addLineToPoint: CGPointMake(66.01, -0.92)];
    [secondHandPath addLineToPoint: CGPointMake(66.01, 0.08)];
    [secondHandPath addLineToPoint: CGPointMake(7.01, 0.08)];
    [secondHandPath addCurveToPoint: CGPointMake(4.96, 5.03) controlPoint1: CGPointMake(7.01, 1.87) controlPoint2: CGPointMake(6.32, 3.66)];
    [secondHandPath addCurveToPoint: CGPointMake(-4.94, 5.03) controlPoint1: CGPointMake(2.22, 7.76) controlPoint2: CGPointMake(-2.21, 7.76)];
    [secondHandPath addCurveToPoint: CGPointMake(-4.94, -4.87) controlPoint1: CGPointMake(-7.68, 2.29) controlPoint2: CGPointMake(-7.68, -2.14)];
    [secondHandPath addCurveToPoint: CGPointMake(4.96, -4.87) controlPoint1: CGPointMake(-2.21, -7.61) controlPoint2: CGPointMake(2.22, -7.61)];
    [secondHandPath closePath];
    [color setFill];
    [secondHandPath fill];
    CGContextRestoreGState(context);
    UIImage *img = [UIImage new];
    img = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();
    return img;
}


///æŠŠå½“å‰çš„æ—¶é—´è½¬æ¢ä¸ºæ—¶é’ˆã€åˆ†é’ˆã€è§’åº¦
-(NSArray*)HourAndMinuteAngleFromDate:(NSDate*)date{
    NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
    [formatter setDateFormat:@&quot;HH&quot;];//å¼ºåˆ¶24å°æ—¶æ ¼å¼
    float hourf = [[formatter stringFromDate:date] floatValue];
    [formatter setDateFormat:@&quot;mm&quot;];
    float minutef = [[formatter stringFromDate:date] floatValue];
    if (hourf &amp;gt; 12) {//å¤§äº24å°æ—¶æˆ‘ä»¬å°±å‡å»12å°æ—¶å˜› æ¯”è¾ƒå¥½ç®—è§’åº¦å‘€
        hourf = (hourf - 12)*30 + 30*(minutef/60); //ä¸€å°æ—¶30Â°
    }else{
        hourf = hourf*30 + 30*(minutef/60);
    }
    minutef = minutef*6;//ä¸€åˆ†é’Ÿ6Â°
    NSNumber *hour =  [[NSNumber alloc] initWithInt:hourf];
    NSNumber *minute = [[NSNumber alloc] initWithInt:minutef];
    NSArray *arr = [[NSArray alloc] initWithObjects:hour,minute, nil];
    return arr;
}

//å› ä¸ºç§’é’ˆçš„å®æ—¶æ€§ æ‰€ä»¥å•ç‹¬ç®—å‡ºå½“å‰ç§’é’ˆçš„è§’åº¦
-(float)secondAngleFromDate:(NSDate*)date{
    NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
    [formatter setDateFormat:@&quot;ss&quot;];
    float secondf = [[formatter stringFromDate:date] floatValue];
    secondf = secondf*6;//ä¸€åˆ†é’Ÿ6Â°
    return secondf;
}

//ç»˜åˆ¶å›¾å½¢çš„ä¸»è¦æ–¹æ³•
- (void)drawDDClockWithScale: (CGFloat)scale centerPoint:(CGPoint)centerPoint currentDate:(NSDate*)currentDate;
{
    NSArray *arr = [self HourAndMinuteAngleFromDate:currentDate];
    NSNumber *hourAngle = (NSNumber*)[arr objectAtIndex:0];
    NSNumber *minuteAngle = (NSNumber*)[arr objectAtIndex:1];



    //è·å–ç»˜å›¾ä¸Šä¸‹æ–‡
    CGContextRef context = UIGraphicsGetCurrentContext();

    //// ç”»å‡ºè¾¹æ¡†
    CGContextSaveGState(context);
    CGContextTranslateCTM(context, centerPoint.x, centerPoint.y);
    CGContextScaleCTM(context, scale, scale);

    UIBezierPath* rimPath = [UIBezierPath bezierPathWithOvalInRect: CGRectMake(-100, -100, 200, 200)];
    [rimColor setFill];
    [rimPath fill];

    CGContextRestoreGState(context);


    //// ç”»å‡ºé’Ÿè¡¨ç›˜
    CGContextSaveGState(context);
    CGContextTranslateCTM(context, centerPoint.x, centerPoint.y);
    CGContextScaleCTM(context, scale, scale);

    UIBezierPath* facePath = [UIBezierPath bezierPathWithOvalInRect: CGRectMake(-92.99, -92.92, 186, 186)];
    [faceColor setFill];
    [facePath fill];

    CGContextRestoreGState(context);


    //// ä¸Šåˆä¸‹åˆæ—¶é—´çš„åˆ¤æ–­
    CGContextSaveGState(context);
    CGContextTranslateCTM(context, centerPoint.x, centerPoint.y);
    CGContextScaleCTM(context, scale, scale);

    CGRect aMPMRect = CGRectMake(-15.99, -42.92, 32, 18);
    NSMutableParagraphStyle* aMPMStyle = NSMutableParagraphStyle.defaultParagraphStyle.mutableCopy;
    aMPMStyle.alignment = NSTextAlignmentCenter;

    NSDictionary* aMPMFontAttributes = @{NSFontAttributeName: [UIFont fontWithName: @&quot;Helvetica-Bold&quot; size: 15], NSForegroundColorAttributeName: fontColor, NSParagraphStyleAttributeName: aMPMStyle};
    NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
    [formatter setDateFormat:@&quot;HH&quot;];//å¼ºåˆ¶24å°æ—¶æ ¼å¼
    float hourf = [[formatter stringFromDate:currentDate] floatValue];//ä¸ºäº†èŠ‚çœç³»ç»Ÿèµ„æº å»¶è¿Ÿä¸€åˆ†é’Ÿæ‰ä¼šæ›´æ–° å› ä¸ºè¿™ä¸ªæ–¹æ³•æ˜¯ä¸€åˆ†é’Ÿ è°ƒç”¨ä¸€æ¬¡çš„
    NSString *str = hourf&amp;lt;12?@&quot;AM&quot;:@&quot;PM&quot;;
    [str drawInRect: aMPMRect withAttributes: aMPMFontAttributes];

    CGContextRestoreGState(context);


    //// ç”»å‡ºæ—¶é’ˆ
    CGContextSaveGState(context);
    CGContextTranslateCTM(context, centerPoint.x, centerPoint.y);
    CGContextRotateCTM(context, [hourAngle floatValue] * M_PI / 180);
    CGContextScaleCTM(context, scale, scale);

    UIBezierPath* hourHandPath = [UIBezierPath bezierPathWithRect: CGRectMake(-4.99, -52.46, 10, 43.54)];
    [hourAndMinuteHandColor setFill];
    [hourHandPath fill];

    CGContextRestoreGState(context);


    //// ç”»å‡ºåˆ†é’ˆ
    CGContextSaveGState(context);
    CGContextTranslateCTM(context, centerPoint.x, centerPoint.y);
    CGContextRotateCTM(context, ([minuteAngle floatValue]) * M_PI / 180);
    CGContextScaleCTM(context, scale, scale);

    UIBezierPath* minuteHandPath = [UIBezierPath bezierPathWithRect: CGRectMake(-2.99, -64.92, 6, 55.92)];
    [hourAndMinuteHandColor setFill];
    [minuteHandPath fill];

    CGContextRestoreGState(context);





    //// ç”»å‡ºä¸­é—´çš„åœ†åœˆ
    CGContextSaveGState(context);
    CGContextTranslateCTM(context, centerPoint.x, centerPoint.y);
    CGContextScaleCTM(context, scale, scale);

    UIBezierPath* centreEmptyOvalPath = UIBezierPath.bezierPath;
    [centreEmptyOvalPath moveToPoint: CGPointMake(-4.42, -4.35)];
    [centreEmptyOvalPath addCurveToPoint: CGPointMake(-4.42, 4.33) controlPoint1: CGPointMake(-6.82, -1.95) controlPoint2: CGPointMake(-6.82, 1.93)];
    [centreEmptyOvalPath addCurveToPoint: CGPointMake(4.26, 4.33) controlPoint1: CGPointMake(-2.02, 6.73) controlPoint2: CGPointMake(1.86, 6.73)];
    [centreEmptyOvalPath addCurveToPoint: CGPointMake(4.26, -4.35) controlPoint1: CGPointMake(6.66, 1.93) controlPoint2: CGPointMake(6.66, -1.95)];
    [centreEmptyOvalPath addCurveToPoint: CGPointMake(-4.42, -4.35) controlPoint1: CGPointMake(1.86, -6.75) controlPoint2: CGPointMake(-2.02, -6.75)];
    [centreEmptyOvalPath closePath];
    [centreEmptyOvalPath moveToPoint: CGPointMake(7.78, -7.7)];
    [centreEmptyOvalPath addCurveToPoint: CGPointMake(7.78, 7.85) controlPoint1: CGPointMake(12.08, -3.41) controlPoint2: CGPointMake(12.08, 3.56)];
    [centreEmptyOvalPath addCurveToPoint: CGPointMake(-7.77, 7.85) controlPoint1: CGPointMake(3.49, 12.15) controlPoint2: CGPointMake(-3.48, 12.15)];
    [centreEmptyOvalPath addCurveToPoint: CGPointMake(-7.77, -7.7) controlPoint1: CGPointMake(-12.07, 3.56) controlPoint2: CGPointMake(-12.07, -3.41)];
    [centreEmptyOvalPath addCurveToPoint: CGPointMake(7.78, -7.7) controlPoint1: CGPointMake(-3.48, -12) controlPoint2: CGPointMake(3.49, -12)];
    [centreEmptyOvalPath closePath];
    [hourAndMinuteHandColor setFill];
    [centreEmptyOvalPath fill];

    CGContextRestoreGState(context);


    //// ç”»å‡ºâ€œ12â€
    CGContextSaveGState(context);
    CGContextTranslateCTM(context, centerPoint.x, centerPoint.y);
    CGContextScaleCTM(context, scale, scale);

    CGRect text12Rect = CGRectMake(-10, -82, 21, 17);
    {
        NSString* textContent = @&quot;12&quot;;
        NSMutableParagraphStyle* text12Style = NSMutableParagraphStyle.defaultParagraphStyle.mutableCopy;
        text12Style.alignment = NSTextAlignmentCenter;

        NSDictionary* text12FontAttributes = @{NSFontAttributeName: [UIFont fontWithName: @&quot;Helvetica-Bold&quot; size: 18], NSForegroundColorAttributeName: fontColor, NSParagraphStyleAttributeName: text12Style};

        [textContent drawInRect: CGRectOffset(text12Rect, 0, (CGRectGetHeight(text12Rect) - [textContent boundingRectWithSize: text12Rect.size options: NSStringDrawingUsesLineFragmentOrigin attributes: text12FontAttributes context: nil].size.height) / 2) withAttributes: text12FontAttributes];
    }

    CGContextRestoreGState(context);


    //// ç”»å‡ºâ€œ3â€
    CGContextSaveGState(context);
    CGContextTranslateCTM(context, centerPoint.x, centerPoint.y);
    CGContextScaleCTM(context, scale, scale);

    CGRect text3Rect = CGRectMake(72, -9, 12, 17);
    {
        NSString* textContent = @&quot;3&quot;;
        NSMutableParagraphStyle* text3Style = NSMutableParagraphStyle.defaultParagraphStyle.mutableCopy;
        text3Style.alignment = NSTextAlignmentCenter;

        NSDictionary* text3FontAttributes = @{NSFontAttributeName: [UIFont fontWithName: @&quot;Helvetica-Bold&quot; size: 18], NSForegroundColorAttributeName: fontColor, NSParagraphStyleAttributeName: text3Style};

        [textContent drawInRect: CGRectOffset(text3Rect, 0, (CGRectGetHeight(text3Rect) - [textContent boundingRectWithSize: text3Rect.size options: NSStringDrawingUsesLineFragmentOrigin attributes: text3FontAttributes context: nil].size.height) / 2) withAttributes: text3FontAttributes];
    }

    CGContextRestoreGState(context);


    //// ç”»å‡ºâ€œ6â€
    CGContextSaveGState(context);
    CGContextTranslateCTM(context, centerPoint.x, centerPoint.y);
    CGContextScaleCTM(context, scale, scale);

    CGRect text6Rect = CGRectMake(-4, 65, 12, 17);
    {
        NSString* textContent = @&quot;6&quot;;
        NSMutableParagraphStyle* text6Style = NSMutableParagraphStyle.defaultParagraphStyle.mutableCopy;
        text6Style.alignment = NSTextAlignmentCenter;

        NSDictionary* text6FontAttributes = @{NSFontAttributeName: [UIFont fontWithName: @&quot;Helvetica-Bold&quot; size: 18], NSForegroundColorAttributeName: fontColor, NSParagraphStyleAttributeName: text6Style};

        [textContent drawInRect: CGRectOffset(text6Rect, 0, (CGRectGetHeight(text6Rect) - [textContent boundingRectWithSize: text6Rect.size options: NSStringDrawingUsesLineFragmentOrigin attributes: text6FontAttributes context: nil].size.height) / 2) withAttributes: text6FontAttributes];
    }

    CGContextRestoreGState(context);


    //// ç”»å‡ºâ€œ9â€
    CGContextSaveGState(context);
    CGContextTranslateCTM(context, centerPoint.x, centerPoint.y);
    CGContextScaleCTM(context, scale, scale);

    CGRect text9Rect = CGRectMake(-82, -8, 12, 17);
    {
        NSString* textContent = @&quot;9&quot;;
        NSMutableParagraphStyle* text9Style = NSMutableParagraphStyle.defaultParagraphStyle.mutableCopy;
        text9Style.alignment = NSTextAlignmentCenter;

        NSDictionary* text9FontAttributes = @{NSFontAttributeName: [UIFont fontWithName: @&quot;Helvetica-Bold&quot; size: 18], NSForegroundColorAttributeName: fontColor, NSParagraphStyleAttributeName: text9Style};

        [textContent drawInRect: CGRectOffset(text9Rect, 0, (CGRectGetHeight(text9Rect) - [textContent boundingRectWithSize: text9Rect.size options: NSStringDrawingUsesLineFragmentOrigin attributes: text9FontAttributes context: nil].size.height) / 2) withAttributes: text9FontAttributes];
    }

    CGContextRestoreGState(context);


    //// ç”»å‡ºè¡¨ç›˜åˆ»åº¦
    CGContextSaveGState(context);
    CGContextTranslateCTM(context, centerPoint.x, centerPoint.y);
    CGContextScaleCTM(context, scale, scale);

    UIBezierPath* markPath = UIBezierPath.bezierPath;
    [markPath moveToPoint: CGPointMake(-2, -85)];
    [markPath addLineToPoint: CGPointMake(2, -85)];
    [markPath addLineToPoint: CGPointMake(2, -93)];
    [markPath addLineToPoint: CGPointMake(-2, -93)];
    [markPath addLineToPoint: CGPointMake(-2, -85)];
    [markPath closePath];
    [markPath moveToPoint: CGPointMake(-1, 93)];
    [markPath addLineToPoint: CGPointMake(3, 93)];
    [markPath addLineToPoint: CGPointMake(3, 85)];
    [markPath addLineToPoint: CGPointMake(-1, 85)];
    [markPath addLineToPoint: CGPointMake(-1, 93)];
    [markPath closePath];
    [markPath moveToPoint: CGPointMake(-45, -72.15)];
    [markPath addLineToPoint: CGPointMake(-41.54, -74.15)];
    [markPath addLineToPoint: CGPointMake(-45.54, -81.08)];
    [markPath addLineToPoint: CGPointMake(-49, -79.08)];
    [markPath addLineToPoint: CGPointMake(-45, -72.15)];
    [markPath closePath];
    [markPath moveToPoint: CGPointMake(44.87, 81.5)];
    [markPath addLineToPoint: CGPointMake(48.33, 79.5)];
    [markPath addLineToPoint: CGPointMake(44.33, 72.57)];
    [markPath addLineToPoint: CGPointMake(40.87, 74.57)];
    [markPath addLineToPoint: CGPointMake(44.87, 81.5)];
    [markPath closePath];
    [markPath moveToPoint: CGPointMake(-75.07, -40)];
    [markPath addLineToPoint: CGPointMake(-73.07, -43.46)];
    [markPath addLineToPoint: CGPointMake(-80, -47.46)];
    [markPath addLineToPoint: CGPointMake(-82, -44)];
    [markPath addLineToPoint: CGPointMake(-75.07, -40)];
    [markPath closePath];
    [markPath moveToPoint: CGPointMake(79.58, 48.13)];
    [markPath addLineToPoint: CGPointMake(81.58, 44.67)];
    [markPath addLineToPoint: CGPointMake(74.65, 40.67)];
    [markPath addLineToPoint: CGPointMake(72.65, 44.13)];
    [markPath addLineToPoint: CGPointMake(79.58, 48.13)];
    [markPath closePath];
    [markPath moveToPoint: CGPointMake(-85, 2)];
    [markPath addLineToPoint: CGPointMake(-85, -2)];
    [markPath addLineToPoint: CGPointMake(-93, -2)];
    [markPath addLineToPoint: CGPointMake(-93, 2)];
    [markPath addLineToPoint: CGPointMake(-85, 2)];
    [markPath closePath];
    [markPath moveToPoint: CGPointMake(93, 1)];
    [markPath addLineToPoint: CGPointMake(93, -3)];
    [markPath addLineToPoint: CGPointMake(85, -3)];
    [markPath addLineToPoint: CGPointMake(85, 1)];
    [markPath addLineToPoint: CGPointMake(93, 1)];
    [markPath closePath];
    [markPath moveToPoint: CGPointMake(-72.57, 44)];
    [markPath addLineToPoint: CGPointMake(-74.57, 40.54)];
    [markPath addLineToPoint: CGPointMake(-81.5, 44.54)];
    [markPath addLineToPoint: CGPointMake(-79.5, 48)];
    [markPath addLineToPoint: CGPointMake(-72.57, 44)];
    [markPath closePath];
    [markPath moveToPoint: CGPointMake(81.08, -45.87)];
    [markPath addLineToPoint: CGPointMake(79.08, -49.33)];
    [markPath addLineToPoint: CGPointMake(72.15, -45.33)];
    [markPath addLineToPoint: CGPointMake(74.15, -41.87)];
    [markPath addLineToPoint: CGPointMake(81.08, -45.87)];
    [markPath closePath];
    [markPath moveToPoint: CGPointMake(-39.67, 75.07)];
    [markPath addLineToPoint: CGPointMake(-43.13, 73.07)];
    [markPath addLineToPoint: CGPointMake(-47.13, 80)];
    [markPath addLineToPoint: CGPointMake(-43.67, 82)];
    [markPath addLineToPoint: CGPointMake(-39.67, 75.07)];
    [markPath closePath];
    [markPath moveToPoint: CGPointMake(48.46, -79.58)];
    [markPath addLineToPoint: CGPointMake(45, -81.58)];
    [markPath addLineToPoint: CGPointMake(41, -74.65)];
    [markPath addLineToPoint: CGPointMake(44.46, -72.65)];
    [markPath addLineToPoint: CGPointMake(48.46, -79.58)];
    [markPath closePath];
    [markColor setFill];
    [markPath fill];

    CGContextRestoreGState(context);
}

@end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;xcode6.1 SDK8.1æµ‹è¯•æ²¡é—®é¢˜ï¼&lt;/p&gt;

&lt;p&gt;ä»£ç ä¸­å·²ç»æœ‰æ— æ¯”è¯¦ç»†çš„æ³¨é‡Šï¼Œè€Œä¸”è¯¥æ§ä»¶ç®€å•åœ°ä»¤äººå‘æŒ‡~ æˆ‘ç›¸ä¿¡ä½ çœ‹çš„æ‡‚å¾—ï¼&lt;/p&gt;

&lt;p&gt;æˆ‘æƒ³è‚¯å®šæœ‰åŒå­¦å·²ç»æ’ç€é˜Ÿï¼Œå‡†å¤‡å¥½äº†æ¿ç –ï¼Œé¸¡è›‹ä»€ä¹ˆçš„ï¼Œâ€œåšä¸»ï¼ä½ å¦¹ï¼è¯´å¥½çš„æ— æ¯”è¿…é€Ÿæ•æ·åœ°å¼€å‘iOSè¶…ç²¾ç¾æ§ä»¶ å“ªé‡Œè¿…é€Ÿå“ªé‡Œæ•æ·ï¼Ÿè¯´å¥½çš„å¥‡æ·«å·§æŠ€å‘¢ï¼Ÿâ€&lt;/p&gt;

&lt;p&gt;éƒ½è¯´å¿ƒæ€¥åƒä¸äº†çƒ­è±†è…ï¼Œæˆ‘æœ‰è¯´æ–‡ç« ç»“æŸäº†ä¹ˆï¼Ÿæ–‡ç« åªæ˜¯å‡ºè½¨è€Œå·²äº†â€¦â€¦&lt;/p&gt;

&lt;h2 id=&quot;paintcode&quot;&gt;PaintCode&lt;/h2&gt;

&lt;p&gt;ä»£ç æ˜¯å†™å‡ºæ¥äº†ï¼Œ ä½†æ˜¯åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;-(void)drawRect:(CGRect)rect&lt;/code&gt;æ–¹æ³•ä¸­ä¸€ç¬”ä¸€ç¬”çš„å‹¾ç”»å‡ºæ¥ï¼Œç¡®å®æ˜¯ç´¯äºº~&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥æˆ‘è¦ç¥­å‡ºè¿™æ¬¡æ–‡ç« çš„çº¯24KçœŸå¤§æ€å™¨â€”â€”PaintCode&lt;/p&gt;

&lt;p&gt;å›¾3&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-29-pic3.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ä¸ºä½•è¦ç§°PaintCodeä¸ºç»ˆæå¤§æ€å™¨ï¼Ÿå› ä¸ºå®ƒçœŸçš„å¾ˆå‡¶ï¼å¦‚æœè¯´æˆ‘ä»¬åˆšåˆšçš„é¡¹ç›®éœ€è¦èŠ±2~3ä¸ªå°æ—¶æ‰èƒ½å®Œæˆ è€Œæœ‰äº†PaintCodeä¹‹åæˆ‘ä»¬åªéœ€è¦10~20åˆ†é’Ÿï¼ï¼ï¼å°±é—®ä½ æ€•ä¸æ€•ï¼ï¼ï¼&lt;/p&gt;

&lt;p&gt;å”®ä»·$99çš„PaintCodeç”¨èµ·æ¥å°±æ˜¯çˆ½ï¼&lt;/p&gt;

&lt;p&gt;æˆ‘çªç„¶æƒ³èµ·è‡ªå·±çš„ä¸€ä¸ªæ•…äº‹ï¼Œæœ‰ä¸€å¹´ä¸Šå¤§å­¦ï¼Œçˆ¶äº²åˆ°è½¦ç«™æ¥é€æˆ‘ï¼Œä¸´ä¸Šè½¦å‰ï¼Œçˆ¶äº²å®å˜±æˆ‘ç­‰ä»–ä¸€ä¼šå„¿ä»–è¦è¿‡é“é“å¯¹é¢è¦ç»™æˆ‘ä¹°ç‚¹ä¸œè¥¿ï¼Œè¯´æˆ‘ä¸€ä¸ªäººè¿‡æ—¥å­ä¼šå¾ˆè‰°éš¾ï¼Œæˆ‘çœ‹è§ä»–æˆ´ç€é»‘å¸ƒå°å¸½ï¼Œç©¿ç€é»‘å¸ƒå¤§é©¬è¤‚ï¼Œæ·±é’å¸ƒæ£‰è¢ï¼Œè¹’è·šåœ°èµ°åˆ°é“é“è¾¹ï¼Œæ…¢æ…¢æ¢èº«ä¸‹å»ï¼Œå°šä¸å¤§éš¾ã€‚å¯æ˜¯ä»–ç©¿è¿‡é“é“ï¼Œè¦çˆ¬ä¸Šé‚£è¾¹æœˆå°ï¼Œå°±ä¸å®¹æ˜“äº†ã€‚ä»–ç”¨ä¸¤æ‰‹æ”€ç€ä¸Šé¢ï¼Œä¸¤è„šå†å‘ä¸Šç¼©ï¼›ä»–è‚¥èƒ–çš„èº«å­å‘å·¦å¾®å€¾ï¼Œæ˜¾å‡ºåŠªåŠ›çš„æ ·å­ã€‚è¿™æ—¶æˆ‘çœ‹è§ä»–çš„èƒŒå½±ï¼Œæˆ‘çš„æ³ªå¾ˆå¿«åœ°æµä¸‹æ¥äº†ã€‚æˆ‘èµ¶ç´§æ‹­å¹²äº†æ³ªã€‚æ€•ä»–çœ‹è§ï¼Œä¹Ÿæ€•åˆ«äººçœ‹è§ã€‚æˆ‘å†å‘å¤–çœ‹æ—¶ï¼Œä»–å·²æŠ±äº†ä¸€ä¸ªé»‘å¡‘æ–™è¢‹å­å¾€å›èµ°äº†ã€‚è¿‡é“é“æ—¶ï¼Œä»–å…ˆå°†å¡‘æ–™è¢‹æ•£æ”¾åœ¨åœ°ä¸Šï¼Œè‡ªå·±æ…¢æ…¢çˆ¬ä¸‹ï¼Œå†æŠ±èµ·å¡‘æ–™è¢‹èµ°ã€‚åˆ°è¿™è¾¹æ—¶ï¼Œæˆ‘èµ¶ç´§å»æ€ä»–ã€‚ä»–å’Œæˆ‘èµ°åˆ°è½¦ä¸Šï¼Œå°†å¡‘æ–™è¢‹ä¸€è‚¡è„‘å„¿æ”¾åœ¨æˆ‘çš„çš®å¤§è¡£ä¸Šï¼šâ€œæœ€æ–°çš„å…¨æ˜¯å¤–å›½çš„åŠ¨ä½œç‰‡ã€æ¸¸æˆã€éŸ³ä¹å…‰ç›˜ï¼Œå¥½å¥½ç…§é¡¾è‡ªå·±â€ï¼Œæƒ³èµ·è€çˆ¶äº²å¾®è–„çš„é€€ä¼‘é‡‘ï¼Œæˆ‘å°±æœ‰ç‚¹æ°”æ„¤ï¼šâ€œçˆ¸ï¼Œä½ æ€ä¹ˆâ€¦â€¦â€ï¼Œçˆ¶äº²èµ¶å¿™å‡‘åˆ°æˆ‘çš„è€³è¾¹ï¼šâ€œDç‰ˆçš„ï¼Œå…«å›½è”å†›å½“å¹´æŠ¢å¾—é’±æ˜¯è¯¥è¦å›æ¥çš„â€ï¼Œæˆ‘ï¼šâ€œâ€¦â€¦â€&lt;/p&gt;

&lt;p&gt;å¥½äº†æˆ‘çš„æ•…äº‹è®²å®Œäº† ä½ ä»¬åº”è¯¥çŸ¥é“æ€ä¹ˆæ‰¾PaintCodeäº†é¢&lt;/p&gt;

&lt;p&gt;æˆ‘ä¹ˆå¼€å§‹PaintCodeä¹‹æ—…å§&lt;/p&gt;

&lt;p&gt;æ‰“å¼€Paint&lt;/p&gt;

&lt;p&gt;å›¾4&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-29-pic4.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å°±åƒPSä¸€æ ·åªè¦ä½ ç”»çš„å‡ºï¼Œå°±èƒ½ç”Ÿæˆä»£ç ï¼ˆæ”¯æŒswiftå“¦ï¼‰&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å°±è¯•è¯•ç”»å‡ºDDClockæ¥å§&lt;/p&gt;

&lt;p&gt;é€‰ä¸­Oval&lt;/p&gt;

&lt;p&gt;å›¾5&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-29-pic5.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æŒ‰ä½shifté”®æ‹–å‡ºä¸€ä¸ªè§„åˆ™çš„åœ†å½¢ ï¼Œå¡«å……é¢œè‰²ï¼Œè¿™ä¸ªå°±æ˜¯ä»£ç ä¸­çš„rimPath&lt;/p&gt;

&lt;p&gt;å›¾6&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-29-pic6.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å†æ¬¡é€‰ä¸­Ovalï¼ŒåŒæ ·çš„æ–¹æ³•åœ¨æ‹–ä¸€ä¸ªåœ†å‡ºæ¥ï¼Œ&lt;/p&gt;

&lt;p&gt;å›¾7&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-29-pic7.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªå°±æ˜¯ä»£ç ä¸­çš„facePathã€‚&lt;/p&gt;

&lt;p&gt;åœ¨PaintCodeä¸­å°½é‡å°†æ‰€æœ‰çš„å›¾å½¢ã€é¢œè‰²éƒ½è‡ªå·±å–ä¸€ä¸ªåå­—ï¼Œæ¯”å¦‚æˆ‘æŠŠç¬¬ä¸€ä¸ªOvalå–åå­—rimï¼Œç¬¬äºŒä¸ªOvalå–åå­—face&lt;/p&gt;

&lt;p&gt;è¿™æ ·è¡¨ç›˜çš„è¾¹æ¡†å’Œä¸­é—´éƒ½å‡ºæ¥äº†é¢ï¼Œæ¥ä¸‹æ¥å°±æ˜¯è¡¨ç›˜çš„åˆ»åº¦äº†&lt;/p&gt;

&lt;p&gt;é€‰ä¸­rect&lt;/p&gt;

&lt;p&gt;å›¾8&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-29-pic8.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æ‹–å‡ºå…¶ä¸­çš„ä¸€ä¸ªå°åˆ»åº¦&lt;/p&gt;

&lt;p&gt;å›¾9&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-29-pic9.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ç„¶åé€‰ä¸­è¿™ä¸ªå°åˆ»åº¦å¤åˆ¶å‡ºå¦ä¸€ä¸ªå°åˆ»åº¦ï¼Œæ”¾åˆ°ç¬¬ä¸€ä¸ªåˆ»åº¦çš„å¯¹é¢ï¼Œå°±åƒè¿™æ ·&lt;/p&gt;

&lt;p&gt;å›¾10&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-29-pic10.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ç„¶åæŒ‰ä½shifté”® åŒæ—¶é€‰ä¸­è¿™ä¸¤ä¸ªå°åˆ»åº¦ï¼Œç‚¹å‡»å·¥å…·æ çš„Union&lt;/p&gt;

&lt;p&gt;å›¾11&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-29-pic11.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è¿™æ ·ä¸¤ä¸ªå°åˆ»åº¦å°±æˆä¸ºäº†ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ—¶ç‚¹å‡»å³ä¾§çš„Transformsï¼Œå°±ä¼šå‡ºç°æ—‹è½¬å›¾å½¢çš„æ“ä½œï¼ŒæŠŠæ—‹è½¬ä¸­å¿ƒï¼ˆå›¾12ä¸­ç»¿è‰²çš„ç„å‡†æ˜Ÿï¼‰æ‹–åˆ°é’Ÿè¡¨çš„ä¸­å¿ƒä½ç½®&lt;/p&gt;

&lt;p&gt;å›¾12&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-29-pic12.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è¿™æ ·è®¾ç½®Rotationçš„å‚æ•°å°±å¯ä»¥å›´ç»•æ•´ä¸ªé’Ÿè¡¨æ—‹è½¬è¿™ä¸ªåˆ»åº¦äº†ï¼Œæ‰€ä»¥é©¬ä¸ŠåŒæ—¶å¤åˆ¶è¿™ä¸ªåˆ»åº¦5ä»½ï¼Œåˆ†åˆ«æ“ä½œæ—‹è½¬ï¼Œè®©å®ƒä»¬åˆ†åˆ«æ—‹è½¬30ã€60ã€90ã€120ã€150è¿™æ ·æ‰€æœ‰çš„åˆ»åº¦éƒ½å‡ºæ¥äº†ï¼Œç„¶åå†ä¸€æ¬¡æ€§çš„é€‰ä¸­æ‰€æœ‰åˆ»åº¦Unionä¸€æ¬¡ï¼ŒæŠŠæ‰€æœ‰åˆ»åº¦åˆå¹¶æˆä¸€ä¸ªå›¾å½¢ã€‚&lt;/p&gt;

&lt;p&gt;å›¾13&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-29-pic13.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æ¥ä¸‹æ¥å°±é€‰ä¸­Textå·¥å…·&lt;/p&gt;

&lt;p&gt;å›¾14&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-29-pic14.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;é€‰ä¸­æ°å½“çš„å­—ä½“å’Œå¤§å°ï¼Œç”»å‡ºåˆ»åº¦å€¼å’Œä¸Šä¸‹åˆæç¤ºçš„AM/PM&lt;/p&gt;

&lt;p&gt;å›¾15&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-29-pic15.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æœ€åæ˜¯æ—¶é’ˆã€åˆ†é’ˆå’Œç§’é’ˆäº†ï¼Œåšæ³•æ˜¯é›·åŒçš„ï¼Œèªæ˜çš„ä½ è‚¯å®šçŸ¥é“è¯¥æ€ä¹ˆåšäº†ï¼Œåæ­£å°±æ˜¯ä½¿ç”¨è§„åˆ™å›¾å½¢ï¼Œé€šè¿‡Unionã€Intersectionã€Differenceçš„æ“ä½œäº§ç”Ÿä¸è§„åˆ™çš„å›¾å½¢&lt;/p&gt;

&lt;p&gt;å›¾16&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-29-pic16.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å›¾17&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-29-pic17.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å›¾18&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-29-pic18.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æœ€åçœ‹æˆ‘çš„é¡¹ç›®å¤§ä½“æƒ…å†µï¼›&lt;/p&gt;

&lt;p&gt;åˆ°äº†è¿™ä¸€æ­¥å…¶å®å°±å¯ä»¥ç›´æ¥å¤åˆ¶ä»£ç èµ°äººå°±OKæ‹‰&lt;/p&gt;

&lt;p&gt;ç„¶åç¨å¾®å†™å†™é¡¹ç›®çš„é€»è¾‘ä»£ç ï¼Œæµ‹è¯•ï¼ŒOKå•¦ï¼Œæ˜¯ä¸æ˜¯æŠŠ2ã€3ä¸ªå°æ—¶çš„äº‹æƒ…10åˆ†é’Ÿå®Œæˆäº†ï¼Ÿå“ˆå“ˆå“ˆ&lt;/p&gt;

&lt;p&gt;å…¶å®PaintCodeçš„å¼ºå¤§è¿œä¸æ­¢äºæ­¤ï¼Œé‡Œé¢çš„Variablesçš„åŠŸèƒ½ï¼Œå¯ä»¥å°†å›¾å½¢ä¸­çš„æŸä¸ªå€¼è®¾ç½®æˆå˜é‡ï¼Œæ¯”å¦‚ä»£ç ä¸­çš„hourAngleã€ minuteAngle ã€ secondAngle ç­‰ï¼ŒDDClockç›®å‰çš„å¤§å°çš„æ˜¯å›ºå®šçš„200x200ï¼Œå…¶å®ä½¿ç”¨Variablesæ·»åŠ scaleçš„å˜é‡ï¼Œè¿˜å¯ä»¥åŠ¨æ€çš„ä¿®æ”¹æ‰€æœ‰å›¾å½¢çš„å¤§å°ï¼å½“ç„¶è¿˜æœ‰Frameçš„ä½¿ç”¨å•¦â€¦â€¦&lt;/p&gt;

&lt;h2 id=&quot;åè®°&quot;&gt;åè®°&lt;/h2&gt;

&lt;p&gt;å¯¹äºPaintCodeåšä¸»ä¹Ÿåªæ˜¯æµ…å°è€Œæ­¢ï¼Œæ›´å¤šå¼ºå¤§çš„åŠŸèƒ½ï¼ŒåŒå­¦ä»¬è¿˜æ˜¯è‡ªå·±æŒ–æ˜å§ã€‚&lt;/p&gt;

&lt;p&gt;è¿™é‡Œé™„ä¸Šå®˜ç½‘çš„&lt;a href=&quot;http://www.paintcodeapp.com/&quot; target=&quot;_blank&quot;&gt;åœ°å€&lt;/a&gt;ï¼ŒPaintCode é‡Œé¢æœ‰è§†é¢‘æ•™ç¨‹ï¼Œæ–‡æ¡£ç­‰ï¼ˆè§†é¢‘æ˜¯æ²¹ç®¡ç½‘çš„ï¼Œæ‰€ä»¥éœ€è¦çˆ¬æ¢¯å­ï¼Œå‘µå‘µï¼Œä½ æ‡‚çš„ï¼‰&lt;/p&gt;

&lt;p&gt;è¿™é‡Œä¹Ÿé™„ä¸Šæˆ‘å†™çš„é¡¹ç›®æºä»£ç  &lt;a href=&quot;https://github.com/daiweilai/DDClock&quot; target=&quot;_blank&quot;&gt;DDClock&lt;/a&gt;ï¼ˆå°¼ç›ï¼githubä½¿ç”¨ä»£ç†æ¯”ç›´æ¥è®¿é—®æ›´å¿«ï¼Œä½ èƒ½å¿ï¼Ÿï¼‰&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªç¤¼æ‹œï¼Œå®Œæˆäº†æ¯•è®¾çš„ä¸»é¢˜å’Œä¸€äº›ç»†èŠ‚ï¼Œå¤§æ¦‚æ˜¯è®¾è®¡ä¸€å¥—ç§»åŠ¨å®¢æˆ·ç«¯å’Œåå°æœåŠ¡å™¨å®‰å…¨äº¤äº’çš„æ–¹æ¡ˆï¼Œæ¶‰åŠåˆ°å„ç§å®‰å…¨é€šä¿¡ï¼Œå¯é æ€§ä¼ è¾“ï¼Œå†…å®¹åŠ è§£å¯†ç­‰å†…å®¹ï¼Œæˆ‘ä¼šæŠŠè¿™ä¸ªè®¾æƒ³å†™åˆ°åšå®¢ä¸Šçš„ï¼›&lt;/p&gt;

&lt;p&gt;å¥³æœ‹å‹å›è€å®¶äº†ï¼Œå‰©ä¸‹è‡ªå·±ä¸€ä¸ªäººæ’¸å•Šæ’¸T_T;&lt;/p&gt;

&lt;p&gt;å¤©æ€çš„12306ä¹°äº†ä¸¤å¤©éƒ½æ²¡ä¹°åˆ°å›å®¶çš„ç¥¨ï¼Œæ˜æ˜ä¹°ä¸åˆ°ç¥¨ï¼Œå´è¿˜è¦å†™ç€æœ‰ä½™ç¥¨ï¼Œå“ï¼Œæœ€åæˆ‘å†³å®šåå¤´ç­‰èˆ±å›å®¶äº†~&lt;/p&gt;
</description>
        <pubDate>Thu, 29 Jan 2015 20:00:00 +0800</pubDate>
        <link>http://localhost:4000/2015/01/29/%E6%97%A0%E6%AF%94%E8%BF%85%E9%80%9F%E6%95%8F%E6%8D%B7%E5%9C%B0%E5%BC%80%E5%8F%91iOS%E8%B6%85%E7%B2%BE%E7%BE%8E%E6%8E%A7%E4%BB%B6/</link>
        <guid isPermaLink="true">http://localhost:4000/2015/01/29/%E6%97%A0%E6%AF%94%E8%BF%85%E9%80%9F%E6%95%8F%E6%8D%B7%E5%9C%B0%E5%BC%80%E5%8F%91iOS%E8%B6%85%E7%B2%BE%E7%BE%8E%E6%8E%A7%E4%BB%B6/</guid>
        
        <category>å¥‡å·§é›†</category>
        
        <category>PaintCode</category>
        
        
      </item>
    
      <item>
        <title>iOSä¸­çš„é¢„ç¼–è¯‘æŒ‡ä»¤</title>
        <description>&lt;h1 id=&quot;iosä¸­çš„é¢„ç¼–è¯‘æŒ‡ä»¤çš„åˆæ­¥æ¢ç©¶&quot;&gt;iOSä¸­çš„é¢„ç¼–è¯‘æŒ‡ä»¤çš„åˆæ­¥æ¢ç©¶&lt;/h1&gt;

&lt;h2 id=&quot;å¼€ç¯‡&quot;&gt;å¼€ç¯‡&lt;/h2&gt;

&lt;p&gt;æˆ‘ä»¬äººç±»åˆ›é€ ä¸œè¥¿çš„æ—¶å€™æœ‰ä¸ªè¯å«åšâ€ä»¿ç”Ÿå­¦â€œï¼äººç±»åˆ›é€ ä»€ä¹ˆä¸œè¥¿éƒ½ä¼šæ¨¡ä»¿è‡ªå·±æ¥åˆ›é€ ï¼Œæ‰€ä»¥ä¸Šå¸æ²¡æœ‰é•¿æˆæ ‘çš„æ ·å­è€Œå’Œäººé•¿å¾—ä¸€æ ·ï¼Œç§‘å¹»ç‰‡é‡Œé¢å¤–æ˜Ÿäººä¹Ÿåƒäººä¸€æ ·æœ‰çœ¼ç›æœ‰é¼»å­â€¦â€¦ä½†æ˜¯äººç±»è‡ªå·±åˆ›é€ çš„ä¸œè¥¿å¦‚æœå¤ªåƒè‡ªå·±ï¼Œè‡ªå·±åˆä¼šå“å°¿(ææ€–è°·æ•ˆåº”)ï¼Œäººç±»çœŸæ˜¯å¥‡è‘©ï¼›å¥‡è‘©çš„æˆ‘ä»¬åœ¨20ä¸–çºªåˆ›é€ äº†æ”¹å˜ä¸–ç•Œçš„ä¸œè¥¿â€”â€”è®¡ç®—æœº(ç”µè„‘)ï¼Œä¸ç”¨æ€€ç–‘ï¼Œè¿™è´§å½“ç„¶ä¹Ÿæ˜¯ä»¿ç”Ÿå­¦ï¼è¿™è´§å“ªé‡Œé•¿å¾—åƒäººäº†ï¼Ÿï¼Ÿåˆ«ä¸æœï¼Œå…ˆå¬æˆ‘è¯´å®Œï¼Œå…ˆæŠŠä½ çš„ç –å¤´æ”¾ä¸‹ã€‚ç‹­ä¹‰çš„ä»¿ç”Ÿå­¦æ˜¯å¤–å½¢ä¸Šä»¿ç”Ÿå˜›ï¼Œå…¶å®å¹¿ä¹‰ä¸Šä»¿ç”Ÿå­¦è¿˜å¯ä»¥åŸç†çš„ä»¿ç”Ÿï¼Œæ„é€ çš„ä»¿ç”Ÿï¼Œæ€§èƒ½çš„ä»¿ç”Ÿé˜¿æ‹‰å·´æ‹‰â€¦â€¦ï¼Œè®¡ç®—æœº(è¿™é‡Œæˆ‘ç‹­ä¹‰çš„ä½¿ç”¨ä¸ªäººPCæ¥ä¸¾ä¾‹)æˆ‘ä»¬å¸¸è¯´çš„æœ‰è¾“å…¥è®¾å¤‡(é”®ç›˜å‘€é¼ æ ‡å‘€æ‘„åƒå¤´å‘€â€¦â€¦)ã€å¤„ç†è®¾å¤‡(CPUã€GPUâ€¦â€¦)å’Œè¾“å‡ºè®¾å¤‡(æ˜¾ç¤ºå™¨ã€éŸ³å“â€¦â€¦);ç„¶åä½ è‡ªä¸ªå„¿ç…ç…ä½ è‡ªå·±çš„çœ¼ç›è€³æœµ(è¾“å…¥),å¤§è„‘(å¤„ç†),å››è‚¢(è¾“å‡º)Â å½“åˆè®¾è®¡ç”µè„‘å¿…é¡»è¦è¿™ç§æ„é€ çš„äººéš¾é“ä¸æ˜¯ç…ç€è‡ªå·±æ¥è®¾è®¡è®¡ç®—æœºçš„ä¹ˆï¼Ÿ^_^&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥ä¸Šè®¡ç®—æœºç»„æˆåŸç†çš„æ—¶å€™æœ‰ä»€ä¹ˆåœ°æ–¹æ™¦æ¶©éš¾ä»¥ç†è§£çš„æ—¶å€™ï¼Œæˆ‘å°±ç«‹åˆ»è§£ç¦æˆ‘é«˜ä¸­çš„ç”Ÿç‰©çŸ¥è¯†ï¼Œç„¶åå°±è¿åˆƒè€Œè§£äº†~ä½†æ˜¯ä»Šå¤©æˆ‘è¿™ç¯‡åšå®¢æ˜¯è¦è®²ç¨‹åºçš„å‘€ï¼Œè¿™æŠŠçŠŠå­æ‰¯çš„é‚£ä¹ˆè¿œçœ‹å®¢ä»¬ä¹Ÿéš¾å…å¿ƒæœ‰æ„¤æ‡‘ï¼Œä½ åˆ‡å‹¿æ€¥èºï¼Œæˆ‘é©¬ä¸Šå°±å¸¦ä½ ä»¬é£ï¼è·Ÿç€æˆ‘ç”¨ä»¿ç”Ÿå­¦çš„è§’åº¦å»ç†è§£è®¡ç®—æœºï¼Œé‚£ä¹ˆè®¡ç®—æœºç¨‹åºæ˜¯ç¥é©¬å‘¢ï¼Ÿæ•™ç§‘ä¹¦ä¸Šæ€ä¹ˆè¯´ï¼Ÿå¯ä»¥è¢«è®¡ç®—æœºæ‰§è¡Œï¼Œé‚£ç¥é©¬ä¸œè¥¿ä¼šè¢«äººæ‰§è¡Œçš„å‘¢ï¼Ÿè€å©†çš„å‘½ä»¤ã€è€çˆ¸çš„å‘µæ–¥ã€é¡¹ç›®ç»ç†çš„éœ€æ±‚å˜æ›´â€¦â€¦æˆ‘ä»¬éƒ½ä¼šæ‰§è¡Œï¼Œè²Œä¼¼è¿™å°±æ˜¯äººçš„ç¨‹åºäº†ï¼Œè¿™ç¡®å®å°±æ˜¯äººçš„ç¨‹åºï¼ä¸‹é¢æˆ‘å…·ä½“æ‹¿è€å©†çš„å‘½ä»¤æ¥è¯¦è§£ä¸€ä¸‹äººå¾—ç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹ï¼›æ¯”å¦‚è€å©†è¯´äº†ä¸€å¥â€ä½ ç»™æˆ‘æ»šå‡ºå»ç¡æ²™å‘ï¼â€œï¼Œé¦–å…ˆè¿™å¥è¯çš„å¤„ç†æµç¨‹æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;

&lt;p&gt;&lt;em&gt;å›¾1&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-20-pic1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¸¦ä½ ä»¬çœ‹è®¡ç®—æœºç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¹‹å‰ï¼Œæˆ‘ä»¬è¦ä¸¥è‚ƒçš„äº†è§£ä¸€ç‚¹ç¨‹åºçš„ç¼–è¯‘ï¼Œä¹Ÿå°±æ˜¯ä¸Šå›¾ä¸­çš„ï¼Œæˆ‘ä»¬æŠŠè€å©†çš„å‘½ä»¤è½¬æ¢æˆç”µä¿¡å·çš„è¿‡ç¨‹ã€‚åœ¨è®¡ç®—æœºä¸–ç•Œä¸­æœ‰äº›å¥½äº‹è€…æŠŠè¿™ä¸ªç©æ„å„¿ç§°ä½œç¼–è¯‘å™¨(compiler)ï¼Œä»€ä¹ˆgccå‘€clangå‘€é˜¿æ‹‰å·´æ‹‰ï¼Œè¯´çš„ç¼–è¯‘å™¨è¿™åå­—é€¼æ ¼å¥½é«˜~å…¶å®è¯´ç™½äº†å°±æ˜¯ä¸ªç¿»è¯‘çš„ä¸œè¥¿ï¼Œå¦‚æˆ‘ä»¬äººæ‰§è¡Œç¨‹åºè¿‡ç¨‹ä¸­ï¼ŒæŠŠè€å©†çš„è¯(ä¹Ÿæ˜¯äººç±»çš„è¯)ç¿»è¯‘æˆå¤§è„‘æ‡‚çš„è¯(ç”µæ³¢)ï¼Œåœ¨è®¡ç®—æœºä¸­å°±æ˜¯æŠŠå„ç§ç¼–ç¨‹è¯­è¨€(cã€c++ã€ocâ€¦â€¦)ç¿»è¯‘æˆ0101011â€¦â€¦è®©è®¡ç®—æœºæ‡‚ã€‚ç¼–è¯‘å™¨çš„å·¥ä½œåŸç†åŸºæœ¬ä¸Šéƒ½æ˜¯ä¸‰æ®µå¼çš„ï¼Œå¯ä»¥åˆ†ä¸ºå‰ç«¯ï¼ˆFrontendï¼‰ã€ä¼˜åŒ–å™¨ï¼ˆOptimizerï¼‰ã€åç«¯ï¼ˆBackendï¼‰ã€‚å‰ç«¯è´Ÿè´£è§£ææºä»£ç ï¼Œæ£€æŸ¥è¯­æ³•é”™è¯¯ï¼Œå¹¶å°†å…¶ç¿»è¯‘ä¸ºæŠ½è±¡çš„è¯­æ³•æ ‘ï¼ˆAbstract Syntax Treeï¼‰ã€‚ä¼˜åŒ–å™¨å¯¹è¿™ä¸€ä¸­é—´ä»£ç è¿›è¡Œä¼˜åŒ–ï¼Œè¯•å›¾ä½¿ä»£ç æ›´é«˜æ•ˆã€‚åç«¯åˆ™è´Ÿè´£å°†ä¼˜åŒ–å™¨ä¼˜åŒ–åçš„ä¸­é—´ä»£ç è½¬æ¢ä¸ºç›®æ ‡æœºå™¨çš„ä»£ç ï¼Œè¿™ä¸€è¿‡ç¨‹åç«¯ä¼šæœ€å¤§åŒ–çš„åˆ©ç”¨ç›®æ ‡æœºå™¨çš„ç‰¹æ®ŠæŒ‡ä»¤ï¼Œä»¥æé«˜ä»£ç çš„æ€§èƒ½ã€‚&lt;/p&gt;

&lt;p&gt;&lt;em&gt;å›¾2&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-20-pic2.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ä¸ºä»€ä¹ˆè¦å¼„æˆè¿™ä¸‰æ®µå¼çš„å‘¢ï¼Ÿæˆ‘è‚¯å®šä¸ä¼šä»ä»€ä¹ˆæ¡†æ¶ã€ç»“æ„å•Šä¼˜åŒ–â€¦â€¦è§’åº¦è¯´èµ·ï¼Œå› ä¸ºæˆ‘ä¹Ÿä¸æ‡‚å‘€ï¼Œå“ˆå“ˆ ä¸è¿‡æˆ‘å¯ä»¥è®²ä¸€ä¸ªè¿‡å»çš„æ•…äº‹ç»™å¤§å®¶ï¼Œå¤§å®¶è¯•æƒ³ä¸€ä¸‹ç¼–è¯‘å™¨æ˜¯æ€ä¹ˆå¼€å‘å‡ºæ¥çš„å‘€ï¼Œå¥½å®¶ä¼™ï¼Œä¸Šç½‘ä¸€æœLLVMç¼–è¯‘å™¨æ˜¯C++å†™çš„ï¼Œé‚£c++çš„ç¼–è¯‘å™¨å‘¢ï¼Ÿå…¶å®ä¸ç”¨é‚£ä¹ˆéº»çƒ¦ï¼Œç°åœ¨æŠŠä½ çš„æ‰‹å€Ÿç»™æˆ‘ï¼Œè®©æˆ‘ç‰µç€ä½ å›åˆ°ä¸Šä¸ªä¸–çºª70å¹´ä»£ï¼Œé‡Œå¥‡æ­£åœ¨ä¸ºä»–æ–°å‘æ˜çš„Cè¯­è¨€åœ¨å†™ç¼–è¯‘å™¨å‘¢ï¼Œä»–åœ¨ç”¨æ±‡ç¼–è¯­è¨€ï¼æ±‡ç¼–è¯­è¨€æ€ä¹ˆç¼–è¯‘å˜æˆäºŒè¿›åˆ¶æµå‘¢ï¼Ÿç­”æ¡ˆæ˜¯ä½¿ç”¨01011æœºå™¨ç ç¼–å†™çš„ç¼–è¯‘å™¨ï¼›æ‰€ä»¥ç¼–è¯‘å™¨å’Œè®¡ç®—æœºè¯­è¨€çš„è¿›æ­¥å°±åƒè¿™æ ·è¿­ä»£å‘å±•çš„ï¼Œå†ä¹‹åæ˜¯ç”¨é«˜çº§è¯­è¨€å†™æ›´é«˜çº§çš„ç¼–è¯‘å™¨ï¼Œé«˜çº§çš„ç¼–è¯‘å™¨èƒ½ç¼–è¯‘æ›´é«˜çº§çš„è®¡ç®—æœºè¯­è¨€â€¦â€¦ï¼Œè™½ç„¶è“ç¿”çš„æŒ–æ˜æœºæŠ€æœ¯å¼ºï¼Œä½†é—®é¢˜è¿˜æ˜¯æ¥äº†ï¼Œä¸–ç•Œä¸Šè®¡ç®—æœºé‚£ä¹ˆå¤šï¼Œå„ç§ä¸åŒçš„æ¶æ„ï¼Œäººè¿˜å¥½åŸºæœ¬æ¶æ„éƒ½ä¸€æ ·ï¼Œä½†æ˜¯è®¡ç®—æœºæœ‰Intelæ¶æ„çš„åˆæœ‰ARMæ¶æ„ï¼Œæ€ä¹ˆèƒ½è®©ç¼–ç¨‹è¯­è¨€é€šè¿‡ç¼–è¯‘åˆ†åˆ«äº§ç”Ÿä¸åŒæ¶æ„çš„æ‰§è¡Œç å‘¢ï¼Ÿæ‰€ä»¥è¿™å°±æ˜¯ç¼–è¯‘å™¨ä¸‰æ®µå¼è¿™ç§æ¨¡å‹çš„å¥½å¤„äº†ï¼Œå½“æˆ‘ä»¬è¦æ”¯æŒå¤šç§è¯­è¨€æ—¶ï¼Œåªéœ€è¦æ·»åŠ å¤šä¸ªå‰ç«¯å°±å¯ä»¥äº†ã€‚å½“éœ€è¦æ”¯æŒå¤šç§ç›®æ ‡æœºå™¨æ—¶ï¼Œåªéœ€è¦æ·»åŠ å¤šä¸ªåç«¯å°±å¯ä»¥äº†ã€‚å¯¹äºä¸­é—´çš„ä¼˜åŒ–å™¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€šç”¨çš„ä¸­é—´ä»£ç ã€‚gccå¯ä»¥æ”¯æŒcã€c++ã€javaâ€¦â€¦ç­‰è¯­è¨€çš„ç¼–è¯‘ã€‚&lt;/p&gt;

&lt;p&gt;&lt;em&gt;å›¾3&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-20-pic3.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;é‚£ä¹ˆä¸€ä¸ªHelloWordçš„ç¨‹åºçš„ç¼–è¯‘å’Œæ‰§è¡Œè¿‡ç¨‹å¤§å®¶å°±æŒ‰ç…§å›¾1è‡ªè¡Œè„‘è¡¥å§&lt;/p&gt;

&lt;p&gt;è¯´äº†è¿™ä¹ˆå¤šç»ˆäºæ­£ç‰‡å¼€å§‹äº†~ åŸæ¥æˆ‘çš„å•°å—¦ï¼Œå› ä¸ºæˆ‘å°±æ˜¯å«åšè¯ç—¨æˆ´^_^ï¼Œæœ¬äººä»æ²¡æœ‰å¼€å‘è¿‡Mac osçš„åº”ç”¨æ‰€ä»¥æœ¬æ–‡ä¸»è¦ç¤ºä¾‹ä»£ç å’Œæ¡†æ¶éƒ½æ˜¯iOSä¸‹çš„ï¼Œä½†æ˜¯æ˜¯å› ä¸ºCç³»è¯­è¨€çš„é¢„ç¼–è¯‘æŒ‡ä»¤ï¼Œæ‰€ä»¥åŸºæœ¬éƒ½èƒ½é€šç”¨ã€‚è™½ç„¶è¿™ç¯‡æ–‡ç« æœ‰ä¸ªå®å¤§çš„å¼€ç«¯ï¼Œä½†æ˜¯æœ¬æ–‡ä¸»è¦å°±æ˜¯æƒ³æ¢ç©¶ä¸€ä¸‹ç¼–è¯‘è¿‡ç¨‹ä¸­çš„é¢„å¤„ç†éƒ¨åˆ†çš„éƒ¨åˆ†é¢„å¤„ç†æŒ‡ä»¤ï¼Œå¸Œæœ›æœ¬æ–‡èƒ½å¤Ÿåšåˆ°çš„å°±æ˜¯æŠ›ç –å¼•ç‰ï¼Œç»™æ¯”æˆ‘èœçš„å¹¿å¤§çŒ¿å‹æŒ‡å¼•ä¸€æ¡å­¦ä¹ çš„æ–¹å‘ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨å¾ˆä¹…å¾ˆä¹…ä»¥å‰çš„Xcodeä¸çŸ¥é“ä»€ä¹ˆç‰ˆæœ¬ï¼ŒBuild settingsé‡Œé¢è¿˜å¯ä»¥é€‰æ‹©ä¸åŒçš„ç¼–è¯‘å™¨ã€‚&lt;/p&gt;

&lt;p&gt;&lt;em&gt;å›¾4&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-20-pic4.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ä¸åŒçš„ç¼–è¯‘å™¨ï¼Œæ˜¯å¦å¯¹äºé¢„å¤„ç†æŒ‡ä»¤æœ‰å·®å¼‚ï¼Œæˆ‘ä¹Ÿæ²¡åŠæ³•è€ƒç©¶äº†ã€‚è¿˜æœ‰å…¶å®ã€å…¶å®äººå®¶æ¥è§¦iOSä¹Ÿåªæœ‰3ä¸ªæœˆï¼Œæˆ‘å¼€å‘iOSä½¿ç”¨çš„ç¬¬ä¸€ä¸ªIDEå°±æ˜¯XCode6ï¼Œå¦‚æœå‘äº†å¤§å®¶ï¼Œé‚£å°±ç´¢ç‘~~&lt;/p&gt;

&lt;p&gt;ç°åœ¨Xcode6é‡Œé¢é»˜è®¤ä½¿ç”¨äº†Apple LLVM(Low Level Virtual Machine) 6.0çš„ç¼–è¯‘å™¨&lt;/p&gt;

&lt;p&gt;&lt;em&gt;å›¾5&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-20-pic5.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å„ç§ç¼–è¯‘å™¨çš„åŒºåˆ«è¿˜æœ‰å‡ æœ¬å¯¹æ¯”çŸ¥è¯†å¯ä»¥å‚çœ‹&lt;a href=&quot;http://www.cnblogs.com/zuopeng/p/4141467.html&quot; target=&quot;_blank&quot;&gt;LLVMå’ŒGCCçš„åŒºåˆ«&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å…³äºè‹¹æœçš„å’Œgccä»¥åŠLLVMèƒŒåæ¿€æƒ…ä¸ªæ•…äº‹çœ‹ä»¥çœ‹è¿™ä¸ª&lt;a href=&quot;http://history.programmer.com.cn/9436/&quot; target=&quot;_blank&quot;&gt;ä¸‰å¥½å­¦ç”ŸChris Lattnerçš„LLVMç¼–è¯‘å·¥å…·é“¾&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;é‚£ä¹ˆæ¥ä¸‹æ¥å°±æ˜¯æ­£ç‰‡çš„é«˜æ½®å•¦â€”â€”é¢„å¤„ç†æŒ‡ä»¤&lt;/p&gt;

&lt;p&gt;é«˜æ½®ä¹‹å‰å†åŠ ä¸€ä¸ªé¢„é«˜æ½®^_^ï¼Œå¹²å˜›è¦é¢„å¤„ç†å‘¢ï¼Ÿå›å»çœ‹å›¾ä¸€ï¼Œè€å©†è¯´â€œä½ ç»™æˆ‘æ»šå‡ºå»ç¡æ²™å‘ï¼â€ å¦‚æœä½ æ²¡æœ‰é¢„å¤„ç†ï¼Œä½ æŒ‰ç…§é¡ºåºè¿è¡Œï¼Œå…ˆæ»šå‡ºå»äº†ä½ å¯èƒ½è¿˜ä¸æƒ³ç¡è§‰ï¼Œä½ åœ¨æ²™å‘ä¸Šçœ‹ç”µè§†çœ‹äº†å‡ ä¸ªå°æ—¶åæ‰æ‰“ç®—ç¡è§‰ï¼Œè¿™æ—¶å€™ä½ å‘ç°ä½ ç«Ÿç„¶å¿˜äº†ä»æˆ¿é—´æ‹¿æ•å¤´å’Œè¢«å­å‡ºæ¥äº†ï¼Œä½ è¿™æ—¶å€™å°±å»æ•²è€å©†çš„é—¨ï¼Œåˆæ˜¯ä¸€é¡¿è‡­éª‚ï¼Œä¹‹åä½ æ‰èƒ½ç¡è§‰â€¦â€¦æŠ˜è…¾ä¸ï¼Ÿ å¦‚æœä½ è¿›è¡Œäº†é¢„å¤„ç†ï¼Œå½“è€å©†è¯´å®ŒæŒ‡ä»¤ï¼Œå…¶ä¸­ä½ è·å–åˆ°å…³é”®å­—â€œç¡æ²™å‘â€ï¼Œä¸ç®¡æˆ‘æ»šå‡ºå»ä¹‹åç¡ä¸ç¡è§‰ï¼Œæˆ‘éƒ½å…ˆä»æˆ¿é—´æŠŠè¢«å­æ•å¤´æ‹¿åˆ°æ²™å‘ï¼Œè¿™æ ·æ˜¯ä¸æ˜¯æ•ˆç‡é«˜äº†å¾ˆå¤šï¼ŸåŒæ ·å¯¹äºCç³»çš„è¯­è¨€çš„å¼€å‘ï¼Œé¢„å¤„ç†å¯è°“ä¸¾è¶³è½»é‡ï¼Œå¦‚æœä½ é˜…è¯»è¿‡ä¼˜ç§€çš„Cæºä»£ç ï¼Œä½ ä¸€å®šçœ‹åˆ°äº†å¾ˆå¤š #define #if #error â€¦â€¦  é¢„ç¼–è¯‘å¯¹ç¨‹åºä¹‹åçš„ç¼–è¯‘æä¾›äº†å¾ˆå¤šæ–¹ä¾¿ä»¥åŠä¼˜åŒ–ï¼Œå¯¹äºé”™è¯¯å¤„ç†ã€åŒ…å¼•ç”¨ã€è·¨å¹³å°â€¦â€¦æœ‰ç€æå¤§çš„å¸®åŠ©ã€‚è€Œä¸”å¼€å‘ä¸­ä½¿ç”¨é¢„ç¼–è¯‘æŒ‡ä»¤å®Œæˆä¸€äº›äº‹æƒ…ä¹Ÿæ˜¯å¾ˆå±Œçš„äº‹æƒ…ï¼Œå¹¶ä¸”ä½ æ—¢ç„¶èµ°ä¸Šäº†ä¸€æ¡æ”¹å˜ä¸–ç•Œçš„é“è·¯é‚£ä¹ˆå½“ä¸€ä¸ªæœ‰é€¼æ ¼çš„ç¨‹åºçŒ¿çš„è§‰æ‚Ÿä¹Ÿéœ€è¦è§‰é†’å‘€&lt;/p&gt;

&lt;h2 id=&quot;æ–‡ä»¶åŒ…å«&quot;&gt;æ–‡ä»¶åŒ…å«&lt;/h2&gt;

&lt;h3 id=&quot;include&quot;&gt;#include&lt;/h3&gt;

&lt;p&gt;è¿™ä¸ªæˆ‘çœŸçš„ä¸æƒ³å¤šè¯´ï¼Œåªè¦ä½ å¤§å­¦Cè¯­è¨€è¯¾ç¨‹ä¸æ˜¯ä½“è‚²è€å¸ˆæ•™å¾—è¯ï¼Œä»–ä»¬è‚¯å®šè·Ÿä½ è¯´è¿‡#include â€œâ€ã€#include &amp;lt;&amp;gt;çš„åŒºåˆ«ï¼Œä»–ä»¬è‚¯å®šè¯´è¿‡#includeâ€œxxxâ€åŒ…å«å’Œä½¿ç”¨#include &lt;xxx&gt;åŒ…å«çš„ä¸åŒä¹‹å¤„å°±æ˜¯ä½¿ç”¨&amp;lt;&amp;gt;åŒ…å«æ—¶ï¼Œé¢„å¤„ç†å™¨ä¼šæœç´¢Cå‡½æ•°åº“å¤´æ–‡ä»¶è·¯å¾„ä¸‹çš„æ–‡ä»¶ï¼Œè€Œä½¿ç”¨â€œâ€åŒ…å«æ—¶é¦–å…ˆæœç´¢ç¨‹åºæ‰€åœ¨ç›®å½•ï¼Œå…¶æ¬¡æœç´¢ç³»ç»ŸPathå®šä¹‰ç›®å½•ï¼Œå¦‚æœè¿˜æ˜¯æ‰¾ä¸åˆ°æ‰ä¼šæœç´¢Cå‡½æ•°åº“å¤´æ–‡ä»¶æ‰€åœ¨ç›®å½•ã€‚&lt;/xxx&gt;&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥æˆ‘ä¸æƒ³ä¸ºäº†å¼¥è¡¥ä½ è€å¸ˆçŠ¯ä¸‹çš„é”™ï¼Œæˆ‘å°±ä¸æƒ³é‡å¤äº†ï¼Œæœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ä½¿ç”¨#includeçš„æ—¶å€™åŒ…å«æ–‡ä»¶çš„æ—¶å€™æ˜¯ä¸èƒ½é€’å½’åŒ…å«çš„ï¼Œä¾‹å¦‚a.hæ–‡ä»¶åŒ…å«b.hï¼Œè€Œb.hå°±ä¸èƒ½å†åŒ…å«a.häº†ï¼›è¿˜æœ‰å°±æ˜¯é‡å¤åŒ…å«(æ¯”å¦‚a.håŒ…å«äº†b.h,ç„¶åmain.cä¸­åˆåŒ…å«äº†a.hå’Œb.h)è™½ç„¶æ˜¯å…è®¸çš„ä½†æ˜¯è¿™ä¼šé™ä½ç¼–è¯‘æ€§èƒ½ã€‚é‚£è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ1ã€ä½¿ç”¨#importæ›¿ä»£include 2ã€ä½¿ç”¨å®åˆ¤æ–­(å®åˆ¤æ–­ä¸‹é¢ä¼šè¯¦è§£)ï¼Œxcodeå¾ˆèªæ˜ï¼Œåªè¦æ–°å»ºä¸€ä¸ªå¤´æ–‡ä»¶a.h é‡Œé¢å°±è‡ªåŠ¨å°±ç”Ÿæˆäº†&lt;/p&gt;

&lt;p&gt;&lt;em&gt;å›¾6&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-20-pic6.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªçœ‹ä¸æ‡‚ï¼Ÿä½ å¯ä»¥ç­‰çœ‹å®Œ#ifndefå’Œ#defineä¹‹åå°±æ˜ç™½äº†ï¼Œå¤§æ¦‚çš„åŸç†å°±æ˜¯ï¼Œç”¨å®å®šä¹‰åˆ¤æ–­ä¸€ä¸ªå®æ˜¯å¦å®šä¹‰äº†ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰åˆ™ä¼šå®šä¹‰è¿™ä¸ªå®ï¼Œè¿™æ ·ä»¥æ¥å¦‚æœå·²ç»åŒ…å«è¿‡åˆ™è¿™ä¸ªå®å®šä¹‰è‚¯å®šå·²ç»å®šä¹‰è¿‡äº†ï¼Œå³ä½¿å†åŒ…å«ä¹Ÿä¸ä¼šé‡æ–°å®šä¹‰äº†ï¼Œä¸‹é¢çš„ä»£ç ä¹Ÿå°±ä¸ä¼šåŒ…å«è¿›å»ã€‚&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªæ˜¯éCæ ‡å‡†åº“é‡Œé¢çš„é¢„å¤„ç†æŒ‡ä»¤ï¼Œä½†æ˜¯Xcodeä¸­å…è®¸ä½¿ç”¨ï¼Œæ‰€ä»¥ä¹Ÿå°±ä»‹ç»ä¸€ä¸‹å§ã€‚#include_nextæ˜¯GNU(ä¸€ç¾¤ç‰›é€¼çš„äººç–¯ç‹‚å¼€æºçš„ç»„ç»‡ï¼Œå¯ä»¥è¯´æ˜¯Linuxçš„çµé­‚)çš„ä¸€ä¸ªæ‰©å±•ï¼Œå¹¶ä¸æ˜¯æ ‡å‡†Cä¸­çš„æŒ‡ä»¤ ä¾‹å¦‚æœ‰ä¸ªæœç´¢è·¯å¾„é“¾ï¼Œåœ¨#includeä¸­ï¼Œå®ƒä»¬çš„æœç´¢é¡ºåºä¾æ¬¡æ˜¯Aï¼ŒBï¼ŒCï¼ŒDå’ŒEã€‚åœ¨Bç›®å½•ä¸­æœ‰ä¸ªå¤´æ–‡ä»¶å«a.hï¼Œåœ¨Dç›®å½•ä¸­ä¹Ÿæœ‰ä¸ªå¤´æ–‡ä»¶å«a.hï¼Œå¦‚æœåœ¨æˆ‘ä»¬çš„æºä»£ç ä¸­è¿™æ ·å†™#include &lt;a.h&gt;ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä¼šåŒ…å«çš„æ˜¯Bç›®å½•ä¸­çš„a.hå¤´æ–‡ä»¶ï¼Œå¦‚æœæˆ‘ä»¬è¿™æ ·å†™#include_next &lt;a.h&gt;é‚£ä¹ˆæˆ‘ä»¬å°±ä¼šåŒ…å«çš„æ˜¯Dç›®å½•ä¸­çš„a.hå¤´æ–‡ä»¶ã€‚#include_next &lt;a.h&gt;çš„æ„æ€æŒ‰æˆ‘ä»¬ä¸Šé¢çš„å¼•å·åŒ…å«ä¸­çš„è§£é‡Šæ¥è¯´å°±æ˜¯â€œåœ¨Bç›®å½•ä¸­çš„a.hå¤´æ–‡ä»¶åé¢çš„ç›®å½•è·¯å¾„ï¼ˆå³Cï¼ŒDå’ŒEï¼‰ä¸­æœç´¢a.hå¤´æ–‡ä»¶å¹¶åŒ…å«è¿›æ¥ï¼‰ã€‚#include_next &lt;a.h&gt;çš„æ“ä½œä¼šæ˜¯è¿™æ ·çš„ï¼Œå®ƒå°†åœ¨Aï¼ŒBï¼ŒCï¼ŒDå’ŒEç›®å½•ä¸­ä¾æ¬¡æœç´¢a.hå¤´æ–‡ä»¶ï¼Œé‚£ä¹ˆé¦–å…ˆå®ƒä¼šåœ¨Bç›®å½•ä¸­æœç´¢åˆ°a.hå¤´æ–‡ä»¶ï¼Œé‚£å®ƒå°±ä¼šä»¥Bç›®å½•ä½œä¸ºåˆ†å‰²ç‚¹ï¼Œæœç´¢Bç›®å½•åé¢çš„ç›®å½•ï¼ˆCï¼ŒDå’ŒEï¼‰ï¼Œç„¶ååœ¨è¿™åé¢çš„ç›®å½•ä¸­æœç´¢a.hå¤´æ–‡ä»¶ï¼Œå¹¶æŠŠåœ¨è¿™ä¹‹åæœç´¢åˆ°çš„a.hå¤´æ–‡ä»¶åŒ…å«è¿›æ¥ã€‚è¿™æ ·è¯´çš„è¯å¤§å®¶åº”è¯¥æ¸…æ¥šäº†å§ã€‚&lt;/a.h&gt;&lt;/a.h&gt;&lt;/a.h&gt;&lt;/a.h&gt;&lt;/p&gt;

&lt;h3 id=&quot;import&quot;&gt;#import&lt;/h3&gt;

&lt;p&gt;OCç‰¹æœ‰çš„å°±æ˜¯ä¸€ä¸ªæ™ºèƒ½çš„#includeï¼Œè§£å†³äº†#includeçš„é‡å¤åŒ…å«çš„é—®é¢˜ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å®å®šä¹‰&quot;&gt;å®å®šä¹‰&lt;/h2&gt;

&lt;h3 id=&quot;define&quot;&gt;#define&lt;/h3&gt;

&lt;p&gt;è¿™ä¸ªä½¿ç”¨çš„å°±å¤ªå¤šäº†ï¼Œä¸ªäººè®¤ä¸ºæ˜¯æ‰€æœ‰é¢„å¤„ç†æŒ‡ä»¤ä¸­æœ€é…·çš„ï¼å¿…é¡»è¦å­¦ä¹ ï¼è¿™é‡Œæˆ‘åšé¢œæ— è€»çš„è½¬è½½OneVâ€™s Den(å–µç¥)çš„æ–‡ç« ï¼Œä»–å†™çš„éå¸¸çš„æ£’ï¼&lt;a href=&quot;http://www.onevcat.com/2014/01/black-magic-in-macro/&quot; target=&quot;_blank&quot;&gt;å®å®šä¹‰çš„é»‘é­”æ³• - å®èœé¸Ÿèµ·é£æ‰‹å†Œ&lt;/a&gt;ï¼Œè¯·å«æˆ‘å¿«ä¹çš„æ¬è¿å·¥ï¼&lt;/p&gt;

&lt;p&gt;é™„ä¸Šé‚£å¤´å°ç‰›&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;
#define NSLog(format, ...)   fprintf(stderr, &quot;&amp;lt;%s : %d&amp;gt; %s\n&quot;,                                           \

[[[NSString stringWithUTF8String:__FILE__] lastPathComponent] UTF8String],  \

__LINE__, __func__);                                                        \

(NSLog)((format), ##__VA_ARGS__);                                           \

fprintf(stderr, &quot;\n ------------------\n/ Hello David Day! \\\n\\ my Macro Log ~   /\n ------------------\n            \\\n             \\   ^__^\n                 (OO)\__________\n                 (__)\\          )\\/\\\n                     ||_______ _)\n                     ||       W |\n       YYy           ww        ww\n&quot;);



&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;em&gt;å›¾9&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-20-pic9.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;undef&quot;&gt;#undef&lt;/h3&gt;

&lt;p&gt;å½“ä½ ä½¿ç”¨äº†#defineå®å®šä¹‰åï¼Œåˆ™åœ¨æ•´ä¸ªç¨‹åºçš„è¿è¡Œå‘¨æœŸå†…è¿™ä¸ªå®éƒ½æ˜¯æœ‰æ•ˆçš„ï¼Œä½†æœ‰æ—¶å€™æˆ‘ä»¬åœ¨æŸä¸ªé€»è¾‘é‡Œå¸Œæœ›è¿™ä¸ªå®å¤±æ•ˆä¸æƒ³ä½¿ç”¨ï¼Œåˆ™ä¼šä½¿ç”¨&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;#define NetworkOn //å®šä¹‰ä¸€ä¸ªå®ï¼Œå¦‚æœè¯¥å®å®šä¹‰äº†ï¼Œåˆ™åœ¨åº”ç”¨é‡Œä½¿ç”¨ç½‘ç»œ

-(void)closeNetwork{//çªç„¶å‘ç”Ÿæ„å¤–çš„æƒ…å†µï¼Œç½‘ç»œæ— æ³•ä½¿ç”¨äº†ï¼Œè°ƒç”¨è¯¥æ–¹æ³•ï¼Œå–æ¶ˆNetworkOnçš„å®å®šä¹‰
#undef NetworkOn
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;æ¡ä»¶ç¼–è¯‘&quot;&gt;æ¡ä»¶ç¼–è¯‘&lt;/h2&gt;

&lt;h3 id=&quot;if-else-endif&quot;&gt;#if #else #endif&lt;/h3&gt;

&lt;p&gt;ifå°±å’Œæˆ‘ä»¬å¸¸ç”¨çš„æ¡ä»¶è¯­å¥çš„ifä½¿ç”¨æ–¹å¼ä¸€æ ·ï¼Œ#ifçš„åé¢è·Ÿä¸Šæ¡ä»¶è¡¨è¾¾å¼ï¼Œåé¢è·Ÿä¸Šä¸€ä¸ª#endifè¡¨ç¤ºç»“æŸ#ifï¼Œè™½è¯´è¿™ç©æ„å„¿ç®€å•ï¼Œä½†æ˜¯ç”¨çš„å¥½ï¼Œå¯¹äºæŸäº›å–å·§çš„å·¥ä½œç‰¹åˆ«å®¹æ˜“å®ç°ã€‚æ¯”å¦‚ä½ ç°åœ¨æœ‰è¿™æ ·çš„éœ€æ±‚ï¼Œæˆ‘çš„ç¨‹åºå¹³æ—¶è°ƒè¯•æ¨¡å¼çš„æ—¶å€™éœ€è¦æ‰“å°ä¸€äº›logï¼Œä½†æ˜¯å‘å¸ƒæ¨¡å¼çš„åº”ç”¨å°±ä¸ç”¨å†æ‰“å°logäº†ï¼Œæ€ä¹ˆåŠï¼Ÿå¾ˆå¤šäººå°±è¯´å‘å¸ƒçš„æ—¶å€™å§logè¯­å¥ä¸€å¥ä¸€å¥çš„åˆ é™¤å‘—~ é‚£å®¢æˆ·å‘çƒ‚å’‹è¯´ä½ å†™çš„ä¸œè¥¿æ˜¯ç‹—å±è®©ä½ ä¿®æ”¹ï¼Œæ‰€ä»¥ä½ åˆè¦å›æ¥è°ƒè¯•ï¼Œå½“ä½ è°ƒè¯•çš„æ—¶å€™ä½ èŠèŠ±è‚¯å®šä¸€ç´§,ä»¥å‰çš„è°ƒè¯•è¯­å¥å› ä¸ºè¿‡äºè‡ªä¿¡åœ¨å‘å¸ƒçš„æ—¶å€™å…¨éƒ½åˆ é™¤äº†ï¼Œåˆæƒ³ä¸åˆ°å‘å¸ƒååˆè¢«è¦æ±‚ä¿®æ”¹~ï¼Œæœ‰åŸºå‹å°±è¯´äº†ï¼Œé‚£å°±ä¸åˆ é™¤logè¯­å¥å‘—ï¼Œåæ­£æ˜¯æ‰“å°åˆ°æ§åˆ¶å°çš„ä¿¡æ¯ï¼Œç”¨æˆ·åˆçœ‹ä¸åˆ°~ï¼Œæœç„¶æ²¡æœ‰å®‰å…¨æ„è¯†ï¼Œä¼ä¸šå¼€å‘ä¸æ˜¯å­¦é›·é”‹ï¼Œä¸ç”¨æŠŠä½ çš„æ‰€æœ‰logéƒ½å†™åœ¨æ—¥è®°æœ¬ï¼Œæœ‰æ—¶å€™ä½ çš„è½¯ä»¶è¢«ç ´è§£çš„åŸå› å°±æ˜¯å› ä¸ºä½ çš„è°ƒè¯•ä¿¡æ¯å‡ºå–äº†ä½ ã€‚å®‰å…¨æ„è¯†ä¸å¯æ— ï¼Œä¸ç„¶è€ç‹æ›¿ä½ ç”Ÿå­©å­~~~~~ã€‚&lt;/p&gt;

&lt;p&gt;æ€ä¹ˆåšå‘¢ï¼Ÿ&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;//swiftè¯­è¨€&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#if DEBUG &lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dlog&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; 
    &lt;span class=&quot;nf&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#else&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dlog&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#endif&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;DEBUGæ˜¯xcodeçš„é¢„å®šä¹‰çš„å®ï¼Œè¿™ä¸ªä¸œè¥¿å¤šçš„å¾ˆå‘¢ï¼Œè¦æ…¢æ…¢æŒ–æ˜å‘¢ã€‚ ä»¥åæ‰“å°logä½ éƒ½åªä½¿ç”¨dlog()è¿™ä¸ªå‡½æ•°ï¼Œå¦‚æœä½ æ˜¯åœ¨è°ƒè¯•æ¨¡å¼çš„æ—¶å€™å°±ä¼šæ‰“å°ï¼Œå¦åˆ™å°±ä¸ä¼šæ‰“å°äº†ã€‚&lt;/p&gt;

&lt;p&gt;å…¶ä»–ä¾‹å­ï¼š&lt;/p&gt;

&lt;p&gt;åˆ¤æ–­æ˜¯å¦å¼€å¯ARCï¼Œæœ‰äº›åº“éœ€è¦ARCæ”¯æŒï¼Œåˆ™åœ¨ç¼–è¯‘ä¹‹å‰å¯ä»¥åˆ¤æ–­ç”¨æˆ·æœ‰æ²¡æœ‰å¼€å¯ARC&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;#if !__has_feature(objc_arc)
//å¦‚æœæ²¡æœ‰å¼€å¯ARCè¿™é‡Œå¯ä»¥åšä¸€äº›é”™è¯¯å¤„ç† æ¯”å¦‚ï¼š
#error &quot;å•Š å•Š å•Š~ ä¼¦å®¶éœ€è¦ARC&quot;
#endif
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åŒæ ·__has_feature(objc_arc)è¿™ç©æ„å„¿ä¹Ÿæ˜¯xcodeé¢„ç½®çš„ ï¼Œ å‰ç¼€æ˜¯è¿™ä¸ªçš„â€__â€œéƒ½æ˜¯é¢„å®šå®ï¼›&lt;/p&gt;

&lt;p&gt;åˆæ¯”å¦‚ï¼Œå¯¹ä¸åŒç‰ˆæœ¬çš„osç³»ç»Ÿåšç­–ç•¥&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;#if __IPHONE_OS_VERSION_MIN_REQUIRED &amp;lt; __IPHONE_7_0
//å¦‚æœiOSç‰ˆæœ¬ä½äº7.0ï¼Œè¿™é‡Œå¯ä»¥å¹²ä¸€äº›äº‹æƒ…
#endif
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åˆæˆ–è€…åˆ¤æ–­è®¾å¤‡ç±»å‹&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;#define IS_IPAD (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPad)
#if IS_IPAD
//è¿™å°è®¾å¤‡æ˜¯IPADå‘€~~~~
#else
//è¿™è´§æ˜¯IPhone
#endif
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™ä¸ªä¸œè¥¿ç®€å•ä½†æ˜¯å¾ˆå¸¸ä½¿ç”¨ï¼Œæ­£æ‰€è°“IFåœ¨æ‰‹ï¼Œå¤©ä¸‹æˆ‘æœ‰ å“ˆå“ˆå“ˆ&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt; #if define  #ifdef  #ifndef  #elif
ã€€ã€€#if define = #ifdef

ã€€ã€€#if !define = #ifndef

ã€€ã€€#elif = &quot;else if&quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;é”™è¯¯è­¦å‘Šå¤„ç†&quot;&gt;é”™è¯¯ã€è­¦å‘Šå¤„ç†&lt;/h2&gt;

&lt;h3 id=&quot;error&quot;&gt;#error&lt;/h3&gt;

&lt;p&gt;å¦‚æœç¼–è¯‘å™¨é‡åˆ°è¿™è´§ï¼Œé©¬ä¸Šå°±ä¼šç½¢å·¥ã€‚å†è¯´Xcodeçš„é”™è¯¯çº æ­£åŠŸèƒ½è¿™ä¹ˆå¼ºå¤§ï¼Œæ‰€ä»¥å‡ ä¹ä¸å¯èƒ½åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­é‡åˆ°#erroräº†ï¼Œæ‰€ä»¥è¯´è¿™è´§æ²¡ç”¨ï¼Ÿéä¹Ÿ~ï¼Œæˆ‘ä»¬æ˜¯å—è¿‡é«˜ç­‰æ•™è‚²çš„é«˜æç”Ÿï¼Œæˆ‘ä»¬è¦æ‡‚å¾—è¾©è¯è§‚ç‚¹è¿˜è¦äº†è§£ä»·å€¼å®šç†ï¼ä»»ä½•äº‹ç‰©éƒ½æœ‰å­˜åœ¨çš„ä»·å€¼çš„ã€‚è™½è¯´ä»Šå¤©çš„IDEå¾ˆå¥½å¾ˆå¼ºå¤§ï¼Œ#errorä¼¼ä¹æ²¡ä»€ä¹ˆç”¨äº†~ä½†æ˜¯è¿˜æœ‰æœ‰ä¸€ç¾¤çŒ¿ç±»å­¤é«˜å†·å‚²ï¼Œéšå±…å±±æ—ï¼Œä»–ä»¬é„™è§†ä¸€åˆ‡IDEï¼Œä»–ä»¬åšä¿¡Notepadå°±æ˜¯ä»–ä»¬çš„å± é¾™å®åˆ€â€¦â€¦&lt;/p&gt;

&lt;p&gt;å¯¹äºè¿™äº›è™šå¹»é£˜æ¸ºçš„ç¨‹åºçŒ¿ä»¬ï¼Œä»–ä»¬è¿˜æ˜¯éœ€è¦#erroræ¥ç»™ä»–ä»¬é¢„æŠ¥ç¼–è¯‘å‰çš„é”™è¯¯çš„ã€‚æˆ‘ä»¬è¯´ç‚¹æœ‰ä»·å€¼çš„ï¼Œå¦‚æœéè¦ç”¨#errorï¼Œé‚£åœ¨æˆ‘ä»¬å½“ä¸‹çš„å¼€å‘ä¸­æ€ä¹ˆç”¨ï¼Ÿ&lt;/p&gt;

&lt;p&gt;ç°åœ¨#errorè¿˜æ˜¯æœ‰ç”¨çš„ï¼Œå°¤å…¶æ˜¯ä½ åœ¨å¼€å‘ä¸€ä¸ªåº“çš„æ—¶å€™ï¼Œè¿™ä¸ªåº“çš„ä½¿ç”¨éœ€è¦ä¸€å®šçš„æ¡ä»¶ï¼Œå¦‚æœä¸æ»¡è¶³è¿™ä¸ªæ¡ä»¶ï¼Œä½ å°±ä¸è®©ä½¿ç”¨è€…ç¼–è¯‘ã€‚è¿™æ ·ä¸å°±å¯ä»¥ä½¿ç”¨#errorå•¦å˜›&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;#if !__has_feature(objc_arc)
#error &quot;æˆ‘çš„ä½è°ƒä¸æ˜¯ä½ è£…é€¼çš„èµ„æœ¬ï¼è¿™ä¸ªåº“éœ€è¦å¼€å¯ARCï¼Œä¸ç„¶ä½ åˆ«ç”¨ï¼&quot;
#endif
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é‚£ä¹ˆå¦‚æœç”¨æˆ·æ²¡æœ‰å¼€å¯ARCå°±æ— æ³•è¿›è¡Œç¼–è¯‘äº†ï¼Œå› ä¸ºxcodeçœ‹åˆ°#errorå°±ä¸ç¼–è¯‘äº†ï¼Œåœ¨è¿™é‡Œåªæœ‰å¼€å¯äº†ARCï¼Œ#erroræ‰ä¼šä¸è§ã€‚&lt;/p&gt;

&lt;h3 id=&quot;warning&quot;&gt;#warning&lt;/h3&gt;

&lt;p&gt;è¿™ä¸ªç”¨æ³•å¾ˆç®€å•ï¼Œåªè¦åé¢è·Ÿä¸Šä½ æƒ³è­¦å‘Šçš„è¯å°±OKäº†ï¼Œè¿™æ ·ä½ å°±å¯ä»¥è®©ç¼–è¯‘å™¨æé†’è¿™ä¸ªè­¦å‘Šã€‚&lt;/p&gt;

&lt;p&gt;&lt;em&gt;å›¾10&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-20-pic10.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¦‚æœä½ åœ¨Xcodeä¸­è®¾ç½®äº†&lt;/p&gt;

&lt;p&gt;&lt;em&gt;å›¾11&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-20-pic11.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¦‚æœä½ è®¾ç½®æˆYesï¼Œé‚£ä¹ˆä½ çš„waringå°±ç­‰äºerrorï¼Œç¼–è¯‘ä¸äº†çš„å“¦ã€‚&lt;/p&gt;

&lt;p&gt;è¯·å†æ¬¡å«æˆ‘å¿«ä¹çš„å°æ¬è¿å·¥~ åˆæ˜¯ä»– â€”-&amp;gt;Onevâ€™s Denå†™çš„ä¸œè¥¿ï¼Œæˆ‘å°±æ˜¯å–œæ¬¢ä»–ï¼Œæ€ä¹ˆæ ·æ€ä¹ˆæ ·ï¼Ÿ&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://onevcat.com/2013/05/talk-about-warning/&quot; target=&quot;_blank&quot;&gt;è°ˆè°ˆObjective-Cçš„è­¦å‘Š&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;ç¼–è¯‘å™¨æ§åˆ¶&quot;&gt;ç¼–è¯‘å™¨æ§åˆ¶&lt;/h2&gt;

&lt;h3 id=&quot;pragma&quot;&gt;#pragma&lt;/h3&gt;

&lt;p&gt;å¤§å®¶éƒ½è¯´åœ¨æ‰€æœ‰çš„é¢„å¤„ç†æŒ‡ä»¤ä¸­ï¼Œ#Pragma æŒ‡ä»¤å¯èƒ½æ˜¯æœ€å¤æ‚çš„äº†ï¼Œå®ƒçš„ä½œç”¨æ˜¯è®¾å®šç¼–è¯‘å™¨çš„çŠ¶æ€æˆ–è€…æ˜¯æŒ‡ç¤ºç¼–è¯‘å™¨å®Œæˆä¸€äº›ç‰¹å®šçš„åŠ¨ä½œã€‚#pragmaæŒ‡ä»¤å¯¹æ¯ä¸ªç¼–è¯‘å™¨ç»™å‡ºäº†ä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨ä¿æŒä¸Cå’ŒC++è¯­è¨€å®Œå…¨å…¼å®¹çš„æƒ…å†µä¸‹ï¼Œç»™å‡ºä¸»æœºæˆ–æ“ä½œç³»ç»Ÿä¸“æœ‰çš„ç‰¹å¾ã€‚ä¾æ®å®šä¹‰ï¼Œç¼–è¯‘æŒ‡ç¤ºæ˜¯æœºå™¨æˆ–æ“ä½œç³»ç»Ÿä¸“æœ‰çš„ï¼Œä¸”å¯¹äºæ¯ä¸ªç¼–è¯‘å™¨éƒ½æ˜¯ä¸åŒçš„ã€‚&lt;/p&gt;

&lt;p&gt;å…¶æ ¼å¼ä¸€èˆ¬ä¸º: #pragma Paraã€‚å…¶ä¸­Para ä¸ºå‚æ•°&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å°±è¯´è¯´iOSä¸‹ï¼Œå¸¸ç”¨çš„&lt;/p&gt;

&lt;h3 id=&quot;pragma-mark&quot;&gt;#pragma mark&lt;/h3&gt;

&lt;p&gt;å¦‚æœä¸€ä¸ªæ–‡ä»¶ä»£ç é‡å¾ˆå¤§ï¼Œæœ‰æ—¶å€™æ‰¾æŸæ®µé€»è¾‘ä¸å¤ªå¥½æ‰¾ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨#pragma markï¼&lt;/p&gt;

&lt;p&gt;æ¯”å¦‚è¿™æ ·ï¼š&lt;/p&gt;

&lt;p&gt;&lt;em&gt;å›¾12&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-20-pic12.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;å›¾13&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-20-pic13.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;åœ¨æ–¹æ³•å¯¼èˆªå“ªé‡Œå°±ä¼šå‡ºç°ä½ çš„markäº† æ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿å‘€&lt;/p&gt;

&lt;p&gt;å¦‚æœä½¿ç”¨äº† â€œ#pragma mark -â€œ å¦‚è¿™æ ·ï¼š&lt;/p&gt;

&lt;h3 id=&quot;pragma-mark--&quot;&gt;#pragma mark -&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;#pragma mark -
#pragma mark è¿™é‡Œæ˜¯applicationWillTerminateæ–¹æ³•å‘€~
- (void)applicationWillTerminate:(UIApplication *)application {
    // Called when the application is about to terminate. Save data if appropriate. See also applicationDidEnterBackground:.
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å°±ä¼šè¿™æ ·ï¼Œ&lt;/p&gt;

&lt;p&gt;&lt;em&gt;å›¾14&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://daiweilai.github.io/img/post/2015-1-20-pic14.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è‡ªåŠ¨åˆ†éš”å¼€äº†ï¼ï¼ï¼&lt;/p&gt;

&lt;h3 id=&quot;pragma-message&quot;&gt;#pragma message(â€œâ€)&lt;/h3&gt;

&lt;p&gt;å¯ä»¥è¾“å‡ºè°ƒè¯•ä¿¡æ¯&lt;/p&gt;

&lt;p&gt;æ§åˆ¶ç¼–è¯‘å™¨è¡Œä¸ºä¸è¿‡å¤šè§£é‡Šäº†&lt;/p&gt;

&lt;h3 id=&quot;pragma-clang-diagnostic-push&quot;&gt;#pragma clang diagnostic push&lt;/h3&gt;

&lt;h3 id=&quot;pragma-clang-diagnostic-ignored-clangçš„å‚æ•°&quot;&gt;#pragma clang diagnostic ignored â€œclangçš„å‚æ•°â€&lt;/h3&gt;

&lt;h3 id=&quot;pragma-clang-diagnostic-pop&quot;&gt;#pragma clang diagnostic pop&lt;/h3&gt;

&lt;p&gt;è‡ªè¡Œ&lt;a href=&quot;http://clang.llvm.org/get_started.html&quot; target=&quot;_blank&quot;&gt;Clangä½¿ç”¨æ‰‹å†Œ&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;pragmaéå¸¸å¤æ‚éœ€è¦ä½ å¯¹ç¼–è¯‘å™¨åº•å±‚éå¸¸çš„äº†è§£ï¼Œåªæœ‰å½“ä½ å¼€å‘ä¸€äº›æ¯”è¾ƒåº•å±‚çš„frameworkçš„æ—¶å€™æ‰å¯èƒ½æ¯”è¾ƒå¤šç”¨çš„ï¼Œæˆ‘æ˜¯åˆå­¦è€…ï¼Œæˆ‘ä¸ç”¨æˆ‘æ€•è°ï¼Ÿ&lt;/p&gt;

&lt;h2 id=&quot;å…¶ä»–&quot;&gt;å…¶ä»–&lt;/h2&gt;

&lt;h3 id=&quot;line&quot;&gt;#line&lt;/h3&gt;

&lt;p&gt;åœ¨è¯´è¿™ä¸ªä¸œè¥¿çš„æ—¶å€™æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªé¢„å®šä¹‰çš„å®ï¼Œ&lt;strong&gt;LINE&lt;/strong&gt;ï¼Œæˆ‘ä»¬åœ¨ã€Šå®å®šä¹‰çš„é»‘é­”æ³• - å®èœé¸Ÿèµ·é£æ‰‹å†Œã€‹è‡ªå®šä¹‰NSLogä¸­è§è¿‡å§&lt;/p&gt;

&lt;p&gt;Cè¯­è¨€ä¸­çš„__LINE__ç”¨ä»¥æŒ‡ç¤ºæœ¬è¡Œè¯­å¥åœ¨æºæ–‡ä»¶ä¸­çš„ä½ç½®ä¿¡æ¯ã€‚è€Œ#lineå°±æ˜¯å¯ä»¥æ”¹å˜å½“å‰è¡Œçš„è¡Œå·åœ¨ç¼–è¯‘å™¨ä¸­çš„è¡¨ç¤ºï¼Œå¹¶ä¸”ä¹‹åçš„è¡Œå·ä¹Ÿä¼šç›¸åº”çš„æ”¹å˜ï¼Œæ¯”å¦‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;1 #include &amp;lt;stdio.h&amp;gt;
2 main(){
3     printf(&quot;%d\n&quot;,LINE);
4 #line 100  //æŒ‡å®šä¸‹ä¸€è¡Œçš„LINEä¸º100
5     printf(&quot;%d\n&quot;,LINE);
6     printf(&quot;%d\n&quot;,LINE);
7     };
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¾“å‡ºä¸ºï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-objectivec&quot;&gt;3
100
101
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;ç»“è¯­&quot;&gt;ç»“è¯­&lt;/h2&gt;

&lt;p&gt;ã€€ã€€è¿™ç¯‡æ–‡ç« å®Œäº†~ è¿™ç¯‡æ–‡ç« æ—¢æ˜¯æˆ‘å­¦ä¹ çš„ç¬”è®°ä¹Ÿæ˜¯æˆ‘æ€è€ƒçš„æ„Ÿæ‚Ÿå’Œä¸€äº›æŠ€æœ¯èµ„æ–™çš„é›†åˆï¼Œæˆ‘å¾ˆç”¨å¿ƒçš„å†™ï¼Œç™½å¤©ä¸Šç­å†™ä»£ç ï¼Œæ™šä¸Šè¦å‡†å¤‡æœ¬ç§‘çš„æ¯•ä¸šè®¾è®¡ï¼Œå‘¨æœ«é™ªå¥³æœ‹å‹ï¼Œæ‰€ä»¥æˆ‘åªæœ‰åœ¨æ‹‰å±è¹²å‘çš„æ—¶å€™ä¸€ç‚¹ä¸€ç‚¹å†™å‡ºæ¥çš„ï¼Œå…¶ä¸­ä¸€å®šé”™æ¼ç™¾å‡ºï¼Œæ‰€ä»¥å¸Œæœ›çœ‹åˆ°æ–‡ç« çš„æœ‹å‹å°½æƒ…çš„å–·ï¼ç –å¤´ä¸è¦çœï¼åæ­£æˆ‘éƒ½å†™ä»£ç äº†æˆ‘è¿˜æ€•è°ï¼Ÿ&lt;/p&gt;

&lt;p&gt;ã€€ã€€ä½†æ˜¯æœ€ç»ˆå˜›ï¼Œæˆ‘è¿˜æ˜¯å¸Œæœ›èƒ½å¸®åˆ°åˆšåˆšå¼€å§‹å­¦ä¹ çš„æœ‹å‹ä»¬ï¼Œæ¯•ç«Ÿä½ ä¸«çš„å†™çš„ä»£ç å¤ªå·®ï¼Œä¹Ÿæ˜¯åœ¨æ±¡æŸ“ç¯å¢ƒå‘€ï¼ï¼ä¸æ˜¯å¼€ç©ç¬‘ï¼ä¸å•å•æ±¡æŸ“ç¯å¢ƒï¼Œä½ è¿˜ç ´åä¸–ç•Œå’Œå¹³ï¼Œå¦‚æœä½ çš„ä»£ç æ•ˆç‡å¾ˆå·®ï¼Œä½ æƒ³æƒ³å¦‚æœä½ çš„ä»£ç è¿è¡Œåœ¨ç”µè„‘ä¸Šæˆ–è€…æ‰‹æœºä¸Šé‚£ä¹ˆæ˜¯ä¸æ˜¯å¾ˆè´¹ç”µï¼Ÿè´¹ç”µäº†æ˜¯ä¸æ˜¯è¦çƒ§å¾ˆå¤šç…¤ç‚­æ¥å‘ç”µï¼Ÿå¤§æ°”ä¸­çš„æœ‰å®³æ°”ä½“æ˜¯ä¸æ˜¯è¶Šæ¥è¶Šå¤šäº†ï¼Ÿæ¸©å®¤æ•ˆåº”ï¼Œè‡­æ°§å±‚ç ´åï¼ŒåœŸåœ°æ²™æ¼ åŒ–ï¼ŒåŒ—äº¬æ²™å°˜æš´ï¼Œæ‹¿é’±æ²»ç†ï¼Œé’±ï¼Œè´ªæ±¡ï¼Œè…è´¥ï¼Œé©å‘½ï¼Œç¾å›½å‚æˆ˜ï¼Œæœé²œæ€’ç‚¹æ ¸æ­¦â€¦â€¦éƒ½æ€ªä½ ï¼ï¼çŸ¥é“äº†å§ã€‚&lt;/p&gt;

&lt;p&gt;ã€€ã€€è¿˜æœ‰å“¦ï¼Œè½¬è½½ä¸æ³¨æ˜ï¼BUGä¸€ç”Ÿéšã€‚ä½ è‡ªå·±çœ‹ç€åŠ&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;å†™ä»£ç å°±æ˜¯åœ¨ç»´æŠ¤ä¸–ç•Œå’Œå¹³ï¼Œè°¢è°¢ @æˆ´ä¼Ÿæ¥&lt;/p&gt;
&lt;/blockquote&gt;
</description>
        <pubDate>Tue, 20 Jan 2015 20:00:00 +0800</pubDate>
        <link>http://localhost:4000/2015/01/20/iOS%E4%B8%AD%E7%9A%84%E9%A2%84%E7%BC%96%E8%AF%91%E6%8C%87%E4%BB%A4%E7%9A%84%E5%88%9D%E6%AD%A5%E6%8E%A2%E7%A9%B6/</link>
        <guid isPermaLink="true">http://localhost:4000/2015/01/20/iOS%E4%B8%AD%E7%9A%84%E9%A2%84%E7%BC%96%E8%AF%91%E6%8C%87%E4%BB%A4%E7%9A%84%E5%88%9D%E6%AD%A5%E6%8E%A2%E7%A9%B6/</guid>
        
        <category>åŸºç¡€æ•´ç†</category>
        
        <category>é¢„ç¼–è¯‘</category>
        
        <category>å®å®šä¹‰</category>
        
        
      </item>
    
  </channel>
</rss>
